(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d41b023"],{"0511":function(e,t,r){"use strict";r.r(t);var o=r("7a23");const a=e=>(Object(o["pushScopeId"])("data-v-8b40f272"),e=e(),Object(o["popScopeId"])(),e),n={class:"registerWrap"},l=a(()=>Object(o["createElementVNode"])("div",{class:"wel"},"VolcanO",-1)),s={style:{margin:"16px"}};function c(e,t,r,a,c,i){const d=Object(o["resolveComponent"])("Field"),u=Object(o["resolveComponent"])("CellGroup"),b=Object(o["resolveComponent"])("Button"),m=Object(o["resolveComponent"])("Form");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",n,[l,Object(o["createVNode"])(m,{onSubmit:e.register.onSubmit},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(u,{inset:""},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(d,{modelValue:e.register.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.register.username=t),name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),Object(o["createVNode"])(d,{modelValue:e.register.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.register.password=t),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),Object(o["createElementVNode"])("div",s,[Object(o["createVNode"])(b,{loading:e.register.loading,round:"",block:"",type:"primary","native-type":"submit"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" 立即注册 ")]),_:1},8,["loading"])])]),_:1},8,["onSubmit"]),Object(o["createElementVNode"])("div",{class:"toLogin",onClick:t[2]||(t[2]=(...t)=>e.register.toLogin&&e.register.toLogin(...t))},"已有账号？去登录")])}r("22fa");var i=r("2e1b"),d=(r("4d86"),r("a136")),u=(r("21a7"),r("f23a")),b=(r("3b21"),r("4b9e")),m=(r("27f1"),r("1c96")),p=(r("14d9"),r("9ab4")),g=r("ce1f"),f=r("5502"),O=r("6605"),j=r("2eac");let h=class extends g["b"]{constructor(){super(...arguments),this.register=Object(g["c"])(()=>{const e=Object(f["b"])(),t=Object(o["ref"])(""),r=Object(o["ref"])(""),a=Object(O["e"])();let n=Object(o["ref"])(!1);const l=t=>{n.value=!0,e.state.IM.connect.registerUser(t).then(()=>{Object(m["a"])("注册成功"),a.push("/login")}).catch(e=>{console.log(e,"eeee");let t={};e.data&&(t=JSON.parse(e.data)),t.error===j["a"].registerUnique?Object(m["a"])("用户已存在"):Object(m["a"])("注册失败")}).finally(()=>{n.value=!1})},s=e=>{l(e)},c=()=>{a.push("/login")};return{username:t,password:r,loading:n,toLogin:c,onSubmit:s}})}};h=Object(p["a"])([Object(g["a"])({components:{Form:b["a"],Field:u["a"],CellGroup:d["a"],Button:i["b"]}})],h);var v=h,V=(r("c30f"),r("6b0d")),w=r.n(V);const S=w()(v,[["render",c],["__scopeId","data-v-8b40f272"]]);t["default"]=S},"3b21":function(e,t,r){"use strict";r("68ef")},"4b9e":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var o=r("23f9"),a=r("7a23"),n=r("1fba"),l=r("e5f6"),s=r("d243"),c=r("8db7"),i=r("450f"),d=r("efd9");const[u,b]=Object(n["a"])("form"),m={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:l["f"],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:l["g"],showErrorMessage:l["g"],errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var p=Object(a["defineComponent"])({name:u,props:m,emits:["submit","failed"],setup(e,{emit:t,slots:r}){const{children:o,linkChildren:n}=Object(i["useChildren"])(s["g"]),l=e=>e?o.filter(t=>e.includes(t.name)):o,u=e=>new Promise((t,r)=>{const o=[],a=l(e);a.reduce((e,t)=>e.then(()=>{if(!o.length)return t.validate().then(e=>{e&&o.push(e)})}),Promise.resolve()).then(()=>{o.length?r(o):t()})}),m=e=>new Promise((t,r)=>{const o=l(e);Promise.all(o.map(e=>e.validate())).then(e=>{e=e.filter(Boolean),e.length?r(e):t()})}),p=e=>{const t=o.find(t=>t.name===e);return t?new Promise((e,r)=>{t.validate().then(t=>{t?r(t):e()})}):Promise.reject()},g=t=>"string"===typeof t?p(t):e.validateFirst?u(t):m(t),f=e=>{"string"===typeof e&&(e=[e]);const t=l(e);t.forEach(e=>{e.resetValidation()})},O=()=>o.reduce((e,t)=>(e[t.name]=t.getValidationStatus(),e),{}),j=(e,t)=>{o.some(r=>r.name===e&&(r.$el.scrollIntoView(t),!0))},h=()=>o.reduce((e,t)=>(e[t.name]=t.formValue.value,e),{}),v=()=>{const r=h();g().then(()=>t("submit",r)).catch(o=>{t("failed",{values:r,errors:o}),e.scrollToError&&o[0].name&&j(o[0].name)})},V=e=>{Object(c["c"])(e),v()};return n({props:e}),Object(d["a"])({submit:v,validate:g,getValues:h,scrollToField:j,resetValidation:f,getValidationStatus:O}),()=>{var e;return Object(a["createVNode"])("form",{class:b(),onSubmit:V},[null==(e=r.default)?void 0:e.call(r)])}}});const g=Object(o["a"])(p);var f=g},"53c6":function(e,t,r){},c30f:function(e,t,r){"use strict";r("53c6")}}]);
//# sourceMappingURL=chunk-2d41b023.acbec963.js.map