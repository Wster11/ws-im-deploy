(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4248d516"],{"02ab":function(e,t,o){"use strict";o("68ef"),o("cb51"),o("3743"),o("8a0b")},"1f5f":function(e,t,o){"use strict";o("f0ab")},"3b21":function(e,t,o){"use strict";o("68ef")},"4b9e":function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var a=o("23f9"),l=o("7a23"),n=o("1fba"),c=o("e5f6"),r=o("d243"),i=o("8db7"),s=o("450f"),d=o("efd9");const[u,f]=Object(n["a"])("form"),b={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:c["f"],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:c["g"],showErrorMessage:c["g"],errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var m=Object(l["defineComponent"])({name:u,props:b,emits:["submit","failed"],setup(e,{emit:t,slots:o}){const{children:a,linkChildren:n}=Object(s["useChildren"])(r["g"]),c=e=>e?a.filter(t=>e.includes(t.name)):a,u=e=>new Promise((t,o)=>{const a=[],l=c(e);l.reduce((e,t)=>e.then(()=>{if(!a.length)return t.validate().then(e=>{e&&a.push(e)})}),Promise.resolve()).then(()=>{a.length?o(a):t()})}),b=e=>new Promise((t,o)=>{const a=c(e);Promise.all(a.map(e=>e.validate())).then(e=>{e=e.filter(Boolean),e.length?o(e):t()})}),m=e=>{const t=a.find(t=>t.name===e);return t?new Promise((e,o)=>{t.validate().then(t=>{t?o(t):e()})}):Promise.reject()},g=t=>"string"===typeof t?m(t):e.validateFirst?u(t):b(t),p=e=>{"string"===typeof e&&(e=[e]);const t=c(e);t.forEach(e=>{e.resetValidation()})},j=()=>a.reduce((e,t)=>(e[t.name]=t.getValidationStatus(),e),{}),O=(e,t)=>{a.some(o=>o.name===e&&(o.$el.scrollIntoView(t),!0))},V=()=>a.reduce((e,t)=>(e[t.name]=t.formValue.value,e),{}),v=()=>{const o=V();g().then(()=>t("submit",o)).catch(a=>{t("failed",{values:o,errors:a}),e.scrollToError&&a[0].name&&O(a[0].name)})},h=e=>{Object(i["c"])(e),v()};return n({props:e}),Object(d["a"])({submit:v,validate:g,getValues:V,scrollToField:O,resetValidation:p,getValidationStatus:j}),()=>{var e;return Object(l["createVNode"])("form",{class:f(),onSubmit:h},[null==(e=o.default)?void 0:e.call(o)])}}});const g=Object(a["a"])(m);var p=g},"72ff":function(e,t,o){"use strict";o("68ef"),o("e3b3"),o("d9d2")},"8a0b":function(e,t,o){},d9d2:function(e,t,o){},dc94:function(e,t,o){"use strict";o.d(t,"a",(function(){return p}));var a=o("23f9"),l=o("7a23"),n=o("1fba"),c=o("e5f6"),r=o("5aa0"),i=o("d243"),s=o("fa8a"),d=o("9a1c");const[u,f]=Object(n["a"])("nav-bar"),b={title:String,fixed:Boolean,zIndex:c["f"],border:c["g"],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var m=Object(l["defineComponent"])({name:u,props:b,emits:["click-left","click-right"],setup(e,{emit:t,slots:o}){const a=Object(l["ref"])(),n=Object(s["a"])(a,f),c=e=>t("click-left",e),u=e=>t("click-right",e),b=()=>o.left?o.left():[e.leftArrow&&Object(l["createVNode"])(d["a"],{class:f("arrow"),name:"arrow-left"},null),e.leftText&&Object(l["createVNode"])("span",{class:f("text")},[e.leftText])],m=()=>o.right?o.right():Object(l["createVNode"])("span",{class:f("text")},[e.rightText]),g=()=>{const{title:t,fixed:n,border:s,zIndex:d}=e,g=Object(r["f"])(d),p=e.leftArrow||e.leftText||o.left,j=e.rightText||o.right;return Object(l["createVNode"])("div",{ref:a,style:g,class:[f({fixed:n}),{[i["b"]]:s,"van-safe-area-top":e.safeAreaInsetTop}]},[Object(l["createVNode"])("div",{class:f("content")},[p&&Object(l["createVNode"])("div",{class:[f("left"),i["h"]],onClick:c},[b()]),Object(l["createVNode"])("div",{class:[f("title"),"van-ellipsis"]},[o.title?o.title():t]),j&&Object(l["createVNode"])("div",{class:[f("right"),i["h"]],onClick:u},[m()])])])};return()=>e.fixed&&e.placeholder?n(g):g()}});const g=Object(a["a"])(m);var p=g},e31f:function(e,t,o){"use strict";o.d(t,"a",(function(){return g}));var a=o("23f9"),l=o("7a23"),n=o("1fba"),c=o("e5f6"),r=o("5aa0"),i=o("450f"),s=o("5913");const[d,u]=Object(n["a"])("switch"),f={size:c["f"],loading:Boolean,disabled:Boolean,modelValue:c["h"],activeColor:String,inactiveColor:String,activeValue:{type:c["h"],default:!0},inactiveValue:{type:c["h"],default:!1}};var b=Object(l["defineComponent"])({name:d,props:f,emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const a=()=>e.modelValue===e.activeValue,n=()=>{if(!e.disabled&&!e.loading){const o=a()?e.inactiveValue:e.activeValue;t("update:modelValue",o),t("change",o)}},c=()=>{if(e.loading){const t=a()?e.activeColor:e.inactiveColor;return Object(l["createVNode"])(s["a"],{class:u("loading"),color:t},null)}if(o.node)return o.node()};return Object(i["useCustomFieldValue"])(()=>e.modelValue),()=>{var t;const{size:i,loading:s,disabled:d,activeColor:f,inactiveColor:b}=e,m=a(),g={fontSize:Object(r["a"])(i),backgroundColor:m?f:b};return Object(l["createVNode"])("div",{role:"switch",class:u({on:m,loading:s,disabled:d}),style:g,tabindex:d?void 0:0,"aria-checked":m,onClick:n},[Object(l["createVNode"])("div",{class:u("node")},[c()]),null==(t=o.background)?void 0:t.call(o)])}}});const m=Object(a["a"])(b);var g=m},ef83:function(e,t,o){"use strict";o.r(t);var a=o("7a23");const l={class:"configWrap"},n={key:0},c={style:{margin:"16px"}};function r(e,t,o,r,i,s){const d=Object(a["resolveComponent"])("Switch"),u=Object(a["resolveComponent"])("Field"),f=Object(a["resolveComponent"])("CellGroup"),b=Object(a["resolveComponent"])("Button"),m=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",l,[Object(a["createElementVNode"])("div",{class:"wel",onClick:t[0]||(t[0]=(...t)=>e.config.toLogin&&e.config.toLogin(...t))},"VolcanO"),Object(a["createVNode"])(m,{"label-width":"auto",onSubmit:e.config.onSubmit},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(f,{inset:""},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{name:"isUseCustomConfig",center:"",label:"使用自定义配置"},{input:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{size:"large",modelValue:e.config.isUseCustomConfig,"onUpdate:modelValue":t[1]||(t[1]=t=>e.config.isUseCustomConfig=t)},null,8,["modelValue"])]),_:1}),e.config.isUseCustomConfig?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[Object(a["createVNode"])(u,{name:"appkey",modelValue:e.config.appkey,"onUpdate:modelValue":t[2]||(t[2]=t=>e.config.appkey=t),center:"",clearable:"",label:"APPKEY",placeholder:"环信appkey"},null,8,["modelValue"]),Object(a["createVNode"])(u,{name:"url",modelValue:e.config.urlRef,"onUpdate:modelValue":t[3]||(t[3]=t=>e.config.urlRef=t),center:"",clearable:"",label:"Url",placeholder:"Msync Url"},null,8,["modelValue"]),Object(a["createVNode"])(u,{name:"restUrl",modelValue:e.config.restUrlRef,"onUpdate:modelValue":t[4]||(t[4]=t=>e.config.restUrlRef=t),center:"",clearable:"",label:"Rest Url",placeholder:"Rest Url"},null,8,["modelValue"]),Object(a["createVNode"])(u,{name:"isHttpDNS",center:"",label:"启用HttpDNS"},{input:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{size:"large",modelValue:e.config.isDNS,"onUpdate:modelValue":t[5]||(t[5]=t=>e.config.isDNS=t)},null,8,["modelValue"])]),_:1}),Object(a["createVNode"])(u,{name:"isUseReplacedMessageContents",center:"",label:"启用替换消息内容"},{input:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{size:"large",modelValue:e.config.isUseReplacedMessageContents,"onUpdate:modelValue":t[6]||(t[6]=t=>e.config.isUseReplacedMessageContents=t)},null,8,["modelValue"])]),_:1})])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(u,{name:"isTokenLogin",center:"",label:"使用Token登录"},{input:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{size:"large",modelValue:e.config.useTokenLogin,"onUpdate:modelValue":t[7]||(t[7]=t=>e.config.useTokenLogin=t)},null,8,["modelValue"])]),_:1})]),_:1}),Object(a["createElementVNode"])("div",c,[Object(a["createVNode"])(b,{round:"",block:"",type:"primary","native-type":"submit"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" 设置 ")]),_:1})])]),_:1},8,["onSubmit"])])}o("3b21");var i=o("4b9e"),s=(o("72ff"),o("e31f")),d=(o("21a7"),o("f23a")),u=(o("4d86"),o("a136")),f=(o("22fa"),o("2e1b")),b=(o("02ab"),o("dc94")),m=(o("27f1"),o("1c96")),g=(o("14d9"),o("9ab4")),p=o("ce1f"),j=o("5502"),O=o("3fff"),V=o("6605");let v=class extends p["b"]{constructor(){super(...arguments),this.config=Object(p["c"])(()=>{const e=Object(j["b"])(),t=Object(V["e"])();let o=Object(a["ref"])(O["f"]),l=Object(a["ref"])(O["k"]),n=Object(a["ref"])(O["i"]),c=Object(a["ref"])(O["m"]),r=Object(a["ref"])(O["h"]),i=Object(a["ref"])(O["l"]),s=Object(a["ref"])(O["j"]);const d=()=>{e.state.IM.connect.close(),localStorage.setItem("appkey",o.value),localStorage.setItem("useReplacedMessageContents",""+c.value),localStorage.setItem("isHttpDNS",""+r.value),localStorage.setItem("useCustomConfig",""+i.value),localStorage.setItem("isTokenLogin",""+s.value),localStorage.setItem("url",l.value||""),localStorage.setItem("restUrl",n.value||""),localStorage.removeItem("uid"),localStorage.removeItem("token"),Object(m["a"])("配置成功，请重新登录"),window.location.href="/login"},u=()=>{t.push("/login")};return{appkey:o,urlRef:l,restUrlRef:n,isUseReplacedMessageContents:c,isDNS:r,isUseCustomConfig:i,useTokenLogin:s,onSubmit:d,toLogin:u}})}};v=Object(g["a"])([Object(p["a"])({components:{NavBar:b["a"],Button:f["b"],CellGroup:u["a"],Field:d["a"],Switch:s["a"],Form:i["a"]}})],v);var h=v,C=(o("1f5f"),o("d959")),N=o.n(C);const k=N()(h,[["render",r]]);t["default"]=k},f0ab:function(e,t,o){}}]);
//# sourceMappingURL=chunk-4248d516.a9a8b2ec.js.map