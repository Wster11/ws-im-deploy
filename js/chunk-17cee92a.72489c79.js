(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17cee92a"],{"02ab":function(e,t,a){"use strict";a("68ef"),a("cb51"),a("3743"),a("8a0b")},"04a1":function(e,t,a){"use strict";a("892f")},"892f":function(e,t,a){},"8a0b":function(e,t,a){},a144:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o=e=>(Object(c["pushScopeId"])("data-v-cc06c2aa"),e=e(),Object(c["popScopeId"])(),e),r={class:"contactWrap"},l=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),n=["src"],i=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),s={style:{padding:"0 16px"}},d=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),u=o(()=>Object(c["createElementVNode"])("br",null,null,-1));function b(e,t,a,o,b,f){const O=Object(c["resolveComponent"])("NavBar"),j=Object(c["resolveComponent"])("CellGroup"),p=Object(c["resolveComponent"])("Button"),m=Object(c["resolveComponent"])("Field");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",r,[Object(c["createVNode"])(O,{title:"User"}),l,Object(c["createVNode"])(j,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("img",{class:"avatar",src:e.user.info.avatarurl},null,8,n),Object(c["createElementVNode"])("p",null,"id: "+Object(c["toDisplayString"])(e.user.userId),1)]),_:1}),Object(c["createVNode"])(j,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{modelValue:e.user.info.nickname,"onUpdate:modelValue":t[1]||(t[1]=t=>e.user.info.nickname=t),rows:"1",autosize:"",label:"用户昵称",type:"input",center:"",placeholder:"用户昵称"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{type:"primary",size:"small",onClick:t[0]||(t[0]=t=>e.user.updateUserInfo("nickname",e.user.info.nickname||""))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(j,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{modelValue:e.user.info.avatarurl,"onUpdate:modelValue":t[3]||(t[3]=t=>e.user.info.avatarurl=t),rows:"1",autosize:"",label:"用户头像",type:"input",center:"",placeholder:"请输入头像的url地址"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{type:"primary",size:"small",onClick:t[2]||(t[2]=t=>e.user.updateUserInfo("avatarurl",e.user.info.avatarurl||""))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(j,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{modelValue:e.user.info.mail,"onUpdate:modelValue":t[5]||(t[5]=t=>e.user.info.mail=t),rows:"1",autosize:"",label:"邮箱",type:"input",center:"",placeholder:"邮箱"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{type:"primary",size:"small",onClick:t[4]||(t[4]=t=>e.user.updateUserInfo("mail",e.user.info.mail||""))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(j,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{modelValue:e.user.info.phone,"onUpdate:modelValue":t[7]||(t[7]=t=>e.user.info.phone=t),rows:"1",autosize:"",label:"手机号",type:"input",center:"",placeholder:"手机号"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{type:"primary",size:"small",onClick:t[6]||(t[6]=t=>e.user.updateUserInfo("phone",e.user.info.phone||""))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(j,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{modelValue:e.user.info.gender,"onUpdate:modelValue":t[9]||(t[9]=t=>e.user.info.gender=t),rows:"1",autosize:"",label:"性别",type:"input",center:"",placeholder:"性别"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{type:"primary",size:"small",onClick:t[8]||(t[8]=t=>e.user.updateUserInfo("gender",e.user.info.gender))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(j,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{modelValue:e.user.info.birth,"onUpdate:modelValue":t[11]||(t[11]=t=>e.user.info.birth=t),rows:"1",autosize:"",label:"生日",type:"input",center:"",placeholder:"生日"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{type:"primary",size:"small",onClick:t[10]||(t[10]=t=>e.user.updateUserInfo("birth",e.user.info.birth||""))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),i,Object(c["createElementVNode"])("div",s,[d,Object(c["createVNode"])(p,{size:"small",type:"primary",onClick:e.user.setting,block:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("设置")]),_:1},8,["onClick"]),u,Object(c["createVNode"])(p,{size:"small",onClick:e.user.logout,block:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("退出登录")]),_:1},8,["onClick"])])])}a("21a7");var f=a("f23a"),O=(a("4d86"),a("a136")),j=(a("22fa"),a("2e1b")),p=(a("02ab"),a("dc94")),m=(a("27f1"),a("1c96")),V=(a("14d9"),a("9ab4")),h=a("ce1f"),N=a("5502"),x=a("afbc");let w=class extends h["b"]{constructor(){super(...arguments),this.user=Object(h["c"])(()=>{const e=Object(N["b"])();let t=Object(c["reactive"])({});const a=e.state.IM.connect,o=()=>{a.contact.fetchUserInfoById(a.user).then(e=>{var c;Object.assign(t,null===(c=e.data)||void 0===c?void 0:c[a.user])})},r=(e,t)=>{a.updateOwnUserInfo(e,t).then(()=>{Object(m["a"])("更新用户信息成功")}).catch(()=>{Object(m["a"])("更新用户信息失败")})},l=()=>{a.close(),window.localStorage.removeItem("token"),window.localStorage.removeItem("uid"),x["a"].push("/login")},n=()=>{x["a"].push("/setting")};return Object(c["onMounted"])(()=>{o()}),{userId:a.user,info:t,updateUserInfo:r,logout:l,setting:n}})}};w=Object(V["a"])([Object(h["a"])({components:{NavBar:p["a"],Button:j["b"],CellGroup:O["a"],Field:f["a"]}})],w);var C=w,v=(a("04a1"),a("6b0d")),g=a.n(v);const k=g()(C,[["render",b],["__scopeId","data-v-cc06c2aa"]]);t["default"]=k},dc94:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var c=a("23f9"),o=a("7a23"),r=a("1fba"),l=a("e5f6"),n=a("5aa0"),i=a("d243"),s=a("fa8a"),d=a("9a1c");const[u,b]=Object(r["a"])("nav-bar"),f={title:String,fixed:Boolean,zIndex:l["f"],border:l["g"],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var O=Object(o["defineComponent"])({name:u,props:f,emits:["click-left","click-right"],setup(e,{emit:t,slots:a}){const c=Object(o["ref"])(),r=Object(s["a"])(c,b),l=e=>t("click-left",e),u=e=>t("click-right",e),f=()=>a.left?a.left():[e.leftArrow&&Object(o["createVNode"])(d["a"],{class:b("arrow"),name:"arrow-left"},null),e.leftText&&Object(o["createVNode"])("span",{class:b("text")},[e.leftText])],O=()=>a.right?a.right():Object(o["createVNode"])("span",{class:b("text")},[e.rightText]),j=()=>{const{title:t,fixed:r,border:s,zIndex:d}=e,j=Object(n["f"])(d),p=e.leftArrow||e.leftText||a.left,m=e.rightText||a.right;return Object(o["createVNode"])("div",{ref:c,style:j,class:[b({fixed:r}),{[i["b"]]:s,"van-safe-area-top":e.safeAreaInsetTop}]},[Object(o["createVNode"])("div",{class:b("content")},[p&&Object(o["createVNode"])("div",{class:[b("left"),i["h"]],onClick:l},[f()]),Object(o["createVNode"])("div",{class:[b("title"),"van-ellipsis"]},[a.title?a.title():t]),m&&Object(o["createVNode"])("div",{class:[b("right"),i["h"]],onClick:u},[O()])])])};return()=>e.fixed&&e.placeholder?r(j):j()}});const j=Object(c["a"])(O);var p=j}}]);
//# sourceMappingURL=chunk-17cee92a.72489c79.js.map