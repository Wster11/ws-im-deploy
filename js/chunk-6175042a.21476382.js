(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6175042a"],{"0511":function(e,t,r){"use strict";r.r(t);var a=r("7a23");const o=e=>(Object(a["pushScopeId"])("data-v-159a62d9"),e=e(),Object(a["popScopeId"])(),e),n={class:"registerWrap"},l=o(()=>Object(a["createElementVNode"])("div",{class:"wel"},"VolcanO",-1)),s={style:{margin:"16px"}};function c(e,t,r,o,c,i){const d=Object(a["resolveComponent"])("Field"),u=Object(a["resolveComponent"])("CellGroup"),b=Object(a["resolveComponent"])("Button"),m=Object(a["resolveComponent"])("Form");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",n,[l,Object(a["createVNode"])(m,{onSubmit:e.register.onSubmit},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(u,{inset:""},{default:Object(a["withCtx"])(()=>[Object(a["createVNode"])(d,{modelValue:e.register.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.register.username=t),name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),Object(a["createVNode"])(d,{modelValue:e.register.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.register.password=t),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(b,{loading:e.register.loading,round:"",block:"",type:"primary","native-type":"submit"},{default:Object(a["withCtx"])(()=>[Object(a["createTextVNode"])(" 立即注册 ")]),_:1},8,["loading"])])]),_:1},8,["onSubmit"]),Object(a["createElementVNode"])("div",{class:"toLogin",onClick:t[2]||(t[2]=(...t)=>e.register.toLogin&&e.register.toLogin(...t))},"已有账号？去登录")])}r("22fa");var i=r("2e1b"),d=(r("4d86"),r("a136")),u=(r("21a7"),r("f23a")),b=(r("3b21"),r("4b9e")),m=(r("27f1"),r("1c96")),p=(r("14d9"),r("9ab4")),g=r("ce1f"),f=r("5502"),O=r("6605"),j=r("2eac");let h=class extends g["b"]{constructor(){super(...arguments),this.register=Object(g["c"])(()=>{const e=Object(f["b"])(),t=Object(a["ref"])(""),r=Object(a["ref"])(""),o=Object(O["e"])();let n=Object(a["ref"])(!1);const l=t=>{n.value=!0,e.state.IM.connect.registerUser({username:t.username,password:t.password,nickname:t.username}).then(()=>{Object(m["a"])("注册成功"),o.push("/login")}).catch(e=>{console.log(e,"eeee");let t={};e.data&&(t=JSON.parse(e.data)),t.error===j["a"].registerUnique?Object(m["a"])("用户已存在"):Object(m["a"])("注册失败")}).finally(()=>{n.value=!1})},s=e=>{l(e)},c=()=>{o.push("/login")};return{username:t,password:r,loading:n,toLogin:c,onSubmit:s}})}};h=Object(p["a"])([Object(g["a"])({components:{Form:b["a"],Field:u["a"],CellGroup:d["a"],Button:i["b"]}})],h);var v=h,V=(r("6a2d"),r("d959")),w=r.n(V);const S=w()(v,[["render",c],["__scopeId","data-v-159a62d9"]]);t["default"]=S},"3b21":function(e,t,r){"use strict";r("68ef")},"4b9e":function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var a=r("23f9"),o=r("7a23"),n=r("1fba"),l=r("e5f6"),s=r("d243"),c=r("8db7"),i=r("450f"),d=r("efd9");const[u,b]=Object(n["a"])("form"),m={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:l["f"],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:l["g"],showErrorMessage:l["g"],errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var p=Object(o["defineComponent"])({name:u,props:m,emits:["submit","failed"],setup(e,{emit:t,slots:r}){const{children:a,linkChildren:n}=Object(i["useChildren"])(s["g"]),l=e=>e?a.filter(t=>e.includes(t.name)):a,u=e=>new Promise((t,r)=>{const a=[],o=l(e);o.reduce((e,t)=>e.then(()=>{if(!a.length)return t.validate().then(e=>{e&&a.push(e)})}),Promise.resolve()).then(()=>{a.length?r(a):t()})}),m=e=>new Promise((t,r)=>{const a=l(e);Promise.all(a.map(e=>e.validate())).then(e=>{e=e.filter(Boolean),e.length?r(e):t()})}),p=e=>{const t=a.find(t=>t.name===e);return t?new Promise((e,r)=>{t.validate().then(t=>{t?r(t):e()})}):Promise.reject()},g=t=>"string"===typeof t?p(t):e.validateFirst?u(t):m(t),f=e=>{"string"===typeof e&&(e=[e]);const t=l(e);t.forEach(e=>{e.resetValidation()})},O=()=>a.reduce((e,t)=>(e[t.name]=t.getValidationStatus(),e),{}),j=(e,t)=>{a.some(r=>r.name===e&&(r.$el.scrollIntoView(t),!0))},h=()=>a.reduce((e,t)=>(e[t.name]=t.formValue.value,e),{}),v=()=>{const r=h();g().then(()=>t("submit",r)).catch(a=>{t("failed",{values:r,errors:a}),e.scrollToError&&a[0].name&&j(a[0].name)})},V=e=>{Object(c["c"])(e),v()};return n({props:e}),Object(d["a"])({submit:v,validate:g,getValues:h,scrollToField:j,resetValidation:f,getValidationStatus:O}),()=>{var e;return Object(o["createVNode"])("form",{class:b(),onSubmit:V},[null==(e=r.default)?void 0:e.call(r)])}}});const g=Object(a["a"])(p);var f=g},"6a2d":function(e,t,r){"use strict";r("d248")},d248:function(e,t,r){}}]);
//# sourceMappingURL=chunk-6175042a.21476382.js.map