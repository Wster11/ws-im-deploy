(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18e92e9f"],{"0511":function(e,t,a){"use strict";a.r(t);var r=a("7a23");const o=e=>(Object(r["pushScopeId"])("data-v-159a62d9"),e=e(),Object(r["popScopeId"])(),e),n={class:"registerWrap"},l=o(()=>Object(r["createElementVNode"])("div",{class:"wel"},"VolcanO",-1)),s={style:{margin:"16px"}};function c(e,t,a,o,c,i){const d=Object(r["resolveComponent"])("Field"),u=Object(r["resolveComponent"])("CellGroup"),b=Object(r["resolveComponent"])("Button"),m=Object(r["resolveComponent"])("Form");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",n,[l,Object(r["createVNode"])(m,{onSubmit:e.register.onSubmit},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(u,{inset:""},{default:Object(r["withCtx"])(()=>[Object(r["createVNode"])(d,{modelValue:e.register.username,"onUpdate:modelValue":t[0]||(t[0]=t=>e.register.username=t),name:"username",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},null,8,["modelValue"]),Object(r["createVNode"])(d,{modelValue:e.register.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.register.password=t),type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),Object(r["createElementVNode"])("div",s,[Object(r["createVNode"])(b,{loading:e.register.loading,round:"",block:"",type:"primary","native-type":"submit"},{default:Object(r["withCtx"])(()=>[Object(r["createTextVNode"])(" 立即注册 ")]),_:1},8,["loading"])])]),_:1},8,["onSubmit"]),Object(r["createElementVNode"])("div",{class:"toLogin",onClick:t[2]||(t[2]=(...t)=>e.register.toLogin&&e.register.toLogin(...t))},"已有账号？去登录")])}a("22fa");var i=a("2e1b"),d=(a("4d86"),a("a136")),u=(a("21a7"),a("f23a")),b=(a("3b21"),a("4b9e")),m=(a("27f1"),a("1c96")),p=(a("14d9"),a("9ab4")),g=a("ce1f"),f=a("5502"),O=a("6605"),j=a("2eac");let h=class extends g["b"]{constructor(){super(...arguments),this.register=Object(g["c"])(()=>{const e=Object(f["b"])(),t=Object(r["ref"])(""),a=Object(r["ref"])(""),o=Object(O["e"])();let n=Object(r["ref"])(!1);const l=t=>{n.value=!0,e.state.IM.connect.registerUser({username:t.username,password:t.password,nickname:t.username}).then(()=>{Object(m["a"])("注册成功"),o.push("/login")}).catch(e=>{console.log(e,"eeee");let t={};e.data&&(t=JSON.parse(e.data)),t.error===j["a"].registerUnique?Object(m["a"])("用户已存在"):Object(m["a"])("注册失败")}).finally(()=>{n.value=!1})},s=e=>{l(e)},c=()=>{o.push("/login")};return{username:t,password:a,loading:n,toLogin:c,onSubmit:s}})}};h=Object(p["a"])([Object(g["a"])({components:{Form:b["a"],Field:u["a"],CellGroup:d["a"],Button:i["b"]}})],h);var v=h,V=(a("6a2d"),a("6b0d")),w=a.n(V);const S=w()(v,[["render",c],["__scopeId","data-v-159a62d9"]]);t["default"]=S},"3b21":function(e,t,a){"use strict";a("68ef")},"4b9e":function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var r=a("23f9"),o=a("7a23"),n=a("1fba"),l=a("e5f6"),s=a("d243"),c=a("8db7"),i=a("450f"),d=a("efd9");const[u,b]=Object(n["a"])("form"),m={colon:Boolean,disabled:Boolean,readonly:Boolean,showError:Boolean,labelWidth:l["f"],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,submitOnEnter:l["g"],showErrorMessage:l["g"],errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var p=Object(o["defineComponent"])({name:u,props:m,emits:["submit","failed"],setup(e,{emit:t,slots:a}){const{children:r,linkChildren:n}=Object(i["useChildren"])(s["g"]),l=e=>e?r.filter(t=>e.includes(t.name)):r,u=e=>new Promise((t,a)=>{const r=[],o=l(e);o.reduce((e,t)=>e.then(()=>{if(!r.length)return t.validate().then(e=>{e&&r.push(e)})}),Promise.resolve()).then(()=>{r.length?a(r):t()})}),m=e=>new Promise((t,a)=>{const r=l(e);Promise.all(r.map(e=>e.validate())).then(e=>{e=e.filter(Boolean),e.length?a(e):t()})}),p=e=>{const t=r.find(t=>t.name===e);return t?new Promise((e,a)=>{t.validate().then(t=>{t?a(t):e()})}):Promise.reject()},g=t=>"string"===typeof t?p(t):e.validateFirst?u(t):m(t),f=e=>{"string"===typeof e&&(e=[e]);const t=l(e);t.forEach(e=>{e.resetValidation()})},O=()=>r.reduce((e,t)=>(e[t.name]=t.getValidationStatus(),e),{}),j=(e,t)=>{r.some(a=>a.name===e&&(a.$el.scrollIntoView(t),!0))},h=()=>r.reduce((e,t)=>(e[t.name]=t.formValue.value,e),{}),v=()=>{const a=h();g().then(()=>t("submit",a)).catch(r=>{t("failed",{values:a,errors:r}),e.scrollToError&&r[0].name&&j(r[0].name)})},V=e=>{Object(c["c"])(e),v()};return n({props:e}),Object(d["a"])({submit:v,validate:g,getValues:h,scrollToField:j,resetValidation:f,getValidationStatus:O}),()=>{var e;return Object(o["createVNode"])("form",{class:b(),onSubmit:V},[null==(e=a.default)?void 0:e.call(a)])}}});const g=Object(r["a"])(p);var f=g},"6a2d":function(e,t,a){"use strict";a("ae00")},ae00:function(e,t,a){}}]);
//# sourceMappingURL=chunk-18e92e9f.a4457c2f.js.map