(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ece90b3"],{"02ab":function(e,t,a){"use strict";a("68ef"),a("cb51"),a("3743"),a("8a0b")},6581:function(e,t,a){"use strict";a("a7ae")},"8a0b":function(e,t,a){},a144:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const o=e=>(Object(c["pushScopeId"])("data-v-73099b55"),e=e(),Object(c["popScopeId"])(),e),l={class:"contactWrap"},r=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),n=["src"],s=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),i={style:{padding:"0 16px"}},d=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),u=o(()=>Object(c["createElementVNode"])("br",null,null,-1)),b=o(()=>Object(c["createElementVNode"])("br",null,null,-1));function O(e,t,a,o,O,j){const f=Object(c["resolveComponent"])("NavBar"),p=Object(c["resolveComponent"])("CellGroup"),m=Object(c["resolveComponent"])("Button"),V=Object(c["resolveComponent"])("Field");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createVNode"])(f,{title:"User"}),r,Object(c["createVNode"])(p,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("img",{class:"avatar",src:e.user.info.avatarurl},null,8,n),Object(c["createElementVNode"])("p",null,"id: "+Object(c["toDisplayString"])(e.user.userId),1)]),_:1}),Object(c["createVNode"])(p,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(V,{modelValue:e.user.info.nickname,"onUpdate:modelValue":t[1]||(t[1]=t=>e.user.info.nickname=t),rows:"1",autosize:"",label:"用户昵称",type:"input",center:"",placeholder:"用户昵称"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{type:"primary",size:"small",onClick:t[0]||(t[0]=t=>e.user.updateUserInfo("nickname",e.user.info.nickname))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(p,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(V,{modelValue:e.user.info.avatarurl,"onUpdate:modelValue":t[3]||(t[3]=t=>e.user.info.avatarurl=t),rows:"1",autosize:"",label:"用户头像",type:"input",center:"",placeholder:"请输入头像的url地址"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{type:"primary",size:"small",onClick:t[2]||(t[2]=t=>e.user.updateUserInfo("avatarurl",e.user.info.avatarurl))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(p,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(V,{modelValue:e.user.info.mail,"onUpdate:modelValue":t[5]||(t[5]=t=>e.user.info.mail=t),rows:"1",autosize:"",label:"邮箱",type:"input",center:"",placeholder:"邮箱"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{type:"primary",size:"small",onClick:t[4]||(t[4]=t=>e.user.updateUserInfo("mail",e.user.info.mail))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(p,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(V,{modelValue:e.user.info.phone,"onUpdate:modelValue":t[7]||(t[7]=t=>e.user.info.phone=t),rows:"1",autosize:"",label:"手机号",type:"input",center:"",placeholder:"手机号"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{type:"primary",size:"small",onClick:t[6]||(t[6]=t=>e.user.updateUserInfo("phone",e.user.info.phone))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(p,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(V,{modelValue:e.user.info.gender,"onUpdate:modelValue":t[9]||(t[9]=t=>e.user.info.gender=t),rows:"1",autosize:"",label:"性别",type:"input",center:"",placeholder:"性别"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{type:"primary",size:"small",onClick:t[8]||(t[8]=t=>e.user.updateUserInfo("gender",e.user.info.gender))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),Object(c["createVNode"])(p,{inset:""},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(V,{modelValue:e.user.info.birth,"onUpdate:modelValue":t[11]||(t[11]=t=>e.user.info.birth=t),rows:"1",autosize:"",label:"生日",type:"input",center:"",placeholder:"生日"},{button:Object(c["withCtx"])(()=>[Object(c["createVNode"])(m,{type:"primary",size:"small",onClick:t[10]||(t[10]=t=>e.user.updateUserInfo("birth",e.user.info.birth))},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("更新")]),_:1})]),_:1},8,["modelValue"])]),_:1}),s,Object(c["createElementVNode"])("div",i,[d,Object(c["createVNode"])(m,{size:"small",type:"primary",onClick:e.user.setting,block:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("设置")]),_:1},8,["onClick"]),u,Object(c["createVNode"])(m,{size:"small",type:"danger",onClick:e.user.deleteAllMessages,block:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("清除聊天记录")]),_:1},8,["onClick"]),b,Object(c["createVNode"])(m,{size:"small",onClick:e.user.logout,block:""},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])("退出登录")]),_:1},8,["onClick"])])])}a("21a7");var j=a("f23a"),f=(a("4d86"),a("a136")),p=(a("22fa"),a("2e1b")),m=(a("02ab"),a("dc94")),V=(a("27f1"),a("1c96")),h=(a("14d9"),a("9ab4")),N=a("ce1f"),x=a("5502"),w=a("afbc");let C=class extends N["b"]{constructor(){super(...arguments),this.user=Object(N["c"])(()=>{const e=Object(x["b"])();let t=Object(c["reactive"])({});const a=e.state.IM.connect,o=()=>{a.fetchUserInfoById(a.user).then(e=>{var c;Object.assign(t,null===(c=e.data)||void 0===c?void 0:c[a.user])})},l=(e,t)=>{a.updateOwnUserInfo(e,t).then(()=>{Object(V["a"])("更新用户信息成功")}).catch(()=>{Object(V["a"])("更新用户信息失败")})},r=()=>{a.close(),window.localStorage.removeItem("token"),window.localStorage.removeItem("uid"),w["a"].push("/login")},n=()=>{w["a"].push("/setting")},s=()=>{a.deleteAllMessagesAndConversations().then(()=>{console.log("清除聊天记录成功")}).catch(e=>{console.log("清除聊天记录失败",e)})};return Object(c["onMounted"])(()=>{o()}),{userId:a.user,info:t,updateUserInfo:l,deleteAllMessages:s,logout:r,setting:n}})}};C=Object(h["a"])([Object(N["a"])({components:{NavBar:m["a"],Button:p["b"],CellGroup:f["a"],Field:j["a"]}})],C);var v=C,g=(a("6581"),a("6b0d")),k=a.n(g);const y=k()(v,[["render",O],["__scopeId","data-v-73099b55"]]);t["default"]=y},a7ae:function(e,t,a){},dc94:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var c=a("23f9"),o=a("7a23"),l=a("1fba"),r=a("e5f6"),n=a("5aa0"),s=a("d243"),i=a("fa8a"),d=a("9a1c");const[u,b]=Object(l["a"])("nav-bar"),O={title:String,fixed:Boolean,zIndex:r["f"],border:r["g"],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var j=Object(o["defineComponent"])({name:u,props:O,emits:["click-left","click-right"],setup(e,{emit:t,slots:a}){const c=Object(o["ref"])(),l=Object(i["a"])(c,b),r=e=>t("click-left",e),u=e=>t("click-right",e),O=()=>a.left?a.left():[e.leftArrow&&Object(o["createVNode"])(d["a"],{class:b("arrow"),name:"arrow-left"},null),e.leftText&&Object(o["createVNode"])("span",{class:b("text")},[e.leftText])],j=()=>a.right?a.right():Object(o["createVNode"])("span",{class:b("text")},[e.rightText]),f=()=>{const{title:t,fixed:l,border:i,zIndex:d}=e,f=Object(n["f"])(d),p=e.leftArrow||e.leftText||a.left,m=e.rightText||a.right;return Object(o["createVNode"])("div",{ref:c,style:f,class:[b({fixed:l}),{[s["b"]]:i,"van-safe-area-top":e.safeAreaInsetTop}]},[Object(o["createVNode"])("div",{class:b("content")},[p&&Object(o["createVNode"])("div",{class:[b("left"),s["h"]],onClick:r},[O()]),Object(o["createVNode"])("div",{class:[b("title"),"van-ellipsis"]},[a.title?a.title():t]),m&&Object(o["createVNode"])("div",{class:[b("right"),s["h"]],onClick:u},[j()])])])};return()=>e.fixed&&e.placeholder?l(f):f()}});const f=Object(c["a"])(j);var p=f}}]);
//# sourceMappingURL=chunk-2ece90b3.8419cca8.js.map