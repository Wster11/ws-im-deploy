!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const e={},t=function(t,n,r){if(!n||0===n.length)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map((t=>{if((t=function(e){return"/"+e}(t))in e)return;e[t]=!0;const n=t.endsWith(".css"),a=n?'[rel="stylesheet"]':"";if(!!r)for(let e=o.length-1;e>=0;e--){const r=o[e];if(r.href===t&&(!n||"stylesheet"===r.rel))return}else if(document.querySelector(`link[href="${t}"]${a}`))return;const i=document.createElement("link");return i.rel=n?"stylesheet":"modulepreload",n||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),n?new Promise(((e,n)=>{i.addEventListener("load",e),i.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${t}`))))})):void 0}))).then((()=>t()))};function n(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const r={},o=[],a=()=>{},i=()=>!1,s=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),c=e=>e.startsWith("onUpdate:"),l=Object.assign,u=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},d=Object.prototype.hasOwnProperty,p=(e,t)=>d.call(e,t),h=Array.isArray,f=e=>"[object Map]"===O(e),m=e=>"[object Set]"===O(e),g=e=>"[object Date]"===O(e),v=e=>"function"==typeof e,y=e=>"string"==typeof e,_=e=>"symbol"==typeof e,E=e=>null!==e&&"object"==typeof e,T=e=>(E(e)||v(e))&&v(e.then)&&v(e.catch),S=Object.prototype.toString,O=e=>S.call(e),R=e=>O(e).slice(8,-1),b=e=>"[object Object]"===O(e),I=e=>y(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,C=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),N=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},A=/-(\w)/g,M=N((e=>e.replace(A,((e,t)=>t?t.toUpperCase():"")))),w=/\B([A-Z])/g,k=N((e=>e.replace(w,"-$1").toLowerCase())),L=N((e=>e.charAt(0).toUpperCase()+e.slice(1))),P=N((e=>e?`on${L(e)}`:"")),x=(e,t)=>!Object.is(e,t),U=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},D=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},B=e=>{const t=parseFloat(e);return isNaN(t)?e:t},G=e=>{const t=y(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const F=()=>j||(j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function H(e){if(h(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=y(r)?z(r):H(r);if(o)for(const e in o)t[e]=o[e]}return t}if(y(e)||E(e))return e}const W=/;(?![^(]*\))/g,V=/:([^]+)/,q=/\/\*[^]*?\*\//g;function z(e){const t={};return e.replace(q,"").split(W).forEach((e=>{if(e){const n=e.split(V);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function K(e){let t="";if(y(e))t=e;else if(h(e))for(let n=0;n<e.length;n++){const r=K(e[n]);r&&(t+=r+" ")}else if(E(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const J=n("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function X(e){return!!e||""===e}function Y(e,t){if(e===t)return!0;let n=g(e),r=g(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=_(e),r=_(t),n||r)return e===t;if(n=h(e),r=h(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Y(e[r],t[r]);return n}(e,t);if(n=E(e),r=E(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!Y(e[n],t[n]))return!1}}return String(e)===String(t)}function Q(e,t){return e.findIndex((e=>Y(e,t)))}const Z=e=>y(e)?e:null==e?"":h(e)||E(e)&&(e.toString===S||!v(e.toString))?JSON.stringify(e,ee,2):String(e),ee=(e,t)=>t&&t.__v_isRef?ee(e,t.value):f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],r)=>(e[te(t,r)+" =>"]=n,e)),{})}:m(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>te(e)))}:_(t)?te(t):!E(t)||h(t)||b(t)?t:String(t),te=(e,t="")=>{var n;return _(e)?`Symbol(${null!=(n=e.description)?n:t})`:e},ne=["ad","ad-content-page","ad-draw","audio","button","camera","canvas","checkbox","checkbox-group","cover-image","cover-view","editor","form","functional-page-navigator","icon","image","input","label","live-player","live-pusher","map","movable-area","movable-view","navigator","official-account","open-data","picker","picker-view","picker-view-column","progress","radio","radio-group","rich-text","scroll-view","slider","swiper","swiper-item","switch","text","textarea","video","view","web-view"].map((e=>"uni-"+e)),re=["list-view","list-item","sticky-section","sticky-header","cloud-db-element"].map((e=>"uni-"+e)),oe=["list-item"].map((e=>"uni-"+e));function ae(e){if(-1!==oe.indexOf(e))return!1;const t="uni-"+e.replace("v-uni-","");return-1!==ne.indexOf(t)||-1!==re.indexOf(t)}const ie="\n",se=44,ce=50,le="UNI_LOCALE",ue=["%","%"],de=/^([a-z-]+:)?\/\//i,pe=/^data:.*,.*/,he="WEB_INVOKE_APPSERVICE",fe="onShow",me="onHide",ge="onLaunch",ve="onError",ye="onThemeChange",_e="onPageNotFound",Ee="onUnhandledRejection",Te="onLoad",Se="onUnload",Oe="onInit",Re="onSaveExitState",be="onResize",Ie="onBackPress",Ce="onPageScroll",Ne="onTabItemTap",Ae="onReachBottom",Me="onPullDownRefresh",we="onShareTimeline",ke="onAddToFavorites",Le="onShareAppMessage",Pe="onNavigationBarButtonTap",xe="onNavigationBarChange",Ue="onNavigationBarSearchInputClicked",De="onNavigationBarSearchInputChanged",Be="onNavigationBarSearchInputConfirmed",Ge="onNavigationBarSearchInputFocusChanged",je="onAppEnterForeground",Fe="onAppEnterBackground",He="onWebInvokeAppService";function We(e){if(!e)return;let t=e.type.name;for(;t&&ae(k(t));)t=(e=e.parent).type.name;return e.proxy}function Ve(e){return 1===e.nodeType}function $e(e){if(e instanceof Map){const t={};return e.forEach(((e,n)=>{t[n]=e})),H(t)}if(h(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=y(r)?z(r):$e(r);if(o)for(const e in o)t[e]=o[e]}return t}return H(e)}function qe(e){let t="";if(e instanceof Map)e.forEach(((e,n)=>{e&&(t+=n+" ")}));else if(h(e))for(let n=0;n<e.length;n++){const r=qe(e[n]);r&&(t+=r+" ")}else t=K(e);return t.trim()}function ze(e){return 0===e.indexOf("/")}function Ke(e){return ze(e)?e:"/"+e}const Je=(e,t)=>{let n;for(let r=0;r<e.length;r++)n=e[r](t);return n};function Xe(e,t=null){let n;return(...r)=>(e&&(n=e.apply(t,r),e=null),n)}function Ye(e){return M(e.substring(5))}const Qe=Xe((()=>{const e=HTMLElement.prototype,t=e.setAttribute;e.setAttribute=function(e,n){if(e.startsWith("data-")&&this.tagName.startsWith("UNI-")){(this.__uniDataset||(this.__uniDataset={}))[Ye(e)]=n}t.call(this,e,n)};const n=e.removeAttribute;e.removeAttribute=function(e){this.__uniDataset&&e.startsWith("data-")&&this.tagName.startsWith("UNI-")&&delete this.__uniDataset[Ye(e)],n.call(this,e)}}));function Ze(e){return l({},e.dataset,e.__uniDataset)}const et=new RegExp("\"[^\"]+\"|'[^']+'|url\\([^)]+\\)|(\\d*\\.?\\d+)[r|u]px","g");function nt(e){return{passive:e}}function rt(e){const{id:t,offsetTop:n,offsetLeft:r}=e;return{id:t,dataset:Ze(e),offsetTop:n,offsetLeft:r}}function ot(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function at(e={}){const t={};return Object.keys(e).forEach((n=>{try{t[n]=ot(e[n])}catch(r){t[n]=e[n]}})),t}const it=/\+/g;function st(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(it," ");let o=e.indexOf("="),a=ot(o<0?e:e.slice(0,o)),i=o<0?null:ot(e.slice(o+1));if(a in t){let e=t[a];h(e)||(e=t[a]=[e]),e.push(i)}else t[a]=i}return t}function ct(e,t,{clearTimeout:n,setTimeout:r}){let o;const a=function(){n(o);o=r((()=>e.apply(this,arguments)),t)};return a.cancel=function(){n(o)},a}class lt{constructor(e,t){this.id=e,this.listener={},this.emitCache=[],t&&Object.keys(t).forEach((e=>{this.on(e,t[e])}))}emit(e,...t){const n=this.listener[e];if(!n)return this.emitCache.push({eventName:e,args:t});n.forEach((e=>{e.fn.apply(e.fn,t)})),this.listener[e]=n.filter((e=>"once"!==e.type))}on(e,t){this._addListener(e,"on",t),this._clearCache(e)}once(e,t){this._addListener(e,"once",t),this._clearCache(e)}off(e,t){const n=this.listener[e];if(n)if(t)for(let r=0;r<n.length;)n[r].fn===t&&(n.splice(r,1),r--),r++;else delete this.listener[e]}_clearCache(e){for(let t=0;t<this.emitCache.length;t++){const n=this.emitCache[t],r=e?n.eventName===e?e:null:n.eventName;if(!r)continue;"number"!=typeof this.emit.apply(this,[r,...n.args])?(this.emitCache.splice(t,1),t--):this.emitCache.pop()}}_addListener(e,t,n){(this.listener[e]||(this.listener[e]=[])).push({fn:n,type:t})}}const ut=[Oe,Te,fe,me,Se,Ie,Ce,Ne,Ae,Me,we,Le,ke,Re,Pe,Ue,De,Be,Ge],dt=[Te,fe];const pt=[fe,me,ge,ve,ye,_e,Ee,"onExit",Oe,Te,"onReady",Se,be,Ie,Ce,Ne,Ae,Me,we,ke,Le,Re,Pe,Ue,De,Be,Ge];const ht=[];const ft=Xe(((e,t)=>{if(v(e._component.onError))return t(e)})),mt=function(){};mt.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t){for(var a=r.length-1;a>=0;a--)if(r[a].fn===t||r[a].fn._===t){r.splice(a,1);break}o=r}return o.length?n[e]=o:delete n[e],this}};var gt=mt;const vt={black:"rgba(0,0,0,0.4)",white:"rgba(255,255,255,0.4)"};function yt(e,t={},n="light"){const r=t[n],o={};return r?(Object.keys(e).forEach((a=>{let i=e[a];o[a]=(()=>{if(b(i))return yt(i,t,n);if(h(i))return i.map((e=>b(e)?yt(e,t,n):e));if(y(i)&&i.startsWith("@")){const t=i.replace("@","");let n=r[t]||i;switch(a){case"titleColor":n="black"===n?"#000000":"#ffffff";break;case"borderStyle":n=(e=n)&&e in vt?vt[e]:e}return n}var e;return i})()})),o):e}let _t;class Et{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_t,!e&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=_t;try{return _t=this,e()}finally{_t=t}}}on(){_t=this}off(){_t=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}}function Tt(e){return new Et(e)}function St(){return _t}const Ot=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Rt=e=>(e.w&Nt)>0,bt=e=>(e.n&Nt)>0,It=new WeakMap;let Ct=0,Nt=1;const At=30;let Mt;const wt=Symbol(""),kt=Symbol("");class Lt{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=_t){t&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();let e=Mt,t=xt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Mt,Mt=this,xt=!0,Nt=1<<++Ct,Ct<=At?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Nt})(this):Pt(this),this.fn()}finally{Ct<=At&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];Rt(o)&&!bt(o)?o.delete(e):t[n++]=o,o.w&=~Nt,o.n&=~Nt}t.length=n}})(this),Nt=1<<--Ct,Mt=this.parent,xt=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Mt===this?this.deferStop=!0:this.active&&(Pt(this),this.onStop&&this.onStop(),this.active=!1)}}function Pt(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let xt=!0;const Ut=[];function Dt(){Ut.push(xt),xt=!1}function Bt(){const e=Ut.pop();xt=void 0===e||e}function Gt(e,t,n){if(xt&&Mt){let t=It.get(e);t||It.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=Ot()),jt(r)}}function jt(e,t){let n=!1;Ct<=At?bt(e)||(e.n|=Nt,n=!Rt(e)):n=!e.has(Mt),n&&(e.add(Mt),Mt.deps.push(e))}function Ft(e,t,n,r,o,a){const i=It.get(e);if(!i)return;let s=[];if("clear"===t)s=[...i.values()];else if("length"===n&&h(e)){const e=Number(r);i.forEach(((t,n)=>{("length"===n||n>=e)&&s.push(t)}))}else switch(void 0!==n&&s.push(i.get(n)),t){case"add":h(e)?I(n)&&s.push(i.get("length")):(s.push(i.get(wt)),f(e)&&s.push(i.get(kt)));break;case"delete":h(e)||(s.push(i.get(wt)),f(e)&&s.push(i.get(kt)));break;case"set":f(e)&&s.push(i.get(wt))}if(1===s.length)s[0]&&Ht(s[0]);else{const e=[];for(const t of s)t&&e.push(...t);Ht(Ot(e))}}function Ht(e,t){const n=h(e)?e:[...e];for(const r of n)r.computed&&Wt(r);for(const r of n)r.computed||Wt(r)}function Wt(e,t){(e!==Mt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Vt=n("__proto__,__v_isRef,__isVue"),$t=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(_)),qt=Qt(),zt=Qt(!1,!0),Kt=Qt(!0),Jt=Xt();function Xt(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Dn(this);for(let t=0,o=this.length;t<o;t++)Gt(n,0,t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Dn)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){Dt();const n=Dn(this)[t].apply(this,e);return Bt(),n}})),e}function Yt(e){const t=Dn(this);return Gt(t,0,e),t.hasOwnProperty(e)}function Qt(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&o===(e?t?Nn:Cn:t?In:bn).get(n))return n;const a=h(n);if(!e){if(a&&p(Jt,r))return Reflect.get(Jt,r,o);if("hasOwnProperty"===r)return Yt}const i=Reflect.get(n,r,o);return(_(r)?$t.has(r):Vt(r))?i:(e||Gt(n,0,r),t?i:Wn(i)?a&&I(r)?i:i.value:E(i)?e?wn(i):An(i):i)}}function Zt(e=!1){return function(t,n,r,o){let a=t[n];if(Pn(a)&&Wn(a)&&!Wn(r))return!1;if(!e&&(xn(r)||Pn(r)||(a=Dn(a),r=Dn(r)),!h(t)&&Wn(a)&&!Wn(r)))return a.value=r,!0;const i=h(t)&&I(n)?Number(n)<t.length:p(t,n),s=Reflect.set(t,n,r,o);return t===Dn(o)&&(i?x(r,a)&&Ft(t,"set",n,r):Ft(t,"add",n,r)),s}}const en={get:qt,set:Zt(),deleteProperty:function(e,t){const n=p(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Ft(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return _(t)&&$t.has(t)||Gt(e,0,t),n},ownKeys:function(e){return Gt(e,0,h(e)?"length":wt),Reflect.ownKeys(e)}},tn={get:Kt,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},nn=l({},en,{get:zt,set:Zt(!0)}),rn=e=>e,on=e=>Reflect.getPrototypeOf(e);function an(e,t,n=!1,r=!1){const o=Dn(e=e.__v_raw),a=Dn(t);n||(t!==a&&Gt(o,0,t),Gt(o,0,a));const{has:i}=on(o),s=r?rn:n?jn:Gn;return i.call(o,t)?s(e.get(t)):i.call(o,a)?s(e.get(a)):void(e!==o&&e.get(t))}function sn(e,t=!1){const n=this.__v_raw,r=Dn(n),o=Dn(e);return t||(e!==o&&Gt(r,0,e),Gt(r,0,o)),e===o?n.has(e):n.has(e)||n.has(o)}function cn(e,t=!1){return e=e.__v_raw,!t&&Gt(Dn(e),0,wt),Reflect.get(e,"size",e)}function ln(e){e=Dn(e);const t=Dn(this);return on(t).has.call(t,e)||(t.add(e),Ft(t,"add",e,e)),this}function un(e,t){t=Dn(t);const n=Dn(this),{has:r,get:o}=on(n);let a=r.call(n,e);a||(e=Dn(e),a=r.call(n,e));const i=o.call(n,e);return n.set(e,t),a?x(t,i)&&Ft(n,"set",e,t):Ft(n,"add",e,t),this}function dn(e){const t=Dn(this),{has:n,get:r}=on(t);let o=n.call(t,e);o||(e=Dn(e),o=n.call(t,e)),r&&r.call(t,e);const a=t.delete(e);return o&&Ft(t,"delete",e,void 0),a}function pn(){const e=Dn(this),t=0!==e.size,n=e.clear();return t&&Ft(e,"clear",void 0,void 0),n}function hn(e,t){return function(n,r){const o=this,a=o.__v_raw,i=Dn(a),s=t?rn:e?jn:Gn;return!e&&Gt(i,0,wt),a.forEach(((e,t)=>n.call(r,s(e),s(t),o)))}}function fn(e,t,n){return function(...r){const o=this.__v_raw,a=Dn(o),i=f(a),s="entries"===e||e===Symbol.iterator&&i,c="keys"===e&&i,l=o[e](...r),u=n?rn:t?jn:Gn;return!t&&Gt(a,0,c?kt:wt),{next(){const{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function mn(e){return function(...t){return"delete"!==e&&this}}function gn(){const e={get(e){return an(this,e)},get size(){return cn(this)},has:sn,add:ln,set:un,delete:dn,clear:pn,forEach:hn(!1,!1)},t={get(e){return an(this,e,!1,!0)},get size(){return cn(this)},has:sn,add:ln,set:un,delete:dn,clear:pn,forEach:hn(!1,!0)},n={get(e){return an(this,e,!0)},get size(){return cn(this,!0)},has(e){return sn.call(this,e,!0)},add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear"),forEach:hn(!0,!1)},r={get(e){return an(this,e,!0,!0)},get size(){return cn(this,!0)},has(e){return sn.call(this,e,!0)},add:mn("add"),set:mn("set"),delete:mn("delete"),clear:mn("clear"),forEach:hn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((o=>{e[o]=fn(o,!1,!1),n[o]=fn(o,!0,!1),t[o]=fn(o,!1,!0),r[o]=fn(o,!0,!0)})),[e,n,t,r]}const[vn,yn,_n,En]=gn();function Tn(e,t){const n=t?e?En:_n:e?yn:vn;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(p(n,r)&&r in t?n:t,r,o)}const Sn={get:Tn(!1,!1)},On={get:Tn(!1,!0)},Rn={get:Tn(!0,!1)},bn=new WeakMap,In=new WeakMap,Cn=new WeakMap,Nn=new WeakMap;function An(e){return Pn(e)?e:kn(e,!1,en,Sn,bn)}function Mn(e){return kn(e,!1,nn,On,In)}function wn(e){return kn(e,!0,tn,Rn,Cn)}function kn(e,t,n,r,o){if(!E(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const a=o.get(e);if(a)return a;const i=(s=e).__v_skip||!Object.isExtensible(s)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(R(s));var s;if(0===i)return e;const c=new Proxy(e,2===i?r:n);return o.set(e,c),c}function Ln(e){return Pn(e)?Ln(e.__v_raw):!(!e||!e.__v_isReactive)}function Pn(e){return!(!e||!e.__v_isReadonly)}function xn(e){return!(!e||!e.__v_isShallow)}function Un(e){return Ln(e)||Pn(e)}function Dn(e){const t=e&&e.__v_raw;return t?Dn(t):e}function Bn(e){return D(e,"__v_skip",!0),e}const Gn=e=>E(e)?An(e):e,jn=e=>E(e)?wn(e):e;function Fn(e){xt&&Mt&&jt((e=Dn(e)).dep||(e.dep=Ot()))}function Hn(e,t){const n=(e=Dn(e)).dep;n&&Ht(n)}function Wn(e){return!(!e||!0!==e.__v_isRef)}function Vn(e){return qn(e,!1)}function $n(e){return qn(e,!0)}function qn(e,t){return Wn(e)?e:new zn(e,t)}class zn{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Dn(e),this._value=t?e:Gn(e)}get value(){return Fn(this),this._value}set value(e){const t=this.__v_isShallow||xn(e)||Pn(e);e=t?e:Dn(e),x(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Gn(e),Hn(this))}}function Kn(e){return Wn(e)?e.value:e}const Jn={get:(e,t,n)=>Kn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return Wn(o)&&!Wn(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function Xn(e){return Ln(e)?e:new Proxy(e,Jn)}class Yn{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return void 0===e?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return e=Dn(this._object),t=this._key,null===(n=It.get(e))||void 0===n?void 0:n.get(t);var e,t,n}}function Qn(e,t,n){const r=e[t];return Wn(r)?r:new Yn(e,t,n)}var Zn;class er{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[Zn]=!1,this._dirty=!0,this.effect=new Lt(e,(()=>{this._dirty||(this._dirty=!0,Hn(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=Dn(this);return Fn(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function tr(e,t,n,r){let o;try{o=r?e(...r):e()}catch(a){rr(a,t,n)}return o}function nr(e,t,n,r){if(v(e)){const o=tr(e,t,n,r);return o&&T(o)&&o.catch((e=>{rr(e,t,n)})),o}const o=[];for(let a=0;a<e.length;a++)o.push(nr(e[a],t,n,r));return o}function rr(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,a))return;r=r.parent}const i=t.appContext.config.errorHandler;if(i)return void tr(i,null,10,[e,o,a])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}Zn="__v_isReadonly";let or=!1,ar=!1;const ir=[];let sr=0;const cr=[];let lr=null,ur=0;const dr=Promise.resolve();let pr=null;function hr(e){const t=pr||dr;return e?t.then(this?e.bind(this):e):t}function fr(e){ir.length&&ir.includes(e,or&&e.allowRecurse?sr+1:sr)||(null==e.id?ir.push(e):ir.splice(function(e){let t=sr+1,n=ir.length;for(;t<n;){const r=t+n>>>1;yr(ir[r])<e?t=r+1:n=r}return t}(e.id),0,e),mr())}function mr(){or||ar||(ar=!0,pr=dr.then(Er))}function gr(e,t=(or?sr+1:0)){for(;t<ir.length;t++){const e=ir[t];e&&e.pre&&(ir.splice(t,1),t--,e())}}function vr(e){if(cr.length){const e=[...new Set(cr)];if(cr.length=0,lr)return void lr.push(...e);for(lr=e,lr.sort(((e,t)=>yr(e)-yr(t))),ur=0;ur<lr.length;ur++)lr[ur]();lr=null,ur=0}}const yr=e=>null==e.id?1/0:e.id,_r=(e,t)=>{const n=yr(e)-yr(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Er(e){ar=!1,or=!0,ir.sort(_r);try{for(sr=0;sr<ir.length;sr++){const e=ir[sr];e&&!1!==e.active&&tr(e,null,14)}}finally{sr=0,ir.length=0,vr(),or=!1,pr=null,(ir.length||cr.length)&&Er()}}function Tr(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||r;let a=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in o){const e=`${"modelValue"===s?"model":s}Modifiers`,{number:t,trim:i}=o[e]||r;i&&(a=n.map((e=>y(e)?e.trim():e))),t&&(a=n.map(B))}let c,l=o[c=P(t)]||o[c=P(M(t))];!l&&i&&(l=o[c=P(k(t))]),l&&nr(l,e,6,Sr(e,l,a));const u=o[c+"Once"];if(u){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,nr(u,e,6,Sr(e,u,a))}}function Sr(e,t,n){if(1!==n.length)return n;if(v(t)){if(t.length<2)return n}else if(!t.find((e=>e.length>=2)))return n;const r=n[0];if(r&&p(r,"type")&&p(r,"timeStamp")&&p(r,"target")&&p(r,"currentTarget")&&p(r,"detail")){const t=e.proxy,r=t.$gcd(t,!0);r&&n.push(r)}return n}function Or(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const a=e.emits;let i={},s=!1;if(!v(e)){const r=e=>{const n=Or(e,t,!0);n&&(s=!0,l(i,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return a||s?(h(a)?a.forEach((e=>i[e]=null)):l(i,a),E(e)&&r.set(e,i),i):(E(e)&&r.set(e,null),null)}function Rr(e,t){return!(!e||!s(t))&&(t=t.slice(2).replace(/Once$/,""),p(e,t[0].toLowerCase()+t.slice(1))||p(e,k(t))||p(e,t))}let br=null,Ir=null;function Cr(e){const t=br;return br=e,Ir=e&&e.type.__scopeId||null,t}function Nr(e,t=br,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&wa(-1);const o=Cr(t);let a;try{a=e(...n)}finally{Cr(o),r._d&&wa(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ar(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:a,propsOptions:[i],slots:s,attrs:l,emit:u,render:d,renderCache:p,data:h,setupState:f,ctx:m,inheritAttrs:g}=e;let v,y;const _=Cr(e);try{if(4&n.shapeFlag){const e=o||r;v=$a(d.call(e,e,p,a,f,h,m)),y=l}else{const e=t;0,v=$a(e.length>1?e(a,{attrs:l,slots:s,emit:u}):e(a,null)),y=t.props?l:Mr(l)}}catch(T){Ca.length=0,rr(T,e,1),v=Fa(ba)}let E=v;if(y&&!1!==g){const e=Object.keys(y),{shapeFlag:t}=E;e.length&&7&t&&(i&&e.some(c)&&(y=wr(y,i)),E=Ha(E,y))}return n.dirs&&(E=Ha(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),v=E,Cr(_),v}const Mr=e=>{let t;for(const n in e)("class"===n||"style"===n||s(n))&&((t||(t={}))[n]=e[n]);return t},wr=(e,t)=>{const n={};for(const r in e)c(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function kr(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const a=r[o];if(t[a]!==e[a]&&!Rr(n,a))return!0}return!1}const Lr=e=>e.__isSuspense;function Pr(e,t){if(Qa){let n=Qa.provides;const r=Qa.parent&&Qa.parent.provides;r===n&&(n=Qa.provides=Object.create(r)),n[e]=t,"app"===Qa.type.mpType&&Qa.appContext.app.provide(e,t)}else;}function xr(e,t,n=!1){const r=Qa||br;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&v(t)?t.call(r.proxy):t}}function Ur(e,t){return Gr(e,null,t)}const Dr={};function Br(e,t,n){return Gr(e,t,n)}function Gr(e,t,{immediate:n,deep:o,flush:i,onTrack:s,onTrigger:c}=r){const l=St()===(null==Qa?void 0:Qa.scope)?Qa:null;let d,p,f=!1,m=!1;if(Wn(e)?(d=()=>e.value,f=xn(e)):Ln(e)?(d=()=>e,o=!0):h(e)?(m=!0,f=e.some((e=>Ln(e)||xn(e))),d=()=>e.map((e=>Wn(e)?e.value:Ln(e)?Hr(e):v(e)?tr(e,l,2):void 0))):d=v(e)?t?()=>tr(e,l,2):()=>{if(!l||!l.isUnmounted)return p&&p(),nr(e,l,3,[y])}:a,t&&o){const e=d;d=()=>Hr(e())}let g,y=e=>{p=S.onStop=()=>{tr(e,l,4)}};if(oi){if(y=a,t?n&&nr(t,l,3,[d(),m?[]:void 0,y]):d(),"sync"!==i)return a;{const e=pi();g=e.__watcherHandles||(e.__watcherHandles=[])}}let _=m?new Array(e.length).fill(Dr):Dr;const E=()=>{if(S.active)if(t){const e=S.run();(o||f||(m?e.some(((e,t)=>x(e,_[t]))):x(e,_)))&&(p&&p(),nr(t,l,3,[e,_===Dr?void 0:m&&_[0]===Dr?[]:_,y]),_=e)}else S.run()};let T;E.allowRecurse=!!t,"sync"===i?T=E:"post"===i?T=()=>_a(E,l&&l.suspense):(E.pre=!0,l&&(E.id=l.uid),T=()=>fr(E));const S=new Lt(d,T);t?n?E():_=S.run():"post"===i?_a(S.run.bind(S),l&&l.suspense):S.run();const O=()=>{S.stop(),l&&l.scope&&u(l.scope.effects,S)};return g&&g.push(O),O}function jr(e,t,n){const r=this.proxy,o=y(e)?e.includes(".")?Fr(r,e):()=>r[e]:e.bind(r,r);let a;v(t)?a=t:(a=t.handler,n=t);const i=Qa;ei(this);const s=Gr(o,a.bind(r),n);return i?ei(i):ti(),s}function Fr(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Hr(e,t){if(!E(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),Wn(e))Hr(e.value,t);else if(h(e))for(let n=0;n<e.length;n++)Hr(e[n],t);else if(m(e)||f(e))e.forEach((e=>{Hr(e,t)}));else if(b(e))for(const n in e)Hr(e[n],t);return e}const Wr=[Function,Array],Vr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Wr,onEnter:Wr,onAfterEnter:Wr,onEnterCancelled:Wr,onBeforeLeave:Wr,onLeave:Wr,onAfterLeave:Wr,onLeaveCancelled:Wr,onBeforeAppear:Wr,onAppear:Wr,onAfterAppear:Wr,onAppearCancelled:Wr},$r={name:"BaseTransition",props:Vr,setup(e,{slots:t}){const n=Za(),r=function(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Eo((()=>{e.isMounted=!0})),Oo((()=>{e.isUnmounting=!0})),e}();let o;return()=>{const a=t.default&&Yr(t.default(),!0);if(!a||!a.length)return;let i=a[0];if(a.length>1)for(const e of a)if(e.type!==ba){i=e;break}const s=Dn(e),{mode:c}=s;if(r.isLeaving)return Kr(i);const l=Jr(i);if(!l)return Kr(i);const u=zr(l,s,r,n);Xr(l,u);const d=n.subTree,p=d&&Jr(d);let h=!1;const{getTransitionKey:f}=l.type;if(f){const e=f();void 0===o?o=e:e!==o&&(o=e,h=!0)}if(p&&p.type!==ba&&(!Ua(l,p)||h)){const e=zr(p,s,r,n);if(Xr(p,e),"out-in"===c)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&n.update()},Kr(i);"in-out"===c&&l.type!==ba&&(e.delayLeave=(e,t,n)=>{qr(r,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=n})}return i}}};function qr(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function zr(e,t,n,r){const{appear:o,mode:a,persisted:i=!1,onBeforeEnter:s,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:d,onLeave:p,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:g,onAppear:v,onAfterAppear:y,onAppearCancelled:_}=t,E=String(e.key),T=qr(n,e),S=(e,t)=>{e&&nr(e,r,9,t)},O=(e,t)=>{const n=t[1];S(e,t),h(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},R={mode:a,persisted:i,beforeEnter(t){let r=s;if(!n.isMounted){if(!o)return;r=g||s}t._leaveCb&&t._leaveCb(!0);const a=T[E];a&&Ua(e,a)&&a.el._leaveCb&&a.el._leaveCb(),S(r,[t])},enter(e){let t=c,r=l,a=u;if(!n.isMounted){if(!o)return;t=v||c,r=y||l,a=_||u}let i=!1;const s=e._enterCb=t=>{i||(i=!0,S(t?a:r,[e]),R.delayedLeave&&R.delayedLeave(),e._enterCb=void 0)};t?O(t,[e,s]):s()},leave(t,r){const o=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();S(d,[t]);let a=!1;const i=t._leaveCb=n=>{a||(a=!0,r(),S(n?m:f,[t]),t._leaveCb=void 0,T[o]===e&&delete T[o])};T[o]=e,p?O(p,[t,i]):i()},clone:e=>zr(e,t,n,r)};return R}function Kr(e){if(no(e))return(e=Ha(e)).children=null,e}function Jr(e){return no(e)?e.children?e.children[0]:void 0:e}function Xr(e,t){6&e.shapeFlag&&e.component?Xr(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Yr(e,t=!1,n){let r=[],o=0;for(let a=0;a<e.length;a++){let i=e[a];const s=null==n?i.key:String(n)+String(null!=i.key?i.key:a);i.type===Oa?(128&i.patchFlag&&o++,r=r.concat(Yr(i.children,t,s))):(t||i.type!==ba)&&r.push(null!=s?Ha(i,{key:s}):i)}if(o>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function Qr(e){return v(e)?{setup:e,name:e.name}:e}const Zr=e=>!!e.type.__asyncLoader;function eo(e){v(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:o=200,timeout:a,suspensible:i=!0,onError:s}=e;let c,l=null,u=0;const d=()=>{let e;return l||(e=l=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),s)return new Promise(((t,n)=>{s(e,(()=>t((u++,l=null,d()))),(()=>n(e)),u+1)}));throw e})).then((t=>e!==l&&l?l:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t))))};return Qr({name:"AsyncComponentWrapper",__asyncLoader:d,get __asyncResolved(){return c},setup(){const e=Qa;if(c)return()=>to(c,e);const t=t=>{l=null,rr(t,e,13,!r)};if(i&&e.suspense||oi)return d().then((t=>()=>to(t,e))).catch((e=>(t(e),()=>r?Fa(r,{error:e}):null)));const s=Vn(!1),u=Vn(),p=Vn(!!o);return o&&setTimeout((()=>{p.value=!1}),o),null!=a&&setTimeout((()=>{if(!s.value&&!u.value){const e=new Error(`Async component timed out after ${a}ms.`);t(e),u.value=e}}),a),d().then((()=>{s.value=!0,e.parent&&no(e.parent.vnode)&&fr(e.parent.update)})).catch((e=>{t(e),u.value=e})),()=>s.value&&c?to(c,e):u.value&&r?Fa(r,{error:u.value}):n&&!p.value?Fa(n):void 0}})}function to(e,t){const{ref:n,props:r,children:o,ce:a}=t.vnode,i=Fa(e,r,o);return i.ref=n,i.ce=a,delete t.vnode.ce,i}const no=e=>e.type.__isKeepAlive;class ro{constructor(e){this.max=e,this._cache=new Map,this._keys=new Set,this._max=parseInt(e,10)}get(e){const{_cache:t,_keys:n,_max:r}=this,o=t.get(e);if(o)n.delete(e),n.add(e);else if(n.add(e),r&&n.size>r){const e=n.values().next().value;this.pruneCacheEntry(t.get(e)),this.delete(e)}return o}set(e,t){this._cache.set(e,t)}delete(e){this._cache.delete(e),this._keys.delete(e)}forEach(e,t){this._cache.forEach(e.bind(t))}}const oo={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number],matchBy:{type:String,default:"name"},cache:Object},setup(e,{slots:t}){const n=Za(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const o=e.cache||new ro(e.max);o.pruneCacheEntry=i;let a=null;function i(t){var r;!a||!Ua(t,a)||"key"===e.matchBy&&t.key!==a.key?(po(r=t),u(r,n,s,!0)):a&&po(a)}const s=n.suspense,{renderer:{p:c,m:l,um:u,o:{createElement:d}}}=r,p=d("div");function h(t){o.forEach(((n,r)=>{const a=fo(n,e.matchBy);!a||t&&t(a)||(o.delete(r),i(n))}))}r.activate=(e,t,n,r,o)=>{const a=e.component;if(a.ba){const e=a.isDeactivated;a.isDeactivated=!1,U(a.ba),a.isDeactivated=e}l(e,t,n,0,s),c(a.vnode,e,t,n,a,s,r,e.slotScopeIds,o),_a((()=>{a.isDeactivated=!1,a.a&&U(a.a);const t=e.props&&e.props.onVnodeMounted;t&&Ja(t,a.parent,e)}),s)},r.deactivate=e=>{const t=e.component;t.bda&&mo(t.bda),l(e,p,null,1,s),_a((()=>{t.bda&&go(t.bda),t.da&&U(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Ja(n,t.parent,e),t.isDeactivated=!0}),s)},Br((()=>[e.include,e.exclude,e.matchBy]),(([e,t])=>{e&&h((t=>io(e,t))),t&&h((e=>!io(t,e)))}),{flush:"post",deep:!0});let f=null;const m=()=>{null!=f&&o.set(f,ho(n.subTree))};return Eo(m),So(m),Oo((()=>{o.forEach(((t,r)=>{o.delete(r),i(t);const{subTree:a,suspense:s}=n,c=ho(a);if(t.type!==c.type||"key"===e.matchBy&&t.key!==c.key);else{c.component.bda&&U(c.component.bda),po(c);const e=c.component.da;e&&_a(e,s)}}))})),()=>{if(f=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return a=null,n;if(!xa(r)||!(4&r.shapeFlag)&&!Lr(r.type))return a=null,r;let i=ho(r);const s=i.type,c=fo(i,e.matchBy),{include:l,exclude:u}=e;if(l&&(!c||!io(l,c))||u&&c&&io(u,c))return a=i,r;const d=null==i.key?s:i.key,p=o.get(d);return i.el&&(i=Ha(i),Lr(r.type)&&(r.ssContent=i)),f=d,p&&(i.el=p.el,i.component=p.component,i.transition&&Xr(i,i.transition),i.shapeFlag|=512),i.shapeFlag|=256,a=i,Lr(r.type)?r:i}}},ao=oo;function io(e,t){return h(e)?e.some((e=>io(e,t))):y(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function so(e,t){lo(e,"a",t)}function co(e,t){lo(e,"da",t)}function lo(e,t,n=Qa){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(r.__called=!1,vo(t,r,n),n){let e=n.parent;for(;e&&e.parent;)no(e.parent.vnode)&&uo(r,t,n,e),e=e.parent}}function uo(e,t,n,r){const o=vo(t,e,r,!0);Ro((()=>{u(r[t],o)}),n)}function po(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ho(e){return Lr(e.type)?e.ssContent:e}function fo(e,t){if("name"===t){const t=e.type;return ci(Zr(e)?t.__asyncResolved||{}:t)}return String(e.key)}function mo(e){for(let t=0;t<e.length;t++){const n=e[t];n.__called||(n(),n.__called=!0)}}function go(e){e.forEach((e=>e.__called=!1))}function vo(e,t,n=Qa,r=!1){if(n){if(o=e,ut.indexOf(o)>-1&&n.$pageInstance){if(n.type.__reserved)return;if(n!==n.$pageInstance&&(n=n.$pageInstance,function(e){return dt.indexOf(e)>-1}(e))){const r=n.proxy;nr(t.bind(r),n,e,Te===e?[r.$page.options]:[])}}const a=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;Dt(),ei(n);const o=nr(t,n,e,r);return ti(),Bt(),o});return r?a.unshift(i):a.push(i),i}var o}const yo=e=>(t,n=Qa)=>(!oi||"sp"===e)&&vo(e,((...e)=>t(...e)),n),_o=yo("bm"),Eo=yo("m"),To=yo("bu"),So=yo("u"),Oo=yo("bum"),Ro=yo("um"),bo=yo("sp"),Io=yo("rtg"),Co=yo("rtc");function No(e,t=Qa){vo("ec",e,t)}function Ao(e,t){const n=br;if(null===n)return e;const o=si(n)||n.proxy,a=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[e,n,s,c=r]=t[i];e&&(v(e)&&(e={mounted:e,updated:e}),e.deep&&Hr(n),a.push({dir:e,instance:o,value:n,oldValue:void 0,arg:s,modifiers:c}))}return e}function Mo(e,t,n,r){const o=e.dirs,a=t&&t.dirs;for(let i=0;i<o.length;i++){const s=o[i];a&&(s.oldValue=a[i].value);let c=s.dir[r];c&&(Dt(),nr(c,n,8,[e.el,s,e,t]),Bt())}}const wo="components";function ko(e,t){return xo(wo,e,!0,t)||e}const Lo=Symbol();function Po(e){return y(e)?xo(wo,e,!1)||e:e||Lo}function xo(e,t,n=!0,r=!1){const o=br||Qa;if(o){const n=o.type;if(e===wo){const e=ci(n,!1);if(e&&(e===t||e===M(t)||e===L(M(t))))return n}const a=Uo(o[e]||n[e],t)||Uo(o.appContext[e],t);return!a&&r?n:a}}function Uo(e,t){return e&&(e[t]||e[M(t)]||e[L(M(t))])}function Do(e,t,n,r){let o;const a=n&&n[r];if(h(e)||y(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,a&&a[n])}else if("number"==typeof e){o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,a&&a[n])}else if(E(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,a&&a[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=t(e[i],i,r,a&&a[r])}}else o=[];return n&&(n[r]=o),o}function Bo(e,t,n={},r,o){if(br.isCE||br.parent&&Zr(br.parent)&&br.parent.isCE)return"default"!==t&&(n.name=t),Fa("slot",n,r&&r());let a=e[t];a&&a._c&&(a._d=!1),Aa();const i=a&&Go(a(n)),s=Pa(Oa,{key:n.key||i&&i.key||`_${t}`},i||(r?r():[]),i&&1===e._?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),a&&a._c&&(a._d=!0),s}function Go(e){return e.some((e=>!xa(e)||e.type!==ba&&!(e.type===Oa&&!Go(e.children))))?e:null}const jo=e=>{if(!e)return null;if(ni(e)){return si(e)||e.proxy}return jo(e.parent)},Fo=l(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>jo(e.parent),$root:e=>jo(e.root),$emit:e=>e.emit,$options:e=>Ko(e),$forceUpdate:e=>e.f||(e.f=()=>{fr(e.update)}),$nextTick:e=>e.n||(e.n=hr.bind(e.proxy)),$watch:e=>jr.bind(e)}),Ho=(e,t)=>e!==r&&!e.__isScriptSetup&&p(e,t),Wo={get({_:e},t){const{ctx:n,setupState:o,data:a,props:i,accessCache:s,type:c,appContext:l}=e;let u;if("$"!==t[0]){const c=s[t];if(void 0!==c)switch(c){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return i[t]}else{if(Ho(o,t))return s[t]=1,o[t];if(a!==r&&p(a,t))return s[t]=2,a[t];if((u=e.propsOptions[0])&&p(u,t))return s[t]=3,i[t];if(n!==r&&p(n,t))return s[t]=4,n[t];Vo&&(s[t]=0)}}const d=Fo[t];let h,f;return d?("$attrs"===t&&Gt(e,0,t),d(e)):(h=c.__cssModules)&&(h=h[t])?h:n!==r&&p(n,t)?(s[t]=4,n[t]):(f=l.config.globalProperties,p(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:o,setupState:a,ctx:i}=e;return Ho(a,t)?(a[t]=n,!0):o!==r&&p(o,t)?(o[t]=n,!0):!p(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(i[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:a,propsOptions:i}},s){let c;return!!n[s]||e!==r&&p(e,s)||Ho(t,s)||(c=i[0])&&p(c,s)||p(o,s)||p(Fo,s)||p(a.config.globalProperties,s)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:p(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Vo=!0;function $o(e){const t=Ko(e),n=e.proxy,r=e.ctx;Vo=!1,t.beforeCreate&&qo(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:c,provide:l,inject:u,created:d,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:y,deactivated:_,beforeDestroy:T,beforeUnmount:S,destroyed:O,unmounted:R,render:b,renderTracked:I,renderTriggered:C,errorCaptured:N,serverPrefetch:A,expose:M,inheritAttrs:w,components:k,directives:L,filters:P}=t;if(u&&function(e,t,n=a,r=!1){h(e)&&(e=Qo(e));for(const o in e){const n=e[o];let a;a=E(n)?"default"in n?xr(n.from||o,n.default,!0):xr(n.from||o):xr(n),Wn(a)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[o]=a}}(u,r,null,e.appContext.config.unwrapInjectedRef),s)for(const a in s){const e=s[a];v(e)&&(r[a]=e.bind(n))}if(o){const t=o.call(n,n);E(t)&&(e.data=An(t))}if(Vo=!0,i)for(const h in i){const e=i[h],t=v(e)?e.bind(n,n):v(e.get)?e.get.bind(n,n):a,o=!v(e)&&v(e.set)?e.set.bind(n):a,s=li({get:t,set:o});Object.defineProperty(r,h,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(c)for(const a in c)zo(c[a],r,n,a);if(l){const e=v(l)?l.call(n):l;Reflect.ownKeys(e).forEach((t=>{Pr(t,e[t])}))}function x(e,t){h(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&qo(d,e,"c"),x(_o,p),x(Eo,f),x(To,m),x(So,g),x(so,y),x(co,_),x(No,N),x(Co,I),x(Io,C),x(Oo,S),x(Ro,R),x(bo,A),h(M))if(M.length){const t=e.exposed||(e.exposed={});M.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});b&&e.render===a&&(e.render=b),null!=w&&(e.inheritAttrs=w),k&&(e.components=k),L&&(e.directives=L);const U=e.appContext.config.globalProperties.$applyOptions;U&&U(t,e,n)}function qo(e,t,n){nr(h(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function zo(e,t,n,r){const o=r.includes(".")?Fr(n,r):()=>n[r];if(y(e)){const n=t[e];v(n)&&Br(o,n)}else if(v(e))Br(o,e.bind(n));else if(E(e))if(h(e))e.forEach((e=>zo(e,t,n,r)));else{const r=v(e.handler)?e.handler.bind(n):t[e.handler];v(r)&&Br(o,r,e)}}function Ko(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:a,config:{optionMergeStrategies:i}}=e.appContext,s=a.get(t);let c;return s?c=s:o.length||n||r?(c={},o.length&&o.forEach((e=>Jo(c,e,i,!0))),Jo(c,t,i)):c=t,E(t)&&a.set(t,c),c}function Jo(e,t,n,r=!1){const{mixins:o,extends:a}=t;a&&Jo(e,a,n,!0),o&&o.forEach((t=>Jo(e,t,n,!0)));for(const i in t)if(r&&"expose"===i);else{const r=Xo[i]||n&&n[i];e[i]=r?r(e[i],t[i]):t[i]}return e}const Xo={data:Yo,props:ea,emits:ea,methods:ea,computed:ea,beforeCreate:Zo,created:Zo,beforeMount:Zo,mounted:Zo,beforeUpdate:Zo,updated:Zo,beforeDestroy:Zo,beforeUnmount:Zo,destroyed:Zo,unmounted:Zo,activated:Zo,deactivated:Zo,errorCaptured:Zo,serverPrefetch:Zo,components:ea,directives:ea,watch:function(e,t){if(!e)return t;if(!t)return e;const n=l(Object.create(null),e);for(const r in t)n[r]=Zo(e[r],t[r]);return n},provide:Yo,inject:function(e,t){return ea(Qo(e),Qo(t))}};function Yo(e,t){return t?e?function(){return l(v(e)?e.call(this,this):e,v(t)?t.call(this,this):t)}:t:e}function Qo(e){if(h(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Zo(e,t){return e?[...new Set([].concat(e,t))]:t}function ea(e,t){return e?l(l(Object.create(null),e),t):t}function ta(e,t,n,o){const[a,i]=e.propsOptions;let s,c=!1;if(t)for(let r in t){if(C(r))continue;const l=t[r];let u;a&&p(a,u=M(r))?i&&i.includes(u)?(s||(s={}))[u]=l:n[u]=l:Rr(e.emitsOptions,r)||r in o&&l===o[r]||(o[r]=l,c=!0)}if(i){const t=Dn(n),o=s||r;for(let r=0;r<i.length;r++){const s=i[r];n[s]=na(a,t,s,o[s],e,!p(o,s))}}return c}function na(e,t,n,r,o,a){const i=e[n];if(null!=i){const e=p(i,"default");if(e&&void 0===r){const e=i.default;if(i.type!==Function&&v(e)){const{propsDefaults:a}=o;n in a?r=a[n]:(ei(o),r=a[n]=e.call(null,t),ti())}else r=e}i[0]&&(a&&!e?r=!1:!i[1]||""!==r&&r!==k(n)||(r=!0))}return r}function ra(e,t,n=!1){const a=t.propsCache,i=a.get(e);if(i)return i;const s=e.props,c={},u=[];let d=!1;if(!v(e)){const r=e=>{d=!0;const[n,r]=ra(e,t,!0);l(c,n),r&&u.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!s&&!d)return E(e)&&a.set(e,o),o;if(h(s))for(let o=0;o<s.length;o++){const e=M(s[o]);oa(e)&&(c[e]=r)}else if(s)for(const r in s){const e=M(r);if(oa(e)){const t=s[r],n=c[e]=h(t)||v(t)?{type:t}:Object.assign({},t);if(n){const t=sa(Boolean,n.type),r=sa(String,n.type);n[0]=t>-1,n[1]=r<0||t<r,(t>-1||p(n,"default"))&&u.push(e)}}}const f=[c,u];return E(e)&&a.set(e,f),f}function oa(e){return"$"!==e[0]}function aa(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function ia(e,t){return aa(e)===aa(t)}function sa(e,t){return h(t)?t.findIndex((t=>ia(t,e))):v(t)&&ia(t,e)?0:-1}const ca=e=>"_"===e[0]||"$stable"===e,la=e=>h(e)?e.map($a):[$a(e)],ua=(e,t,n)=>{if(t._n)return t;const r=Nr(((...e)=>la(t(...e))),n);return r._c=!1,r},da=(e,t,n)=>{const r=e._ctx;for(const o in e){if(ca(o))continue;const n=e[o];if(v(n))t[o]=ua(0,n,r);else if(null!=n){const e=la(n);t[o]=()=>e}}},pa=(e,t)=>{const n=la(t);e.slots.default=()=>n},ha=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=Dn(t),D(t,"_",n)):da(t,e.slots={})}else e.slots={},t&&pa(e,t);D(e.slots,Da,1)},fa=(e,t,n)=>{const{vnode:o,slots:a}=e;let i=!0,s=r;if(32&o.shapeFlag){const e=t._;e?n&&1===e?i=!1:(l(a,t),n||1!==e||delete a._):(i=!t.$stable,da(t,a)),s=t}else t&&(pa(e,t),s={default:1});if(i)for(const r in a)ca(r)||r in s||delete a[r]};function ma(){return{app:null,config:{isNativeTag:i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ga=0;function va(e,t){return function(n,r=null){v(n)||(n=Object.assign({},n)),null==r||E(r)||(r=null);const o=ma(),a=new Set;let i=!1;const s=o.app={_uid:ga++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:hi,get config(){return o.config},set config(e){},use:(e,...t)=>(a.has(e)||(e&&v(e.install)?(a.add(e),e.install(s,...t)):v(e)&&(a.add(e),e(s,...t))),s),mixin:e=>(o.mixins.includes(e)||o.mixins.push(e),s),component:(e,t)=>t?(o.components[e]=t,s):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,s):o.directives[e],mount(a,c,l){if(!i){const u=Fa(n,r);return u.appContext=o,c&&t?t(u,a):e(u,a,l),i=!0,s._container=a,a.__vue_app__=s,s._instance=u.component,si(u.component)||u.component.proxy}},unmount(){i&&(e(null,s._container),delete s._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,s)};return s}}function ya(e,t,n,o,a=!1){if(h(e))return void e.forEach(((e,r)=>ya(e,t&&(h(t)?t[r]:t),n,o,a)));if(Zr(o)&&!a)return;const i=4&o.shapeFlag?si(o.component)||o.component.proxy:o.el,s=a?null:i,{i:c,r:l}=e,d=t&&t.r,f=c.refs===r?c.refs={}:c.refs,m=c.setupState;if(null!=d&&d!==l&&(y(d)?(f[d]=null,p(m,d)&&(m[d]=null)):Wn(d)&&(d.value=null)),v(l))tr(l,c,12,[s,f]);else{const t=y(l),r=Wn(l);if(t||r){const o=()=>{if(e.f){const n=t?p(m,l)?m[l]:f[l]:l.value;a?h(n)&&u(n,i):h(n)?n.includes(i)||n.push(i):t?(f[l]=[i],p(m,l)&&(m[l]=f[l])):(l.value=[i],e.k&&(f[e.k]=l.value))}else t?(f[l]=s,p(m,l)&&(m[l]=s)):r&&(l.value=s,e.k&&(f[e.k]=s))};s?(o.id=-1,_a(o,n)):o()}}}const _a=function(e,t){var n;t&&t.pendingBranch?h(e)?t.effects.push(...e):t.effects.push(e):(h(n=e)?cr.push(...n):lr&&lr.includes(n,n.allowRecurse?ur+1:ur)||cr.push(n),mr())};function Ea(e){return function(e,t){F().__VUE__=!0;const{insert:n,remove:i,patchProp:s,forcePatchProp:c,createElement:l,createText:u,createComment:d,setText:h,setElementText:f,parentNode:m,nextSibling:g,setScopeId:v=a,insertStaticContent:y}=e,_=(e,t,n,r=null,o=null,a=null,i=!1,s=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!Ua(e,t)&&(r=ee(e),J(e,o,a,!0),e=null),-2===t.patchFlag&&(c=!1,t.dynamicChildren=null);const{type:l,ref:u,shapeFlag:d}=t;switch(l){case Ra:E(e,t,n,r);break;case ba:S(e,t,n,r);break;case Ia:null==e&&O(t,n,r,i);break;case Oa:B(e,t,n,r,o,a,i,s,c);break;default:1&d?I(e,t,n,r,o,a,i,s,c):6&d?G(e,t,n,r,o,a,i,s,c):(64&d||128&d)&&l.process(e,t,n,r,o,a,i,s,c,ne)}null!=u&&o&&ya(u,e&&e.ref,a,t||e,!t)},E=(e,t,r,o)=>{if(null==e)n(t.el=u(t.children),r,o);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},S=(e,t,r,o)=>{null==e?n(t.el=d(t.children||""),r,o):t.el=e.el},O=(e,t,n,r)=>{[e.el,e.anchor]=y(e.children,t,n,r,e.el,e.anchor)},R=({el:e,anchor:t},r,o)=>{let a;for(;e&&e!==t;)a=g(e),n(e,r,o),e=a;n(t,r,o)},b=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=g(e),i(e),e=n;i(t)},I=(e,t,n,r,o,a,i,s,c)=>{i=i||"svg"===t.type,null==e?N(t,n,r,o,a,i,s,c):L(e,t,o,a,i,s,c)},N=(e,t,r,o,a,i,c,u)=>{let d,p;const{type:h,props:m,shapeFlag:g,transition:v,dirs:y}=e;if(d=e.el=l(e.type,i,m&&m.is,m),8&g?f(d,e.children):16&g&&w(e.children,d,null,o,a,i&&"foreignObject"!==h,c,u),y&&Mo(e,null,o,"created"),A(d,e,e.scopeId,c,o),m){for(const t in m)"value"===t||C(t)||s(d,t,null,m[t],i,e.children,o,a,Z);"value"in m&&s(d,"value",null,m.value),(p=m.onVnodeBeforeMount)&&Ja(p,o,e)}Object.defineProperty(d,"__vueParentComponent",{value:o,enumerable:!1}),y&&Mo(e,null,o,"beforeMount");const _=(!a||a&&!a.pendingBranch)&&v&&!v.persisted;_&&v.beforeEnter(d),n(d,t,r),((p=m&&m.onVnodeMounted)||_||y)&&_a((()=>{p&&Ja(p,o,e),_&&v.enter(d),y&&Mo(e,null,o,"mounted")}),a)},A=(e,t,n,r,o)=>{if(n&&v(e,n),r)for(let a=0;a<r.length;a++)v(e,r[a]);if(o){if(t===o.subTree){const t=o.vnode;A(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},w=(e,t,n,r,o,a,i,s,c=0)=>{for(let l=c;l<e.length;l++){const c=e[l]=s?qa(e[l]):$a(e[l]);_(null,c,t,n,r,o,a,i,s)}},L=(e,t,n,o,a,i,l)=>{const u=t.el=e.el;let{patchFlag:d,dynamicChildren:p,dirs:h}=t;d|=16&e.patchFlag;const m=e.props||r,g=t.props||r;let v;n&&Ta(n,!1),(v=g.onVnodeBeforeUpdate)&&Ja(v,n,t,e),h&&Mo(t,e,n,"beforeUpdate"),n&&Ta(n,!0);const y=a&&"foreignObject"!==t.type;if(p?P(e.dynamicChildren,p,u,n,o,y,i):l||$(e,t,u,null,n,o,y,i,!1),d>0){if(16&d)x(u,t,m,g,n,o,a);else if(2&d&&m.class!==g.class&&s(u,"class",null,g.class,a),4&d&&s(u,"style",m.style,g.style,a),8&d){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const i=r[t],l=m[i],d=g[i];(d!==l||"value"===i||c&&c(u,i))&&s(u,i,l,d,a,e.children,n,o,Z)}}1&d&&e.children!==t.children&&f(u,t.children)}else l||null!=p||x(u,t,m,g,n,o,a);((v=g.onVnodeUpdated)||h)&&_a((()=>{v&&Ja(v,n,t,e),h&&Mo(t,e,n,"updated")}),o)},P=(e,t,n,r,o,a,i)=>{for(let s=0;s<t.length;s++){const c=e[s],l=t[s],u=c.el&&(c.type===Oa||!Ua(c,l)||70&c.shapeFlag)?m(c.el):n;_(c,l,u,null,r,o,a,i,!0)}},x=(e,t,n,o,a,i,l)=>{if(n!==o){if(n!==r)for(const r in n)C(r)||r in o||s(e,r,n[r],null,l,t.children,a,i,Z);for(const r in o){if(C(r))continue;const u=o[r],d=n[r];(u!==d&&"value"!==r||c&&c(e,r))&&s(e,r,d,u,l,t.children,a,i,Z)}"value"in o&&s(e,"value",n.value,o.value)}},B=(e,t,r,o,a,i,s,c,l)=>{const d=t.el=e?e.el:u(""),p=t.anchor=e?e.anchor:u("");let{patchFlag:h,dynamicChildren:f,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(n(d,r,o),n(p,r,o),w(t.children||[],r,p,a,i,s,c,l)):h>0&&64&h&&f&&e.dynamicChildren?(P(e.dynamicChildren,f,r,a,i,s,c),(null!=t.key||a&&t===a.subTree)&&Sa(e,t,!0)):$(e,t,r,p,a,i,s,c,l)},G=(e,t,n,r,o,a,i,s,c)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,i,c):j(t,n,r,o,a,i,c):H(e,t,c)},j=(e,t,n,o,a,i,s)=>{const c=e.component=function(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||Xa,i={uid:Ya++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new Et(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ra(o,a),emitsOptions:Or(o,a),emit:null,emitted:null,propsDefaults:r,inheritAttrs:o.inheritAttrs,ctx:r,data:r,props:r,attrs:r,slots:r,refs:r,setupState:r,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,bda:null,da:null,ba:null,a:null,rtg:null,rtc:null,ec:null,sp:null};i.ctx={_:i},i.root=t?t.root:i,i.emit=Tr.bind(null,i),i.$pageInstance=t&&t.$pageInstance,e.ce&&e.ce(i);return i}(e,o,a);if(no(e)&&(c.ctx.renderer=ne),function(e,t=!1){oi=t;const{props:n,children:r}=e.vnode,o=ni(e);(function(e,t,n,r=!1){const o={},a={};D(a,Da,1),e.propsDefaults=Object.create(null),ta(e,t,o,a);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=r?o:Mn(o):e.type.props?e.props=o:e.props=a,e.attrs=a})(e,n,o,t),ha(e,r);const a=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Bn(new Proxy(e.ctx,Wo));const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>(Gt(e,0,"$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;ei(e),Dt();const o=tr(r,e,0,[e.props,n]);if(Bt(),ti(),T(o)){if(o.then(ti,ti),t)return o.then((n=>{ai(e,n,t)})).catch((t=>{rr(t,e,0)}));e.asyncDep=o}else ai(e,o,t)}else ii(e,t)}(e,t):void 0;oi=!1}(c),c.asyncDep){if(a&&a.registerDep(c,W),!e.el){const e=c.subTree=Fa(ba);S(null,e,t,n)}}else W(c,e,t,n,a,i,s)},H=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:o,component:a}=e,{props:i,children:s,patchFlag:c}=t,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&c>=0))return!(!o&&!s||s&&s.$stable)||r!==i&&(r?!i||kr(r,i,l):!!i);if(1024&c)return!0;if(16&c)return r?kr(r,i,l):!!i;if(8&c){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(i[n]!==r[n]&&!Rr(l,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void V(r,t,n);r.next=t,function(e){const t=ir.indexOf(e);t>sr&&ir.splice(t,1)}(r.update),r.update()}else t.el=e.el,r.vnode=t},W=(e,t,n,r,o,a,i)=>{const s=()=>{if(e.isMounted){let t,{next:n,bu:r,u:s,parent:c,vnode:l}=e,u=n;Ta(e,!1),n?(n.el=l.el,V(e,n,i)):n=l,r&&U(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&Ja(t,c,n,l),Ta(e,!0);const d=Ar(e),p=e.subTree;e.subTree=d,_(p,d,m(p.el),ee(p),e,o,a),n.el=d.el,null===u&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,d.el),s&&_a(s,o),(t=n.props&&n.props.onVnodeUpdated)&&_a((()=>Ja(t,c,n,l)),o)}else{let i;const{el:s,props:c}=t,{bm:l,m:u,parent:d}=e,p=Zr(t);if(Ta(e,!1),l&&U(l),!p&&(i=c&&c.onVnodeBeforeMount)&&Ja(i,d,t),Ta(e,!0),s&&oe){const n=()=>{e.subTree=Ar(e),oe(s,e.subTree,e,o,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const i=e.subTree=Ar(e);_(null,i,n,r,e,o,a),t.el=i.el}if(u&&_a(u,o),!p&&(i=c&&c.onVnodeMounted)){const e=t;_a((()=>Ja(i,d,e)),o)}const{ba:h,a:f}=e;(256&t.shapeFlag||d&&Zr(d.vnode)&&256&d.vnode.shapeFlag)&&(h&&mo(h),f&&_a(f,o),h&&_a((()=>go(h)),o)),e.isMounted=!0,t=n=r=null}},c=e.effect=new Lt(s,(()=>fr(l)),e.scope),l=e.update=()=>c.run();l.id=e.uid,Ta(e,!0),l()},V=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:o,attrs:a,vnode:{patchFlag:i}}=e,s=Dn(o),[c]=e.propsOptions;let l=!1;if(!(r||i>0)||16&i){let r;ta(e,t,o,a)&&(l=!0);for(const a in s)t&&(p(t,a)||(r=k(a))!==a&&p(t,r))||(c?!n||void 0===n[a]&&void 0===n[r]||(o[a]=na(c,s,a,void 0,e,!0)):delete o[a]);if(a!==s)for(const e in a)t&&p(t,e)||(delete a[e],l=!0)}else if(8&i){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let i=n[r];if(Rr(e.emitsOptions,i))continue;const u=t[i];if(c)if(p(a,i))u!==a[i]&&(a[i]=u,l=!0);else{const t=M(i);o[t]=na(c,s,t,u,e,!1)}else u!==a[i]&&(a[i]=u,l=!0)}}l&&Ft(e,"set","$attrs")}(e,t.props,r,n),fa(e,t.children,n),Dt(),gr(),Bt()},$=(e,t,n,r,o,a,i,s,c=!1)=>{const l=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:h}=t;if(p>0){if(128&p)return void z(l,d,n,r,o,a,i,s,c);if(256&p)return void q(l,d,n,r,o,a,i,s,c)}8&h?(16&u&&Z(l,o,a),d!==l&&f(n,d)):16&u?16&h?z(l,d,n,r,o,a,i,s,c):Z(l,o,a,!0):(8&u&&f(n,""),16&h&&w(d,n,r,o,a,i,s,c))},q=(e,t,n,r,a,i,s,c,l)=>{t=t||o;const u=(e=e||o).length,d=t.length,p=Math.min(u,d);let h;for(h=0;h<p;h++){const r=t[h]=l?qa(t[h]):$a(t[h]);_(e[h],r,n,null,a,i,s,c,l)}u>d?Z(e,a,i,!0,!1,p):w(t,n,r,a,i,s,c,l,p)},z=(e,t,n,r,a,i,s,c,l)=>{let u=0;const d=t.length;let p=e.length-1,h=d-1;for(;u<=p&&u<=h;){const r=e[u],o=t[u]=l?qa(t[u]):$a(t[u]);if(!Ua(r,o))break;_(r,o,n,null,a,i,s,c,l),u++}for(;u<=p&&u<=h;){const r=e[p],o=t[h]=l?qa(t[h]):$a(t[h]);if(!Ua(r,o))break;_(r,o,n,null,a,i,s,c,l),p--,h--}if(u>p){if(u<=h){const e=h+1,o=e<d?t[e].el:r;for(;u<=h;)_(null,t[u]=l?qa(t[u]):$a(t[u]),n,o,a,i,s,c,l),u++}}else if(u>h)for(;u<=p;)J(e[u],a,i,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=h;u++){const e=t[u]=l?qa(t[u]):$a(t[u]);null!=e.key&&g.set(e.key,u)}let v,y=0;const E=h-m+1;let T=!1,S=0;const O=new Array(E);for(u=0;u<E;u++)O[u]=0;for(u=f;u<=p;u++){const r=e[u];if(y>=E){J(r,a,i,!0);continue}let o;if(null!=r.key)o=g.get(r.key);else for(v=m;v<=h;v++)if(0===O[v-m]&&Ua(r,t[v])){o=v;break}void 0===o?J(r,a,i,!0):(O[o-m]=u+1,o>=S?S=o:T=!0,_(r,t[o],n,null,a,i,s,c,l),y++)}const R=T?function(e){const t=e.slice(),n=[0];let r,o,a,i,s;const c=e.length;for(r=0;r<c;r++){const c=e[r];if(0!==c){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}for(a=0,i=n.length-1;a<i;)s=a+i>>1,e[n[s]]<c?a=s+1:i=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}a=n.length,i=n[a-1];for(;a-- >0;)n[a]=i,i=t[i];return n}(O):o;for(v=R.length-1,u=E-1;u>=0;u--){const e=m+u,o=t[e],p=e+1<d?t[e+1].el:r;0===O[u]?_(null,o,n,p,a,i,s,c,l):T&&(v<0||u!==R[v]?K(o,n,p,2):v--)}}},K=(e,t,r,o,a=null)=>{const{el:i,type:s,transition:c,children:l,shapeFlag:u}=e;if(6&u)return void K(e.component.subTree,t,r,o);if(128&u)return void e.suspense.move(t,r,o);if(64&u)return void s.move(e,t,r,ne);if(s===Oa){n(i,t,r);for(let e=0;e<l.length;e++)K(l[e],t,r,o);return void n(e.anchor,t,r)}if(s===Ia)return void R(e,t,r);if(2!==o&&1&u&&c)if(0===o)c.beforeEnter(i),n(i,t,r),_a((()=>c.enter(i)),a);else{const{leave:e,delayLeave:o,afterLeave:a}=c,s=()=>n(i,t,r),l=()=>{e(i,(()=>{s(),a&&a()}))};o?o(i,s,l):l()}else n(i,t,r)},J=(e,t,n,r=!1,o=!1)=>{const{type:a,props:i,ref:s,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:p}=e;if(null!=s&&ya(s,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const h=1&u&&p,f=!Zr(e);let m;if(f&&(m=i&&i.onVnodeBeforeUnmount)&&Ja(m,t,e),6&u)Q(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);h&&Mo(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,o,ne,r):l&&(a!==Oa||d>0&&64&d)?Z(l,t,n,!1,!0):(a===Oa&&384&d||!o&&16&u)&&Z(c,t,n),r&&X(e)}(f&&(m=i&&i.onVnodeUnmounted)||h)&&_a((()=>{m&&Ja(m,t,e),h&&Mo(e,null,t,"unmounted")}),n)},X=e=>{const{type:t,el:n,anchor:r,transition:o}=e;if(t===Oa)return void Y(n,r);if(t===Ia)return void b(e);const a=()=>{i(n),o&&!o.persisted&&o.afterLeave&&o.afterLeave()};if(1&e.shapeFlag&&o&&!o.persisted){const{leave:t,delayLeave:r}=o,i=()=>t(n,a);r?r(e.el,a,i):i()}else a()},Y=(e,t)=>{let n;for(;e!==t;)n=g(e),i(e),e=n;i(t)},Q=(e,t,n)=>{const{bum:r,scope:o,update:a,subTree:i,um:s}=e;r&&U(r),o.stop(),a&&(a.active=!1,J(i,e,t,n)),s&&_a(s,t),_a((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Z=(e,t,n,r=!1,o=!1,a=0)=>{for(let i=a;i<e.length;i++)J(e[i],t,n,r,o)},ee=e=>6&e.shapeFlag?ee(e.component.subTree):128&e.shapeFlag?e.suspense.next():g(e.anchor||e.el),te=(e,t,n)=>{null==e?t._vnode&&J(t._vnode,null,null,!0):_(t._vnode||null,e,t,null,null,null,n),gr(),vr(),t._vnode=e},ne={p:_,um:J,m:K,r:X,mt:j,mc:w,pc:$,pbc:P,n:ee,o:e};let re,oe;t&&([re,oe]=t(ne));return{render:te,hydrate:re,createApp:va(te,re)}}(e)}function Ta({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Sa(e,t,n=!1){const r=e.children,o=t.children;if(h(r)&&h(o))for(let a=0;a<r.length;a++){const e=r[a];let t=o[a];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[a]=qa(o[a]),t.el=e.el),n||Sa(e,t)),t.type===Ra&&(t.el=e.el)}}const Oa=Symbol(void 0),Ra=Symbol(void 0),ba=Symbol(void 0),Ia=Symbol(void 0),Ca=[];let Na=null;function Aa(e=!1){Ca.push(Na=e?null:[])}let Ma=1;function wa(e){Ma+=e}function ka(e){return e.dynamicChildren=Ma>0?Na||o:null,Ca.pop(),Na=Ca[Ca.length-1]||null,Ma>0&&Na&&Na.push(e),e}function La(e,t,n,r,o,a){return ka(ja(e,t,n,r,o,a,!0))}function Pa(e,t,n,r,o){return ka(Fa(e,t,n,r,o,!0))}function xa(e){return!!e&&!0===e.__v_isVNode}function Ua(e,t){return e.type===t.type&&e.key===t.key}const Da="__vInternal",Ba=({key:e})=>null!=e?e:null,Ga=({ref:e,ref_key:t,ref_for:n})=>null!=e?y(e)||Wn(e)||v(e)?{i:br,r:e,k:t,f:!!n}:e:null;function ja(e,t=null,n=null,r=0,o=null,a=(e===Oa?0:1),i=!1,s=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ba(t),ref:t&&Ga(t),scopeId:Ir,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:br};return s?(za(c,n),128&a&&e.normalize(c)):n&&(c.shapeFlag|=y(n)?8:16),Ma>0&&!i&&Na&&(c.patchFlag>0||6&a)&&32!==c.patchFlag&&Na.push(c),c}const Fa=function(e,t=null,n=null,r=0,o=null,a=!1){e&&e!==Lo||(e=ba);if(xa(e)){const r=Ha(e,t,!0);return n&&za(r,n),Ma>0&&!a&&Na&&(6&r.shapeFlag?Na[Na.indexOf(e)]=r:Na.push(r)),r.patchFlag|=-2,r}i=e,v(i)&&"__vccOpts"in i&&(e=e.__vccOpts);var i;if(t){t=function(e){return e?Un(e)||Da in e?l({},e):e:null}(t);let{class:e,style:n}=t;e&&!y(e)&&(t.class=qe(e)),E(n)&&(Un(n)&&!h(n)&&(n=l({},n)),t.style=$e(n))}const s=y(e)?1:Lr(e)?128:(e=>e.__isTeleport)(e)?64:E(e)?4:v(e)?2:0;return ja(e,t,n,r,o,s,a,!0)};function Ha(e,t,n=!1){const{props:r,ref:o,patchFlag:a,children:i}=e,s=t?Ka(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Ba(s),ref:t&&t.ref?n&&o?h(o)?o.concat(Ga(t)):[o,Ga(t)]:Ga(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Oa?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ha(e.ssContent),ssFallback:e.ssFallback&&Ha(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Wa(e=" ",t=0){return Fa(Ra,null,e,t)}function Va(e="",t=!1){return t?(Aa(),Pa(ba,null,e)):Fa(ba,null,e)}function $a(e){return null==e||"boolean"==typeof e?Fa(ba):h(e)?Fa(Oa,null,e.slice()):"object"==typeof e?qa(e):Fa(Ra,null,String(e))}function qa(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Ha(e)}function za(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(h(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),za(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Da in t?3===r&&br&&(1===br.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=br}}else v(t)?(t={default:t,_ctx:br},n=32):(t=String(t),64&r?(n=16,t=[Wa(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ka(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=qe([t.class,r.class]));else if("style"===e)t.style=$e([t.style,r.style]);else if(s(e)){const n=t[e],o=r[e];!o||n===o||h(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function Ja(e,t,n,r=null){nr(e,t,7,[n,r])}const Xa=ma();let Ya=0;let Qa=null;const Za=()=>Qa||br,ei=e=>{Qa=e,e.scope.on()},ti=()=>{Qa&&Qa.scope.off(),Qa=null};function ni(e){return 4&e.vnode.shapeFlag}let ri,oi=!1;function ai(e,t,n){v(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:E(t)&&(e.setupState=Xn(t)),ii(e,n)}function ii(e,t,n){const r=e.type;if(!e.render){if(!t&&ri&&!r.render){const t=r.template||Ko(e).template;if(t){const{isCustomElement:n,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:i}=r,s=l(l({isCustomElement:n,delimiters:a},o),i);r.render=ri(t,s)}}e.render=r.render||a}ei(e),Dt(),$o(e),Bt(),ti()}function si(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Xn(Bn(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Fo?Fo[n](e):void 0,has:(e,t)=>t in e||t in Fo}))}function ci(e,t=!0){return v(e)?e.displayName||e.name:e.name||t&&e.__name}const li=(e,t)=>function(e,t,n=!1){let r,o;const i=v(e);return i?(r=e,o=a):(r=e.get,o=e.set),new er(r,o,i||!o,n)}(e,0,oi);function ui(e,t,n){const r=arguments.length;return 2===r?E(t)&&!h(t)?xa(t)?Fa(e,null,[t]):Fa(e,t):Fa(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&xa(n)&&(n=[n]),Fa(e,t,n))}const di=Symbol(""),pi=()=>xr(di),hi="3.2.47",fi="undefined"!=typeof document?document:null,mi=fi&&fi.createElement("template"),gi={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?fi.createElementNS("http://www.w3.org/2000/svg",e):n?fi.createElement(e,{is:n}):fi.createElement(e);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>fi.createTextNode(e),createComment:e=>fi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>fi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,a){const i=n?n.previousSibling:t.lastChild;if(o&&(o===a||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),o!==a&&(o=o.nextSibling););else{mi.innerHTML=r?`<svg>${e}</svg>`:e;const o=mi.content;if(r){const e=o.firstChild;for(;e.firstChild;)o.appendChild(e.firstChild);o.removeChild(e)}t.insertBefore(o,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};const vi=/\s*!important$/;function yi(e,t,n){if(h(n))n.forEach((n=>yi(e,t,n)));else if(null==n&&(n=""),n=Ni(n),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=Ei[t];if(n)return n;let r=M(t);if("filter"!==r&&r in e)return Ei[t]=r;r=L(r);for(let o=0;o<_i.length;o++){const n=_i[o]+r;if(n in e)return Ei[t]=n}return t}(e,t);vi.test(n)?e.setProperty(k(r),n.replace(vi,""),"important"):e[r]=n}}const _i=["Webkit","Moz","ms"],Ei={};const{unit:Ti,unitRatio:Si,unitPrecision:Oi}={unit:"rem",unitRatio:10/320,unitPrecision:5},Ri=(bi=Ti,Ii=Si,Ci=Oi,e=>e.replace(et,((e,t)=>{if(!t)return e;if(1===Ii)return`${t}${bi}`;const n=function(e,t){const n=Math.pow(10,t+1),r=Math.floor(e*n);return 10*Math.round(r/10)/n}(parseFloat(t)*Ii,Ci);return 0===n?"0":`${n}${bi}`})));var bi,Ii,Ci;const Ni=e=>y(e)?Ri(e):e,Ai="http://www.w3.org/1999/xlink";function Mi(e,t,n,r){e.addEventListener(t,n,r)}function wi(e,t,n,r,o=null){const a=e._vei||(e._vei={}),i=a[t];if(r&&i)i.value=r;else{const[n,s]=function(e){let t;if(ki.test(e)){let n;for(t={};n=e.match(ki);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):k(e.slice(2));return[n,t]}(t);if(r){const i=a[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();const r=t&&t.proxy,o=r&&r.$nne,{value:a}=n;if(o&&h(a)){const n=Ui(e,a);for(let r=0;r<n.length;r++){const a=n[r];nr(a,t,5,a.__wwe?[e]:o(e))}}else nr(Ui(e,a),t,5,o&&!a.__wwe?o(e,a,t):[e])};return n.value=e,n.attached=xi(),n}(r,o);Mi(e,n,i,s)}else i&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,i,s),a[t]=void 0)}}const ki=/(?:Once|Passive|Capture)$/;let Li=0;const Pi=Promise.resolve(),xi=()=>Li||(Pi.then((()=>Li=0)),Li=Date.now());function Ui(e,t){if(h(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>{const t=t=>!t._stopped&&e&&e(t);return t.__wwe=e.__wwe,t}))}return t}const Di=/^on[a-z]/;const Bi="transition",Gi="animation",ji=(e,{slots:t})=>ui($r,function(e){const t={};for(const l in e)l in Fi||(t[l]=e[l]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:a=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:u=i,appearToClass:d=s,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if(E(e))return[Vi(e.enter),Vi(e.leave)];{const t=Vi(e);return[t,t]}}(o),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:T,onLeave:S,onLeaveCancelled:O,onBeforeAppear:R=y,onAppear:b=_,onAppearCancelled:I=T}=t,C=(e,t,n)=>{qi(e,t?d:s),qi(e,t?u:i),n&&n()},N=(e,t)=>{e._isLeaving=!1,qi(e,p),qi(e,f),qi(e,h),t&&t()},A=e=>(t,n)=>{const o=e?b:_,i=()=>C(t,e,n);Hi(o,[t,i]),zi((()=>{qi(t,e?c:a),$i(t,e?d:s),Wi(o)||Ji(t,r,g,i)}))};return l(t,{onBeforeEnter(e){Hi(y,[e]),$i(e,a),$i(e,i)},onBeforeAppear(e){Hi(R,[e]),$i(e,c),$i(e,u)},onEnter:A(!1),onAppear:A(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>N(e,t);$i(e,p),document.body.offsetHeight,$i(e,h),zi((()=>{e._isLeaving&&(qi(e,p),$i(e,f),Wi(S)||Ji(e,r,v,n))})),Hi(S,[e,n])},onEnterCancelled(e){C(e,!1),Hi(T,[e])},onAppearCancelled(e){C(e,!0),Hi(I,[e])},onLeaveCancelled(e){N(e),Hi(O,[e])}})}(e),t);ji.displayName="Transition";const Fi={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};ji.props=l({},Vr,Fi);const Hi=(e,t=[])=>{h(e)?e.forEach((e=>e(...t))):e&&e(...t)},Wi=e=>!!e&&(h(e)?e.some((e=>e.length>1)):e.length>1);function Vi(e){return G(e)}function $i(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function qi(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function zi(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Ki=0;function Ji(e,t,n,r){const o=e._endId=++Ki,a=()=>{o===e._endId&&r()};if(n)return setTimeout(a,n);const{type:i,timeout:s,propCount:c}=function(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),o=r(`${Bi}Delay`),a=r(`${Bi}Duration`),i=Xi(o,a),s=r(`${Gi}Delay`),c=r(`${Gi}Duration`),l=Xi(s,c);let u=null,d=0,p=0;t===Bi?i>0&&(u=Bi,d=i,p=a.length):t===Gi?l>0&&(u=Gi,d=l,p=c.length):(d=Math.max(i,l),u=d>0?i>l?Bi:Gi:null,p=u?u===Bi?a.length:c.length:0);const h=u===Bi&&/\b(transform|all)(,|$)/.test(r(`${Bi}Property`).toString());return{type:u,timeout:d,propCount:p,hasTransform:h}}(e,t);if(!i)return r();const l=i+"end";let u=0;const d=()=>{e.removeEventListener(l,p),a()},p=t=>{t.target===e&&++u>=c&&d()};setTimeout((()=>{u<c&&d()}),s+1),e.addEventListener(l,p)}function Xi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>Yi(t)+Yi(e[n]))))}function Yi(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}const Qi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return h(t)?e=>U(t,e):t};function Zi(e){e.target.composing=!0}function es(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ts={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=Qi(o);const a=r||o.props&&"number"===o.props.type;Mi(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),a&&(r=B(r)),e._assign(r)})),n&&Mi(e,"change",(()=>{e.value=e.value.trim()})),t||(Mi(e,"compositionstart",Zi),Mi(e,"compositionend",es),Mi(e,"change",es))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},a){if(e._assign=Qi(a),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===t)return;if((o||"number"===e.type)&&B(e.value)===t)return}const i=null==t?"":t;e.value!==i&&(e.value=i)}},ns={deep:!0,created(e,t,n){e._assign=Qi(n),Mi(e,"change",(()=>{const t=e._modelValue,n=ss(e),r=e.checked,o=e._assign;if(h(t)){const e=Q(t,n),a=-1!==e;if(r&&!a)o(t.concat(n));else if(!r&&a){const n=[...t];n.splice(e,1),o(n)}}else if(m(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(cs(e,r))}))},mounted:rs,beforeUpdate(e,t,n){e._assign=Qi(n),rs(e,t,n)}};function rs(e,{value:t,oldValue:n},r){e._modelValue=t,h(t)?e.checked=Q(t,r.props.value)>-1:m(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Y(t,cs(e,!0)))}const os={created(e,{value:t},n){e.checked=Y(t,n.props.value),e._assign=Qi(n),Mi(e,"change",(()=>{e._assign(ss(e))}))},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Qi(r),t!==n&&(e.checked=Y(t,r.props.value))}},as={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=m(t);Mi(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?B(ss(e)):ss(e)));e._assign(e.multiple?o?new Set(t):t:t[0])})),e._assign=Qi(r)},mounted(e,{value:t}){is(e,t)},beforeUpdate(e,t,n){e._assign=Qi(n)},updated(e,{value:t}){is(e,t)}};function is(e,t){const n=e.multiple;if(!n||h(t)||m(t)){for(let r=0,o=e.options.length;r<o;r++){const o=e.options[r],a=ss(o);if(n)h(t)?o.selected=Q(t,a)>-1:o.selected=t.has(a);else if(Y(ss(o),t))return void(e.selectedIndex!==r&&(e.selectedIndex=r))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function ss(e){return"_value"in e?e._value:e.value}function cs(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ls={created(e,t,n){us(e,t,n,null,"created")},mounted(e,t,n){us(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){us(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){us(e,t,n,r,"updated")}};function us(e,t,n,r,o){const a=function(e,t){switch(e){case"SELECT":return as;case"TEXTAREA":return ts;default:switch(t){case"checkbox":return ns;case"radio":return os;default:return ts}}}(e.tagName,n.props&&n.props.type)[o];a&&a(e,t,n,r)}const ds=["ctrl","shift","alt","meta"],ps={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ds.some((n=>e[`${n}Key`]&&!t.includes(n)))},hs=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=ps[t[e]];if(r&&r(n,t))return}return e(n,...r)},fs={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):ms(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ms(e,!0),r.enter(e)):r.leave(e,(()=>{ms(e,!1)})):ms(e,t))},beforeUnmount(e,{value:t}){ms(e,t)}};function ms(e,t){e.style.display=t?e._vod:"none"}const gs=l({patchProp:(e,t,n,r,o=!1,a,i,l,u)=>{if(0===t.indexOf("change:"))return function(e,t,n,r=null){if(!n||!r)return;const o=t.replace("change:",""),{attrs:a}=r,i=a[o],s=(e.__wxsProps||(e.__wxsProps={}))[o];if(s===i)return;e.__wxsProps[o]=i;const c=r.proxy;hr((()=>{n(i,s,c.$gcd(c,!0),c.$gcd(c,!1))}))}(e,t,r,i);"class"===t?function(e,t,n){const{__wxsAddClass:r,__wxsRemoveClass:o}=e;o&&o.length&&(t=(t||"").split(/\s+/).filter((e=>-1===o.indexOf(e))).join(" "),o.length=0),r&&r.length&&(t=(t||"")+" "+r.join(" "));const a=e._vtc;a&&(t=(t?[t,...a]:[...a]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,o):"style"===t?function(e,t,n){const r=e.style,o=y(n);if(n&&!o){if(t&&!y(t))for(const e in t)null==n[e]&&yi(r,e,"");for(const e in n)yi(r,e,n[e])}else{const a=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=a)}const{__wxsStyle:a}=e;if(a)for(const i in a)yi(r,i,a[i])}(e,n,r):s(t)?c(t)||wi(e,t,0,r,i):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&Di.test(t)&&v(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(Di.test(t)&&y(n))return!1;return t in e}(e,t,r,o))?function(e,t,n,r,o,a,i){if("innerHTML"===t||"textContent"===t)return r&&i(r,o,a),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let s=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=X(n):null==n&&"string"===r?(n="",s=!0):"number"===r&&(n=0,s=!0)}try{e[t]=n}catch(c){}s&&e.removeAttribute(t)}(e,t,r,a,i,l,u):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(Ai,t.slice(6,t.length)):e.setAttributeNS(Ai,t,n);else{const r=J(t);null==n||r&&!X(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,r,o))},forcePatchProp:(e,t)=>0===t.indexOf("change:")||("class"===t&&e.__wxsClassChanged?(e.__wxsClassChanged=!1,!0):!("style"!==t||!e.__wxsStyleChanged)&&(e.__wxsStyleChanged=!1,!0))},gi);let vs;const ys=(...e)=>{const t=(vs||(vs=Ea(gs))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(y(e)){return document.querySelector(e)}return e}(e);if(!r)return;const o=t._component;v(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t};const _s=["{","}"];const Es=/^(?:\d)+/,Ts=/^(?:\w)+/;const Ss="zh-Hans",Os="zh-Hant",Rs="en",bs="fr",Is="es",Cs=Object.prototype.hasOwnProperty,Ns=(e,t)=>Cs.call(e,t),As=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,n=_s){if(!t)return[e];let r=this._caches[e];return r||(r=function(e,[t,n]){const r=[];let o=0,a="";for(;o<e.length;){let i=e[o++];if(i===t){a&&r.push({type:"text",value:a}),a="";let t="";for(i=e[o++];void 0!==i&&i!==n;)t+=i,i=e[o++];const s=i===n,c=Es.test(t)?"list":s&&Ts.test(t)?"named":"unknown";r.push({value:t,type:c})}else a+=i}return a&&r.push({type:"text",value:a}),r}(e,n),this._caches[e]=r),function(e,t){const n=[];let r=0;const o=Array.isArray(t)?"list":(a=t,null!==a&&"object"==typeof a?"named":"unknown");var a;if("unknown"===o)return n;for(;r<e.length;){const a=e[r];switch(a.type){case"text":n.push(a.value);break;case"list":n.push(t[parseInt(a.value,10)]);break;case"named":"named"===o&&n.push(t[a.value])}r++}return n}(r,t)}};function Ms(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return Ss;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?Ss:e.indexOf("-hant")>-1?Os:(n=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==n.indexOf(e)))?Os:Ss);var n;let r=[Rs,bs,Is];t&&Object.keys(t).length>0&&(r=Object.keys(t));const o=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,r);return o||void 0}class ws{constructor({locale:e,fallbackLocale:t,messages:n,watcher:r,formater:o}){this.locale=Rs,this.fallbackLocale=Rs,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=o||As,this.messages=n||{},this.setLocale(e||Rs),r&&this.watchLocale(r)}setLocale(e){const t=this.locale;this.locale=Ms(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,n=!0){const r=this.messages[e];r?n?Object.assign(r,t):Object.keys(t).forEach((e=>{Ns(r,e)||(r[e]=t[e])})):this.messages[e]=t}f(e,t,n){return this.formater.interpolate(e,t,n).join("")}t(e,t,n){let r=this.message;return"string"==typeof t?(t=Ms(t,this.messages))&&(r=this.messages[t]):n=t,Ns(r,e)?this.formater.interpolate(r[e],n).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}function ks(e,t={},n,r){"string"!=typeof e&&([e,t]=[t,e]),"string"!=typeof e&&(e="undefined"!=typeof uni&&vp?vp():"undefined"!=typeof global&&global.getLocale?global.getLocale():Rs),"string"!=typeof n&&(n="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||Rs);const o=new ws({locale:e,fallbackLocale:n,messages:t,watcher:r});let a=(e,t)=>{{let e=!1;a=function(t,n){const r=gm().$vm;return r&&(r.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(r,o))),o.t(t,n)}}return a(e,t)};return{i18n:o,f:(e,t,n)=>o.f(e,t,n),t:(e,t)=>a(e,t),add:(e,t,n=!0)=>o.add(e,t,n),watch:e=>o.watchLocale(e),getLocale:()=>o.getLocale(),setLocale:e=>o.setLocale(e)}}function Ls(e,t){return e.indexOf(t[0])>-1}
/*!
  * vue-router v4.3.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Ps="undefined"!=typeof document;const xs=Object.assign;function Us(e,t){const n={};for(const r in t){const o=t[r];n[r]=Bs(o)?o.map(e):e(o)}return n}const Ds=()=>{},Bs=Array.isArray,Gs=/#/g,js=/&/g,Fs=/\//g,Hs=/=/g,Ws=/\?/g,Vs=/\+/g,$s=/%5B/g,qs=/%5D/g,zs=/%5E/g,Ks=/%60/g,Js=/%7B/g,Xs=/%7C/g,Ys=/%7D/g,Qs=/%20/g;function Zs(e){return encodeURI(""+e).replace(Xs,"|").replace($s,"[").replace(qs,"]")}function ec(e){return Zs(e).replace(Vs,"%2B").replace(Qs,"+").replace(Gs,"%23").replace(js,"%26").replace(Ks,"`").replace(Js,"{").replace(Ys,"}").replace(zs,"^")}function tc(e){return null==e?"":function(e){return Zs(e).replace(Gs,"%23").replace(Ws,"%3F")}(e).replace(Fs,"%2F")}function nc(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}const rc=/\/$/,oc=e=>e.replace(rc,"");function ac(e,t,n="/"){let r,o={},a="",i="";const s=t.indexOf("#");let c=t.indexOf("?");return s<c&&s>=0&&(c=-1),c>-1&&(r=t.slice(0,c),a=t.slice(c+1,s>-1?s:t.length),o=e(a)),s>-1&&(r=r||t.slice(0,s),i=t.slice(s,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];".."!==o&&"."!==o||r.push("");let a,i,s=n.length-1;for(a=0;a<r.length;a++)if(i=r[a],"."!==i){if(".."!==i)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+r.slice(a).join("/")}(null!=r?r:t,n),{fullPath:r+(a&&"?")+a+i,path:r,query:o,hash:nc(i)}}function ic(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function sc(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function cc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!lc(e[n],t[n]))return!1;return!0}function lc(e,t){return Bs(e)?uc(e,t):Bs(t)?uc(t,e):e===t}function uc(e,t){return Bs(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var dc,pc,hc,fc;(pc=dc||(dc={})).pop="pop",pc.push="push",(fc=hc||(hc={})).back="back",fc.forward="forward",fc.unknown="";const mc=/^[^#]+#/;function gc(e,t){return e.replace(mc,"#")+t}const vc=()=>({left:window.scrollX,top:window.scrollY});function yc(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function _c(e,t){return(history.state?history.state.position-t:-1)+e}const Ec=new Map;let Tc=()=>location.protocol+"//"+location.host;function Sc(e,t){const{pathname:n,search:r,hash:o}=t,a=e.indexOf("#");if(a>-1){let t=o.includes(e.slice(a))?e.slice(a).length:1,n=o.slice(t);return"/"!==n[0]&&(n="/"+n),ic(n,"")}return ic(n,e)+r+o}function Oc(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?vc():null}}function Rc(e){const t=function(e){const{history:t,location:n}=window,r={value:Sc(e,n)},o={value:t.state};function a(r,a,i){const s=e.indexOf("#"),c=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:Tc()+e+r;try{t[i?"replaceState":"pushState"](a,"",c),o.value=a}catch(l){console.error(l),n[i?"replace":"assign"](c)}}return o.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(e,n){const i=xs({},o.value,t.state,{forward:e,scroll:vc()});a(i.current,i,!0),a(e,xs({},Oc(r.value,e,null),{position:i.position+1},n),!1),r.value=e},replace:function(e,n){a(e,xs({},t.state,Oc(o.value.back,e,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=e}}}(e=function(e){if(!e)if(Ps){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),oc(e)}(e)),n=function(e,t,n,r){let o=[],a=[],i=null;const s=({state:a})=>{const s=Sc(e,location),c=n.value,l=t.value;let u=0;if(a){if(n.value=s,t.value=a,i&&i===c)return void(i=null);u=l?a.position-l.position:0}else r(s);o.forEach((e=>{e(n.value,c,{delta:u,type:dc.pop,direction:u?u>0?hc.forward:hc.back:hc.unknown})}))};function c(){const{history:e}=window;e.state&&e.replaceState(xs({},e.state,{scroll:vc()}),"")}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:function(){i=n.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return a.push(t),t},destroy:function(){for(const e of a)e();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",c)}}}(e,t.state,t.location,t.replace);const r=xs({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:gc.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function bc(e){return"string"==typeof e||"symbol"==typeof e}const Ic={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Cc=Symbol("");var Nc,Ac;function Mc(e,t){return xs(new Error,{type:e,[Cc]:!0},t)}function wc(e,t){return e instanceof Error&&Cc in e&&(null==t||!!(e.type&t))}(Ac=Nc||(Nc={}))[Ac.aborted=4]="aborted",Ac[Ac.cancelled=8]="cancelled",Ac[Ac.duplicated=16]="duplicated";const kc="[^/]+?",Lc={sensitive:!1,strict:!1,start:!0,end:!0},Pc=/[.+*?^${}()[\]/\\]/g;function xc(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Uc(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=xc(r[n],o[n]);if(e)return e;n++}if(1===Math.abs(o.length-r.length)){if(Dc(r))return 1;if(Dc(o))return-1}return o.length-r.length}function Dc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Bc={type:0,value:""},Gc=/[a-zA-Z0-9_]/;function jc(e,t,n){const r=function(e,t){const n=xs({},Lc,t),r=[];let o=n.start?"^":"";const a=[];for(const c of e){const e=c.length?[]:[90];n.strict&&!c.length&&(o+="/");for(let t=0;t<c.length;t++){const r=c[t];let i=40+(n.sensitive?.25:0);if(0===r.type)t||(o+="/"),o+=r.value.replace(Pc,"\\$&"),i+=40;else if(1===r.type){const{value:e,repeatable:n,optional:l,regexp:u}=r;a.push({name:e,repeatable:n,optional:l});const d=u||kc;if(d!==kc){i+=10;try{new RegExp(`(${d})`)}catch(s){throw new Error(`Invalid custom RegExp for param "${e}" (${d}): `+s.message)}}let p=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;t||(p=l&&c.length<2?`(?:/${p})`:"/"+p),l&&(p+="?"),o+=p,i+=20,l&&(i+=-8),n&&(i+=-20),".*"===d&&(i+=-50)}e.push(i)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");return{re:i,score:r,keys:a,parse:function(e){const t=e.match(i),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",o=a[r-1];n[o.name]=e&&o.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:a,repeatable:i,optional:s}=e,c=a in t?t[a]:"";if(Bs(c)&&!i)throw new Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);const l=Bs(c)?c.join("/"):c;if(!l){if(!s)throw new Error(`Missing required param "${a}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=l}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[Bc]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${l}": ${e}`)}let n=0,r=n;const o=[];let a;function i(){a&&o.push(a),a=[]}let s,c=0,l="",u="";function d(){l&&(0===n?a.push({type:0,value:l}):1===n||2===n||3===n?(a.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:l,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),l="")}function p(){l+=s}for(;c<e.length;)if(s=e[c++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(l&&d(),i()):":"===s?(d(),n=1):p();break;case 4:p(),n=r;break;case 1:"("===s?n=2:Gc.test(s)?p():(d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&c--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:d(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&c--,u="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${l}"`),d(),i(),o}(e.path),n),o=xs(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Fc(e,t){const n=[],r=new Map;function o(e,n,r){const s=!r,c=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Wc(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);c.aliasOf=r&&r.record;const l=qc(t,e),u=[c];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(xs({},c,{components:r?r.record.components:c.components,path:e,aliasOf:r?r.record:c}))}let d,p;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(d=jc(t,n,l),r?r.alias.push(d):(p=p||d,p!==d&&p.alias.push(d),s&&e.name&&!Vc(d)&&a(e.name)),zc(d)&&i(d),c.children){const e=c.children;for(let t=0;t<e.length;t++)o(e[t],d,r&&r.children[t])}r=r||d}return p?()=>{a(p)}:Ds}function a(e){if(bc(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function i(e){const t=function(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;Uc(e,t[o])<0?r=o:n=o+1}const o=function(e){let t=e;for(;t=t.parent;)if(zc(t)&&0===Uc(e,t))return t;return}(e);o&&(r=t.lastIndexOf(o,r-1));return r}(e,n);n.splice(t,0,e),e.record.name&&!Vc(e)&&r.set(e.record.name,e)}return t=qc({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,a,i,s={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw Mc(1,{location:e});i=o.record.name,s=xs(Hc(t.params,o.keys.filter((e=>!e.optional)).concat(o.parent?o.parent.keys.filter((e=>e.optional)):[]).map((e=>e.name))),e.params&&Hc(e.params,o.keys.map((e=>e.name)))),a=o.stringify(s)}else if(null!=e.path)a=e.path,o=n.find((e=>e.re.test(a))),o&&(s=o.parse(a),i=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw Mc(1,{location:e,currentLocation:t});i=o.record.name,s=xs({},t.params,e.params),a=o.stringify(s)}const c=[];let l=o;for(;l;)c.unshift(l.record),l=l.parent;return{name:i,path:a,params:s,matched:c,meta:$c(c)}},removeRoute:a,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function Hc(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Wc(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"==typeof n?n[r]:n;return t}function Vc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function $c(e){return e.reduce(((e,t)=>xs(e,t.meta)),{})}function qc(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function zc({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Kc(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(Vs," "),o=e.indexOf("="),a=nc(o<0?e:e.slice(0,o)),i=o<0?null:nc(e.slice(o+1));if(a in t){let e=t[a];Bs(e)||(e=t[a]=[e]),e.push(i)}else t[a]=i}return t}function Jc(e){let t="";for(let n in e){const r=e[n];if(n=ec(n).replace(Hs,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}(Bs(r)?r.map((e=>e&&ec(e))):[r&&ec(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Xc(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=Bs(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Yc=Symbol(""),Qc=Symbol(""),Zc=Symbol(""),el=Symbol(""),tl=Symbol("");function nl(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function rl(e,t,n,r,o,a=(e=>e())){const i=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((s,c)=>{const l=e=>{var a;!1===e?c(Mc(4,{from:n,to:t})):e instanceof Error?c(e):"string"==typeof(a=e)||a&&"object"==typeof a?c(Mc(2,{from:t,to:e})):(i&&r.enterCallbacks[o]===i&&"function"==typeof e&&i.push(e),s())},u=a((()=>e.call(r&&r.instances[o],t,n,l)));let d=Promise.resolve(u);e.length<3&&(d=d.then(l)),d.catch((e=>c(e)))}))}function ol(e,t,n,r,o=(e=>e())){const a=[];for(const s of e)for(const e in s.components){let c=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(i=c)||"displayName"in i||"props"in i||"__vccOpts"in i){const i=(c.__vccOpts||c)[t];i&&a.push(rl(i,n,r,s,e,o))}else{let i=c();a.push((()=>i.then((a=>{if(!a)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const i=(c=a).__esModule||"Module"===c[Symbol.toStringTag]?a.default:a;var c;s.components[e]=i;const l=(i.__vccOpts||i)[t];return l&&rl(l,n,r,s,e,o)()}))))}}var i;return a}function al(e){const t=xr(Zc),n=xr(el),r=li((()=>{const n=Kn(e.to);return t.resolve(n)})),o=li((()=>{const{matched:e}=r.value,{length:t}=e,o=e[t-1],a=n.matched;if(!o||!a.length)return-1;const i=a.findIndex(sc.bind(null,o));if(i>-1)return i;const s=sl(e[t-2]);return t>1&&sl(o)===s&&a[a.length-1].path!==s?a.findIndex(sc.bind(null,e[t-2])):i})),a=li((()=>o.value>-1&&function(e,t){for(const n in t){const r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!Bs(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(n.params,r.value.params))),i=li((()=>o.value>-1&&o.value===n.matched.length-1&&cc(n.params,r.value.params)));return{route:r,href:li((()=>r.value.href)),isActive:a,isExactActive:i,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[Kn(e.replace)?"replace":"push"](Kn(e.to)).catch(Ds):Promise.resolve()}}}const il=Qr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:al,setup(e,{slots:t}){const n=An(al(e)),{options:r}=xr(Zc),o=li((()=>({[cl(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[cl(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:ui("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}});function sl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const cl=(e,t,n)=>null!=e?e:null!=t?t:n;function ll(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const ul=Qr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=xr(tl),o=li((()=>e.route||r.value)),a=xr(Qc,0),i=li((()=>{let e=Kn(a);const{matched:t}=o.value;let n;for(;(n=t[e])&&!n.components;)e++;return e})),s=li((()=>o.value.matched[i.value]));Pr(Qc,li((()=>i.value+1))),Pr(Yc,s),Pr(tl,o);const c=Vn();return Br((()=>[c.value,s.value,e.name]),(([e,t,n],[r,o,a])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&sc(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,a=e.name,i=s.value,l=i&&i.components[a];if(!l)return ll(n.default,{Component:l,route:r});const u=i.props[a],d=u?!0===u?r.params:"function"==typeof u?u(r):u:null,p=ui(l,xs({},d,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(i.instances[a]=null)},ref:c}));return ll(n.default,{Component:p,route:r})||p}}});function dl(e){const t=Fc(e.routes,e),n=e.parseQuery||Kc,r=e.stringifyQuery||Jc,o=e.history,a=nl(),i=nl(),s=nl(),c=$n(Ic);let l=Ic;Ps&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Us.bind(null,(e=>""+e)),d=Us.bind(null,tc),p=Us.bind(null,nc);function h(e,a){if(a=xs({},a||c.value),"string"==typeof e){const r=ac(n,e,a.path),i=t.resolve({path:r.path},a),s=o.createHref(r.fullPath);return xs(r,i,{params:p(i.params),hash:nc(r.hash),redirectedFrom:void 0,href:s})}let i;if(null!=e.path)i=xs({},e,{path:ac(n,e.path,a.path).path});else{const t=xs({},e.params);for(const e in t)null==t[e]&&delete t[e];i=xs({},e,{params:d(t)}),a.params=d(a.params)}const s=t.resolve(i,a),l=e.hash||"";s.params=u(p(s.params));const h=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,xs({},e,{hash:(f=l,Zs(f).replace(Js,"{").replace(Ys,"}").replace(zs,"^")),path:s.path}));var f;const m=o.createHref(h);return xs({fullPath:h,hash:l,query:r===Jc?Xc(e.query):e.query||{}},s,{redirectedFrom:void 0,href:m})}function f(e){return"string"==typeof e?ac(n,e,c.value.path):xs({},e)}function m(e,t){if(l!==e)return Mc(8,{from:t,to:e})}function g(e){return y(e)}function v(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.includes("?")||r.includes("#")?r=f(r):{path:r},r.params={}),xs({query:e.query,hash:e.hash,params:null!=r.path?{}:e.params},r)}}function y(e,t){const n=l=h(e),o=c.value,a=e.state,i=e.force,s=!0===e.replace,u=v(n);if(u)return y(xs(f(u),{state:"object"==typeof u?xs({},a,u.state):a,force:i,replace:s}),t||n);const d=n;let p;return d.redirectedFrom=t,!i&&function(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&sc(t.matched[r],n.matched[o])&&cc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,o,n)&&(p=Mc(16,{to:d,from:o}),w(o,o,!0,!1)),(p?Promise.resolve(p):T(d,o)).catch((e=>wc(e)?wc(e,2)?e:M(e):A(e,d,o))).then((e=>{if(e){if(wc(e,2))return y(xs({replace:s},f(e.to),{state:"object"==typeof e.to?xs({},a,e.to.state):a,force:i}),t||d)}else e=O(d,o,!0,s,a);return S(d,o,e),e}))}function _(e,t){const n=m(e,t);return n?Promise.reject(n):Promise.resolve()}function E(e){const t=P.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function T(e,t){let n;const[r,o,s]=function(e,t){const n=[],r=[],o=[],a=Math.max(t.matched.length,e.matched.length);for(let i=0;i<a;i++){const a=t.matched[i];a&&(e.matched.find((e=>sc(e,a)))?r.push(a):n.push(a));const s=e.matched[i];s&&(t.matched.find((e=>sc(e,s)))||o.push(s))}return[n,r,o]}(e,t);n=ol(r.reverse(),"beforeRouteLeave",e,t);for(const a of r)a.leaveGuards.forEach((r=>{n.push(rl(r,e,t))}));const c=_.bind(null,e,t);return n.push(c),U(n).then((()=>{n=[];for(const r of a.list())n.push(rl(r,e,t));return n.push(c),U(n)})).then((()=>{n=ol(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(rl(r,e,t))}));return n.push(c),U(n)})).then((()=>{n=[];for(const r of s)if(r.beforeEnter)if(Bs(r.beforeEnter))for(const o of r.beforeEnter)n.push(rl(o,e,t));else n.push(rl(r.beforeEnter,e,t));return n.push(c),U(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=ol(s,"beforeRouteEnter",e,t,E),n.push(c),U(n)))).then((()=>{n=[];for(const r of i.list())n.push(rl(r,e,t));return n.push(c),U(n)})).catch((e=>wc(e,8)?e:Promise.reject(e)))}function S(e,t,n){s.list().forEach((r=>E((()=>r(e,t,n)))))}function O(e,t,n,r,a){const i=m(e,t);if(i)return i;const s=t===Ic,l=Ps?history.state:{};n&&(r||s?o.replace(e.fullPath,xs({scroll:s&&l&&l.scroll},a)):o.push(e.fullPath,a)),c.value=e,w(e,t,n,s),M()}let R;function b(){R||(R=o.listen(((e,t,n)=>{if(!x.listening)return;const r=h(e),a=v(r);if(a)return void y(xs(a,{replace:!0}),r).catch(Ds);l=r;const i=c.value;var s,u;Ps&&(s=_c(i.fullPath,n.delta),u=vc(),Ec.set(s,u)),T(r,i).catch((e=>wc(e,12)?e:wc(e,2)?(y(e.to,r).then((e=>{wc(e,20)&&!n.delta&&n.type===dc.pop&&o.go(-1,!1)})).catch(Ds),Promise.reject()):(n.delta&&o.go(-n.delta,!1),A(e,r,i)))).then((e=>{(e=e||O(r,i,!1))&&(n.delta&&!wc(e,8)?o.go(-n.delta,!1):n.type===dc.pop&&wc(e,20)&&o.go(-1,!1)),S(r,i,e)})).catch(Ds)})))}let I,C=nl(),N=nl();function A(e,t,n){M(e);const r=N.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function M(e){return I||(I=!e,b(),C.list().forEach((([t,n])=>e?n(e):t())),C.reset()),e}function w(t,n,r,o){const{scrollBehavior:a}=e;if(!Ps||!a)return Promise.resolve();const i=!r&&function(e){const t=Ec.get(e);return Ec.delete(e),t}(_c(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return hr().then((()=>a(t,n,i))).then((e=>e&&yc(e))).catch((e=>A(e,t,n)))}const k=e=>o.go(e);let L;const P=new Set,x={currentRoute:c,listening:!0,addRoute:function(e,n){let r,o;return bc(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:h,options:e,push:g,replace:function(e){return g(xs(f(e),{replace:!0}))},go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:a.add,beforeResolve:i.add,afterEach:s.add,onError:N.add,isReady:function(){return I&&c.value!==Ic?Promise.resolve():new Promise(((e,t)=>{C.add([e,t])}))},install(e){e.component("RouterLink",il),e.component("RouterView",ul),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>Kn(c)}),Ps&&!L&&c.value===Ic&&(L=!0,g(o.location).catch((e=>{})));const t={};for(const r in Ic)Object.defineProperty(t,r,{get:()=>c.value[r],enumerable:!0});e.provide(Zc,this),e.provide(el,Mn(t)),e.provide(tl,c);const n=e.unmount;P.add(e),e.unmount=function(){P.delete(e),P.size<1&&(l=Ic,R&&R(),R=null,c.value=Ic,L=!1,I=!1),n()}}};function U(e){return e.reduce(((e,t)=>e.then((()=>E(t)))),Promise.resolve())}return x}function pl(){return xr(el)}const hl=Xe((()=>"undefined"!=typeof __uniConfig&&__uniConfig.locales&&!!Object.keys(__uniConfig.locales).length));let fl;function ml(e){return Ls(e,ue)?yl().f(e,function(){const e=vp(),t=__uniConfig.locales;return t[e]||t[__uniConfig.fallbackLocale]||t.en||{}}(),ue):e}function gl(e,t){if(1===t.length){if(e){const n=e=>y(e)&&Ls(e,ue),r=t[0];let o=[];if(h(e)&&(o=e.filter((e=>n(e[r])))).length)return o;const a=e[t[0]];if(n(a))return e}return}const n=t.shift();return gl(e&&e[n],t)}function vl(e,t){const n=gl(e,t);if(!n)return!1;const r=t[t.length-1];if(h(n))n.forEach((e=>vl(e,[r])));else{let e=n[r];Object.defineProperty(n,r,{get:()=>ml(e),set(t){e=t}})}return!0}function yl(){if(!fl){let e;if(e=navigator.cookieEnabled&&window.localStorage&&localStorage[le]||__uniConfig.locale||navigator.language,fl=ks(e),hl()){const t=Object.keys(__uniConfig.locales||{});t.length&&t.forEach((e=>fl.add(e,__uniConfig.locales[e]))),fl.setLocale(e)}}return fl}function _l(e,t,n){return t.reduce(((t,r,o)=>(t[e+r]=n[o],t)),{})}const El=Xe((()=>{const e="uni.async.",t=["error"];yl().add(Rs,_l(e,t,["The connection timed out, click the screen to try again."]),!1),yl().add(Is,_l(e,t,["Se agot el tiempo de conexin, haga clic en la pantalla para volver a intentarlo."]),!1),yl().add(bs,_l(e,t,["La connexion a expir, cliquez sur l'cran pour ressayer."]),!1),yl().add(Ss,_l(e,t,[""]),!1),yl().add(Os,_l(e,t,[""]),!1)})),Tl=Xe((()=>{const e="uni.showToast.",t=["unpaired"];yl().add(Rs,_l(e,t,["Please note showToast must be paired with hideToast"]),!1),yl().add(Is,_l(e,t,["Tenga en cuenta que showToast debe estar emparejado con hideToast"]),!1),yl().add(bs,_l(e,t,["Veuillez noter que showToast doit tre associ  hideToast"]),!1),yl().add(Ss,_l(e,t,[" showToast  hideToast "]),!1),yl().add(Os,_l(e,t,[" showToast  hideToast "]),!1)})),Sl=Xe((()=>{const e="uni.showLoading.",t=["unpaired"];yl().add(Rs,_l(e,t,["Please note showLoading must be paired with hideLoading"]),!1),yl().add(Is,_l(e,t,["Tenga en cuenta que showLoading debe estar emparejado con hideLoading"]),!1),yl().add(bs,_l(e,t,["Veuillez noter que showLoading doit tre associ  hideLoading"]),!1),yl().add(Ss,_l(e,t,[" showLoading  hideLoading "]),!1),yl().add(Os,_l(e,t,[" showLoading  hideLoading "]),!1)})),Ol=Xe((()=>{const e="uni.chooseFile.",t=["notUserActivation"];yl().add(Rs,_l(e,t,["File chooser dialog can only be shown with a user activation"]),!1),yl().add(Is,_l(e,t,["El cuadro de dilogo del selector de archivos solo se puede mostrar con la activacin del usuario"]),!1),yl().add(bs,_l(e,t,["La bote de dialogue du slecteur de fichier ne peut tre affiche qu'avec une activation par l'utilisateur"]),!1),yl().add(Ss,_l(e,t,[""]),!1),yl().add(Os,_l(e,t,[""]),!1)})),Rl=Xe((()=>{const e="uni.video.",t=["danmu","volume"];yl().add(Rs,_l(e,t,["Danmu","Volume"]),!1),yl().add(Is,_l(e,t,["Danmu","Volumen"]),!1),yl().add(bs,_l(e,t,["Danmu","Le Volume"]),!1),yl().add(Ss,_l(e,t,["",""]),!1),yl().add(Os,_l(e,t,["",""]),!1)}));function bl(e){const t=new gt;return{on:(e,n)=>t.on(e,n),once:(e,n)=>t.once(e,n),off:(e,n)=>t.off(e,n),emit:(e,...n)=>t.emit(e,...n),subscribe(n,r,o=!1){t[o?"once":"on"](`${e}.${n}`,r)},unsubscribe(n,r){t.off(`${e}.${n}`,r)},subscribeHandler(n,r,o){t.emit(`${e}.${n}`,r,o)}}}const Il="invokeViewApi",Cl="invokeServiceApi";let Nl=1;const Al=Object.create(null);function Ml(e,t){return e+"."+t}function wl(e,t,n){t=Ml(e,t),Al[t]||(Al[t]=n)}function kl({id:e,name:t,args:n},r){t=Ml(r,t);const o=t=>{e&&dv.publishHandler(Il+"."+e,t)},a=Al[t];a?a(n,o):o({})}const Ll=l(bl("service"),{invokeServiceMethod:(e,t,n)=>{const{subscribe:r,publishHandler:o}=dv,a=n?Nl++:0;n&&r(Cl+"."+a,n,!0),o(Cl,{id:a,name:e,args:t})}}),Pl=350,xl=10,Ul=nt(!0);let Dl;function Bl(){Dl&&(clearTimeout(Dl),Dl=null)}let Gl=0,jl=0;function Fl(e){if(Bl(),1!==e.touches.length)return;const{pageX:t,pageY:n}=e.touches[0];Gl=t,jl=n,Dl=setTimeout((function(){const t=new CustomEvent("longpress",{bubbles:!0,cancelable:!0,target:e.target,currentTarget:e.currentTarget});t.touches=e.touches,t.changedTouches=e.changedTouches,e.target.dispatchEvent(t)}),Pl)}function Hl(e){if(!Dl)return;if(1!==e.touches.length)return Bl();const{pageX:t,pageY:n}=e.touches[0];return Math.abs(t-Gl)>xl||Math.abs(n-jl)>xl?Bl():void 0}function Wl(e,t){const n=Number(e);return isNaN(n)?t:n}function Vl(){const e=__uniConfig.globalStyle||{},t=Wl(e.rpxCalcMaxDeviceWidth,960),n=Wl(e.rpxCalcBaseDeviceWidth,375);function r(){let e=function(){const e=/^Apple/.test(navigator.vendor)&&"number"==typeof window.orientation,t=e&&90===Math.abs(window.orientation);var n=e?Math[t?"max":"min"](screen.width,screen.height):screen.width;return Math.min(window.innerWidth,document.documentElement.clientWidth,n)||n}();e=e<=t?e:n,document.documentElement.style.fontSize=e/23.4375+"px"}r(),document.addEventListener("DOMContentLoaded",r),window.addEventListener("load",r),window.addEventListener("resize",r)}function $l(){Vl(),Qe(),window.addEventListener("touchstart",Fl,Ul),window.addEventListener("touchmove",Hl,Ul),window.addEventListener("touchend",Bl,Ul),window.addEventListener("touchcancel",Bl,Ul)}function ql(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zl,Kl,Jl=["top","left","right","bottom"],Xl={};function Yl(){return Kl="CSS"in window&&"function"==typeof CSS.supports?CSS.supports("top: env(safe-area-inset-top)")?"env":CSS.supports("top: constant(safe-area-inset-top)")?"constant":"":""}function Ql(){if(Kl="string"==typeof Kl?Kl:Yl()){var e=[],t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t={passive:!0}}});window.addEventListener("test",null,n)}catch(s){}var r=document.createElement("div");o(r,{position:"absolute",left:"0",top:"0",width:"0",height:"0",zIndex:"-1",overflow:"hidden",visibility:"hidden"}),Jl.forEach((function(e){i(r,e)})),document.body.appendChild(r),a(),zl=!0}else Jl.forEach((function(e){Xl[e]=0}));function o(e,t){var n=e.style;Object.keys(t).forEach((function(e){var r=t[e];n[e]=r}))}function a(t){t?e.push(t):e.forEach((function(e){e()}))}function i(e,n){var r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),c=document.createElement("div"),l={position:"absolute",width:"100px",height:"200px",boxSizing:"border-box",overflow:"hidden",paddingBottom:Kl+"(safe-area-inset-"+n+")"};o(r,l),o(i,l),o(s,{transition:"0s",animation:"none",width:"400px",height:"400px"}),o(c,{transition:"0s",animation:"none",width:"250%",height:"250%"}),r.appendChild(s),i.appendChild(c),e.appendChild(r),e.appendChild(i),a((function(){r.scrollTop=i.scrollTop=1e4;var e=r.scrollTop,o=i.scrollTop;function a(){this.scrollTop!==(this===r?e:o)&&(r.scrollTop=i.scrollTop=1e4,e=r.scrollTop,o=i.scrollTop,function(e){eu.length||setTimeout((function(){var e={};eu.forEach((function(t){e[t]=Xl[t]})),eu.length=0,tu.forEach((function(t){t(e)}))}),0);eu.push(e)}(n))}r.addEventListener("scroll",a,t),i.addEventListener("scroll",a,t)}));var u=getComputedStyle(r);Object.defineProperty(Xl,n,{configurable:!0,get:function(){return parseFloat(u.paddingBottom)}})}}function Zl(e){return zl||Ql(),Xl[e]}var eu=[];var tu=[];const nu=ql({get support(){return 0!=("string"==typeof Kl?Kl:Yl()).length},get top(){return Zl("top")},get left(){return Zl("left")},get right(){return Zl("right")},get bottom(){return Zl("bottom")},onChange:function(e){Yl()&&(zl||Ql(),"function"==typeof e&&tu.push(e))},offChange:function(e){var t=tu.indexOf(e);t>=0&&tu.splice(t,1)}}),ru=hs((()=>{}),["prevent"]);function ou(e,t){return parseInt((e.getPropertyValue(t).match(/\d+/)||["0"])[0])}function au(){const e=ou(document.documentElement.style,"--window-top");return e?e+nu.top:0}function iu(e){const t=document.documentElement.style;Object.keys(e).forEach((n=>{t.setProperty(n,e[n])}))}function su(e){return iu(e)}function cu(e){return Symbol(e)}function lu(e){return-1!==(e+="").indexOf("rpx")||-1!==e.indexOf("upx")}function uu(e,t=!1){if(t)return function(e){if(!lu(e))return e;return e.replace(/(\d+(\.\d+)?)[ru]px/g,((e,t)=>fp(parseFloat(t))+"px"))}(e);if(y(e)){const t=parseInt(e)||0;return lu(e)?fp(t):t}return e}const du="M1.952 18.080q-0.32-0.352-0.416-0.88t0.128-0.976l0.16-0.352q0.224-0.416 0.64-0.528t0.8 0.176l6.496 4.704q0.384 0.288 0.912 0.272t0.88-0.336l17.312-14.272q0.352-0.288 0.848-0.256t0.848 0.352l-0.416-0.416q0.32 0.352 0.32 0.816t-0.32 0.816l-18.656 18.912q-0.32 0.352-0.8 0.352t-0.8-0.32l-7.936-8.064z",pu="M15.808 0.16q-4.224 0-7.872 2.176-3.552 2.112-5.632 5.728-2.144 3.744-2.144 8.128 0 4.192 2.144 7.872 2.112 3.52 5.632 5.632 3.68 2.144 7.872 2.144 4.384 0 8.128-2.144 3.616-2.080 5.728-5.632 2.176-3.648 2.176-7.872 0-4.384-2.176-8.128-2.112-3.616-5.728-5.728-3.744-2.176-8.128-2.176zM15.136 8.672h1.728q0.128 0 0.224 0.096t0.096 0.256l-0.384 10.24q0 0.064-0.048 0.112t-0.112 0.048h-1.248q-0.096 0-0.144-0.048t-0.048-0.112l-0.384-10.24q0-0.16 0.096-0.256t0.224-0.096zM16 23.328q-0.48 0-0.832-0.352t-0.352-0.848 0.352-0.848 0.832-0.352 0.832 0.352 0.352 0.848-0.352 0.848-0.832 0.352z",hu="M21.781 7.844l-9.063 8.594 9.063 8.594q0.25 0.25 0.25 0.609t-0.25 0.578q-0.25 0.25-0.578 0.25t-0.578-0.25l-9.625-9.125q-0.156-0.125-0.203-0.297t-0.047-0.359q0-0.156 0.047-0.328t0.203-0.297l9.625-9.125q0.25-0.25 0.578-0.25t0.578 0.25q0.25 0.219 0.25 0.578t-0.25 0.578z";function fu(e,t="#000",n=27){return Fa("svg",{width:n,height:n,viewBox:"0 0 32 32"},[Fa("path",{d:e,fill:t},null,8,["d","fill"])],8,["width","height"])}function mu(){{const{$pageInstance:e}=Za();return e&&e.proxy.$page.id}}function gu(){const e=qf(),t=e.length;if(t)return e[t-1]}function vu(){const e=gu();if(e)return e.$page.meta}function yu(){const e=vu();return e?e.id:-1}function _u(){const e=gu();if(e)return e.$vm}const Eu=["navigationBar","pullToRefresh"];function Tu(e,t){const n=JSON.parse(JSON.stringify(__uniConfig.globalStyle||{})),r=l({id:t},n,e);Eu.forEach((t=>{r[t]=l({},n[t],e[t])}));const{navigationBar:o}=r;return o.titleText&&o.titleImage&&(o.titleText=""),r}function Su(e,t,n){if(y(e))n=t,t=e,e=_u();else if("number"==typeof e){const t=qf().find((t=>t.$page.id===e));e=t?t.$vm:_u()}if(!e)return;const r=e.$[t];return r&&Je(r,n)}function Ou(e){e.preventDefault()}let Ru,bu=0;function Iu({onPageScroll:e,onReachBottom:t,onReachBottomDistance:n}){let r=!1,o=!1,a=!0;const i=()=>{function i(){if((()=>{const{scrollHeight:e}=document.documentElement,t=window.innerHeight,r=window.scrollY,a=r>0&&e>t&&r+t+n>=e,i=Math.abs(e-bu)>n;return!a||o&&!i?(!a&&o&&(o=!1),!1):(bu=e,o=!0,!0)})())return t&&t(),a=!1,setTimeout((function(){a=!0}),350),!0}e&&e(window.pageYOffset),t&&a&&(i()||(Ru=setTimeout(i,300))),r=!1};return function(){clearTimeout(Ru),r||requestAnimationFrame(i),r=!0}}function Cu(e,t){if(0===t.indexOf("/"))return t;if(0===t.indexOf("./"))return Cu(e,t.slice(2));const n=t.split("/"),r=n.length;let o=0;for(;o<r&&".."===n[o];o++);n.splice(0,o),t=n.join("/");const a=e.length>0?e.split("/"):[];return a.splice(a.length-o-1,o+1),Ke(a.concat(n).join("/"))}function Nu(e,t=!1){return t?__uniRoutes.find((t=>t.path===e||t.alias===e)):__uniRoutes.find((t=>t.path===e))}class Au{constructor(e){this.$bindClass=!1,this.$bindStyle=!1,this.$vm=e,this.$el=function(e,t=!1){const{vnode:n}=e;if(Ve(n.el))return t?n.el?[n.el]:[]:n.el;const{subTree:r}=e;if(16&r.shapeFlag){const e=r.children.filter((e=>e.el&&Ve(e.el)));if(e.length>0)return t?e.map((e=>e.el)):e[0].el}return t?n.el?[n.el]:[]:n.el}(e.$),this.$el.getAttribute&&(this.$bindClass=!!this.$el.getAttribute("class"),this.$bindStyle=!!this.$el.getAttribute("style"))}selectComponent(e){if(!this.$el||!e)return;const t=Lu(this.$el.querySelector(e));return t?Mu(t,!1):void 0}selectAllComponents(e){if(!this.$el||!e)return[];const t=[],n=this.$el.querySelectorAll(e);for(let r=0;r<n.length;r++){const e=Lu(n[r]);e&&t.push(Mu(e,!1))}return t}forceUpdate(e){"class"===e?this.$bindClass?(this.$el.__wxsClassChanged=!0,this.$vm.$forceUpdate()):this.updateWxsClass():"style"===e&&(this.$bindStyle?(this.$el.__wxsStyleChanged=!0,this.$vm.$forceUpdate()):this.updateWxsStyle())}updateWxsClass(){const{__wxsAddClass:e}=this.$el;e.length&&(this.$el.className=e.join(" "))}updateWxsStyle(){const{__wxsStyle:e}=this.$el;e&&this.$el.setAttribute("style",function(e){let t="";if(!e||y(e))return t;for(const n in e){const r=e[n],o=n.startsWith("--")?n:k(n);(y(r)||"number"==typeof r)&&(t+=`${o}:${r};`)}return t}(e))}setStyle(e){return this.$el&&e?(y(e)&&(e=z(e)),b(e)&&(this.$el.__wxsStyle=e,this.forceUpdate("style")),this):this}addClass(e){if(!this.$el||!e)return this;const t=this.$el.__wxsAddClass||(this.$el.__wxsAddClass=[]);return-1===t.indexOf(e)&&(t.push(e),this.forceUpdate("class")),this}removeClass(e){if(!this.$el||!e)return this;const{__wxsAddClass:t}=this.$el;if(t){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const n=this.$el.__wxsRemoveClass||(this.$el.__wxsRemoveClass=[]);return-1===n.indexOf(e)&&(n.push(e),this.forceUpdate("class")),this}hasClass(e){return this.$el&&this.$el.classList.contains(e)}getDataset(){return this.$el&&this.$el.dataset}callMethod(e,t={}){const n=this.$vm[e];v(n)?n(JSON.parse(JSON.stringify(t))):this.$vm.ownerId&&dv.publishHandler("onWxsInvokeCallMethod",{nodeId:this.$el.__id,ownerId:this.$vm.ownerId,method:e,args:t})}requestAnimationFrame(e){return window.requestAnimationFrame(e)}getState(){return this.$el&&(this.$el.__wxsState||(this.$el.__wxsState={}))}triggerEvent(e,t={}){return this.$vm.$emit(e,t),this}getComputedStyle(e){if(this.$el){const t=window.getComputedStyle(this.$el);return e&&e.length?e.reduce(((e,n)=>(e[n]=t[n],e)),{}):t}return{}}setTimeout(e,t){return window.setTimeout(e,t)}clearTimeout(e){return window.clearTimeout(e)}getBoundingClientRect(){return this.$el.getBoundingClientRect()}}function Mu(e,t=!0){if(t&&e&&(e=We(e.$)),e&&e.$el)return e.$el.__wxsComponentDescriptor||(e.$el.__wxsComponentDescriptor=new Au(e)),e.$el.__wxsComponentDescriptor}function wu(e,t){return Mu(e,t)}function ku(e,t,n,r=!0){if(t){e.__instance||(e.__instance=!0,Object.defineProperty(e,"instance",{get:()=>wu(n.proxy,!1)}));const o=function(e,t,n=!0){if(!t)return!1;if(n&&e.length<2)return!1;const r=We(t);if(!r)return!1;const o=r.$.type;return!(!o.$wxs&&!o.$renderjs)&&r}(t,n,r);if(o)return[e,wu(o,!1)]}}function Lu(e){if(e)return e.__vueParentComponent&&e.__vueParentComponent.proxy}function Pu(e,t=!1){const{type:n,timeStamp:r,target:o,currentTarget:a}=e;let i,s;i=rt(t?o:function(e){for(;e&&0!==e.tagName.indexOf("UNI-");)e=e.parentElement;return e}(o)),s=rt(a);const c={type:n,timeStamp:r,target:i,detail:{},currentTarget:s};return e._stopped&&(c._stopped=!0),e.type.startsWith("touch")&&(c.touches=e.touches,c.changedTouches=e.changedTouches),function(e,t){l(e,{preventDefault:()=>t.preventDefault(),stopPropagation:()=>t.stopPropagation()})}(c,e),c}function xu(e,t){return{force:1,identifier:0,clientX:e.clientX,clientY:e.clientY-t,pageX:e.pageX,pageY:e.pageY-t}}function Uu(e,t){const n=[];for(let r=0;r<e.length;r++){const{identifier:o,pageX:a,pageY:i,clientX:s,clientY:c,force:l}=e[r];n.push({identifier:o,pageX:a,pageY:i-t,clientX:s,clientY:c-t,force:l||0})}return n}const Du=Object.defineProperty({__proto__:null,$nne:function(e,t,n){const{currentTarget:r}=e;if(!(e instanceof Event&&r instanceof HTMLElement))return[e];const o=0!==r.tagName.indexOf("UNI-");if(o)return ku(e,t,n,!1)||[e];const a=Pu(e,o);if("click"===e.type)!function(e,t){const{x:n,y:r}=t,o=au();e.detail={x:n,y:r-o},e.touches=e.changedTouches=[xu(t,o)]}(a,e);else if((e=>0===e.type.indexOf("mouse")||["contextmenu"].includes(e.type))(e))!function(e,t){const n=au();e.pageX=t.pageX,e.pageY=t.pageY-n,e.clientX=t.clientX,e.clientY=t.clientY-n,e.touches=e.changedTouches=[xu(t,n)]}(a,e);else if((e=>"undefined"!=typeof TouchEvent&&e instanceof TouchEvent||0===e.type.indexOf("touch")||["longpress"].indexOf(e.type)>=0)(e)){const t=au();a.touches=Uu(e.touches,t),a.changedTouches=Uu(e.changedTouches,t)}else if((e=>!e.type.indexOf("key")&&e instanceof KeyboardEvent)(e)){["key","code"].forEach((t=>{Object.defineProperty(a,t,{get:()=>e[t]})}))}return ku(a,t,n)||[a]},createNativeEvent:Pu},Symbol.toStringTag,{value:"Module"});function Bu(e){!function(e){const t=e.globalProperties;l(t,Du),t.$gcd=wu}(e._context.config)}let Gu=1;function ju(e){return(e||yu())+"."+Il}const Fu=l(bl("view"),{invokeOnCallback:(e,t)=>pv.emit("api."+e,t),invokeViewMethod:(e,t,n,r)=>{const{subscribe:o,publishHandler:a}=pv,i=r?Gu++:0;r&&o(Il+"."+i,r,!0),a(ju(n),{id:i,name:e,args:t},n)},invokeViewMethodKeepAlive:(e,t,n,r)=>{const{subscribe:o,unsubscribe:a,publishHandler:i}=pv,s=Gu++,c=Il+"."+s;return o(c,n),i(ju(r),{id:s,name:e,args:t},r),()=>{a(c)}}});function Hu(e){Su(gu(),be,e),pv.invokeOnCallback("onWindowResize",e)}function Wu(e){const t=gu();Su(gm(),fe,e),Su(t,fe)}function Vu(){Su(gm(),me),Su(gu(),me)}const $u=[Ce,Ae];function qu(){$u.forEach((e=>pv.subscribe(e,function(e){return(t,n)=>{Su(parseInt(n),e,t)}}(e))))}function zu(){!function(){const{on:e}=pv;e(be,Hu),e(je,Wu),e(Fe,Vu)}(),qu()}function Ku(){if(this.$route){const e=this.$route.meta;return e.eventChannel||(e.eventChannel=new lt(this.$page.id)),e.eventChannel}}function Ju(e){e._context.config.globalProperties.getOpenerEventChannel=Ku}function Xu(){return{path:"",query:{},scene:1001,referrerInfo:{appId:"",extraData:{}}}}function Yu(e){return/^-?\d+[ur]px$/i.test(e)?e.replace(/(^-?\d+)[ur]px$/i,((e,t)=>`${fp(parseFloat(t))}px`)):/^-?[\d\.]+$/.test(e)?`${e}px`:e||""}function Qu(e){const t=e.animation;if(!t||!t.actions||!t.actions.length)return;let n=0;const r=t.actions,o=t.actions.length;function a(){const t=r[n],i=t.option.transition,s=function(e){const t=["matrix","matrix3d","scale","scale3d","rotate3d","skew","translate","translate3d"],n=["scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skewX","skewY","translateX","translateY","translateZ"],r=["opacity","background-color"],o=["width","height","left","right","top","bottom"],a=e.animates,i=e.option,s=i.transition,c={},l=[];return a.forEach((e=>{let a=e.type,i=[...e.args];if(t.concat(n).includes(a))a.startsWith("rotate")||a.startsWith("skew")?i=i.map((e=>parseFloat(e)+"deg")):a.startsWith("translate")&&(i=i.map(Yu)),n.indexOf(a)>=0&&(i.length=1),l.push(`${a}(${i.join(",")})`);else if(r.concat(o).includes(i[0])){a=i[0];const e=i[1];c[a]=o.includes(a)?Yu(e):e}})),c.transform=c.webkitTransform=l.join(" "),c.transition=c.webkitTransition=Object.keys(c).map((e=>`${function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`)).replace("webkit","-webkit")}(e)} ${s.duration}ms ${s.timingFunction} ${s.delay}ms`)).join(","),c.transformOrigin=c.webkitTransformOrigin=i.transformOrigin,c}(t);Object.keys(s).forEach((t=>{e.$el.style[t]=s[t]})),n+=1,n<o&&setTimeout(a,i.duration+i.delay)}setTimeout((()=>{a()}),0)}const Zu={props:["animation"],watch:{animation:{deep:!0,handler(){Qu(this)}}},mounted(){Qu(this)}},ed=e=>{e.__reserved=!0;const{props:t,mixins:n}=e;return t&&t.animation||(n||(e.mixins=[])).push(Zu),td(e)},td=e=>(e.__reserved=!0,e.compatConfig={MODE:3},Qr(e));function nd(e){return e.__wwe=!0,e}function rd(e,t){return(n,r,o)=>{e.value&&t(n,function(e,t,n,r){let o;return o=rt(n),{type:r.type||e,timeStamp:t.timeStamp||0,target:o,currentTarget:o,detail:r}}(n,r,e.value,o||{}))}}const od={hoverClass:{type:String,default:"none"},hoverStopPropagation:{type:Boolean,default:!1},hoverStartTime:{type:[Number,String],default:50},hoverStayTime:{type:[Number,String],default:400}};function ad(e){const t=Vn(!1);let n,r,o=!1;function a(){requestAnimationFrame((()=>{clearTimeout(r),r=setTimeout((()=>{t.value=!1}),parseInt(e.hoverStayTime))}))}function i(r){r._hoverPropagationStopped||e.hoverClass&&"none"!==e.hoverClass&&!e.disabled&&(e.hoverStopPropagation&&(r._hoverPropagationStopped=!0),o=!0,n=setTimeout((()=>{t.value=!0,o||a()}),parseInt(e.hoverStartTime)))}function s(){o=!1,t.value&&a()}function c(){s(),window.removeEventListener("mouseup",c)}return{hovering:t,binding:{onTouchstartPassive:nd((function(e){e.touches.length>1||i(e)})),onMousedown:nd((function(e){o||(i(e),window.addEventListener("mouseup",c))})),onTouchend:nd((function(){s()})),onMouseup:nd((function(){o&&c()})),onTouchcancel:nd((function(){o=!1,t.value=!1,clearTimeout(n)}))}}}function id(e,t){return y(t)&&(t=[t]),t.reduce(((t,n)=>(e[n]&&(t[n]=!0),t)),Object.create(null))}const sd=cu("uf"),cd={for:{type:String,default:""}},ld=cu("ul");const ud=ed({name:"Label",props:cd,setup(e,{slots:t}){const n=Vn(null),r=mu(),o=function(){const e=[];return Pr(ld,{addHandler(t){e.push(t)},removeHandler(t){e.splice(e.indexOf(t),1)}}),e}(),a=li((()=>e.for||t.default&&t.default.length)),i=nd((t=>{const n=t.target;let a=/^uni-(checkbox|radio|switch)-/.test(n.className);a||(a=/^uni-(checkbox|radio|switch|button)$|^(svg|path)$/i.test(n.tagName)),a||(e.for?dv.emit("uni-label-click-"+r+"-"+e.for,t,!0):o.length&&o[0](t,!0))}));return()=>Fa("uni-label",{ref:n,class:{"uni-label-pointer":a},onClick:i},[t.default&&t.default()],10,["onClick"])}});function pd(e,t){hd(e.id,t),Br((()=>e.id),((e,n)=>{fd(n,t,!0),hd(e,t,!0)})),Ro((()=>{fd(e.id,t)}))}function hd(e,t,n){const r=mu();n&&!e||b(t)&&Object.keys(t).forEach((o=>{n?0!==o.indexOf("@")&&0!==o.indexOf("uni-")&&dv.on(`uni-${o}-${r}-${e}`,t[o]):0===o.indexOf("uni-")?dv.on(o,t[o]):e&&dv.on(`uni-${o}-${r}-${e}`,t[o])}))}function fd(e,t,n){const r=mu();n&&!e||b(t)&&Object.keys(t).forEach((o=>{n?0!==o.indexOf("@")&&0!==o.indexOf("uni-")&&dv.off(`uni-${o}-${r}-${e}`,t[o]):0===o.indexOf("uni-")?dv.off(o,t[o]):e&&dv.off(`uni-${o}-${r}-${e}`,t[o])}))}const md=ed({name:"Button",props:{id:{type:String,default:""},hoverClass:{type:String,default:"button-hover"},hoverStartTime:{type:[Number,String],default:20},hoverStayTime:{type:[Number,String],default:70},hoverStopPropagation:{type:Boolean,default:!1},disabled:{type:[Boolean,String],default:!1},formType:{type:String,default:""},openType:{type:String,default:""},loading:{type:[Boolean,String],default:!1},plain:{type:[Boolean,String],default:!1}},setup(e,{slots:t}){const n=Vn(null),r=xr(sd,!1),{hovering:o,binding:a}=ad(e);yl();const i=nd(((t,o)=>{if(e.disabled)return t.stopImmediatePropagation();o&&n.value.click();const a=e.formType;if(a){if(!r)return;"submit"===a?r.submit(t):"reset"===a&&r.reset(t)}else;})),s=xr(ld,!1);return s&&(s.addHandler(i),Oo((()=>{s.removeHandler(i)}))),pd(e,{"label-click":i}),()=>{const r=e.hoverClass,s=id(e,"disabled"),c=id(e,"loading"),l=id(e,"plain"),u=r&&"none"!==r;return Fa("uni-button",Ka({ref:n,onClick:i,id:e.id,class:u&&o.value?r:""},u&&a,s,c,l),[t.default&&t.default()],16,["onClick","id"])}}});function gd(e){const{base:t}=__uniConfig.router;return 0===Ke(e).indexOf(t)?Ke(e):t+e}function vd(e){const{base:t,assets:n}=__uniConfig.router;if("./"===t&&(0===e.indexOf("./static/")||n&&0===e.indexOf("./"+n+"/"))&&(e=e.slice(1)),0===e.indexOf("/")){if(0!==e.indexOf("//"))return gd(e.slice(1));e="https:"+e}if(de.test(e)||pe.test(e)||0===e.indexOf("blob:"))return e;const r=qf();return r.length?gd(Cu(r[r.length-1].$page.route,e).slice(1)):e}const yd=navigator.userAgent,_d=/android/i.test(yd),Ed=/iphone|ipad|ipod/i.test(yd),Td=yd.match(/Windows NT ([\d|\d.\d]*)/i),Sd=/Macintosh|Mac/i.test(yd),Od=/Linux|X11/i.test(yd),Rd=Sd&&navigator.maxTouchPoints>0;function bd(){return/^Apple/.test(navigator.vendor)&&"number"==typeof window.orientation}function Id(e){return e&&90===Math.abs(window.orientation)}function Cd(e,t){return e?Math[t?"max":"min"](screen.width,screen.height):screen.width}function Nd(e){return Math.min(window.innerWidth,document.documentElement.clientWidth,e)||e}const Ad=["original","compressed"],Md=["album","camera"],wd=["GET","OPTIONS","HEAD","POST","PUT","DELETE","TRACE","CONNECT","PATCH"];function kd(e,t){return e&&-1!==t.indexOf(e)?e:t[0]}function Ld(e,t){return!h(e)||0===e.length||e.find((e=>-1===t.indexOf(e)))?t:e}function Pd(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}let xd=1;const Ud={};function Dd(e,t,n){if("number"==typeof e){const r=Ud[e];if(r)return r.keepAlive||delete Ud[e],r.callback(t,n)}return t}const Bd="success",Gd="fail",jd="complete";function Fd(e,t={},{beforeAll:n,beforeSuccess:r}={}){b(t)||(t={});const{success:o,fail:a,complete:i}=function(e){const t={};for(const n in e){const r=e[n];v(r)&&(t[n]=Pd(r),delete e[n])}return t}(t),s=v(o),c=v(a),l=v(i),u=xd++;return function(e,t,n,r=!1){Ud[e]={name:t,keepAlive:r,callback:n}}(u,e,(u=>{(u=u||{}).errMsg=function(e,t){return e&&-1!==e.indexOf(":fail")?t+e.substring(e.indexOf(":fail")):t+":ok"}(u.errMsg,e),v(n)&&n(u),u.errMsg===e+":ok"?(v(r)&&r(u,t),s&&o(u)):c&&a(u),l&&i(u)})),u}const Hd="success",Wd="fail",Vd="complete",$d={},qd={};function zd(e,t){return function(n){return e(n,t)||n}}function Kd(e,t,n){let r=!1;for(let o=0;o<e.length;o++){const a=e[o];if(r)r=Promise.resolve(zd(a,n));else{const e=a(t,n);if(T(e)&&(r=Promise.resolve(e)),!1===e)return{then(){},catch(){}}}}return r||{then:e=>e(t),catch(){}}}function Jd(e,t={}){return[Hd,Wd,Vd].forEach((n=>{const r=e[n];if(!h(r))return;const o=t[n];t[n]=function(e){Kd(r,e,t).then((e=>v(o)&&o(e)||e))}})),t}function Xd(e,t){const n=[];h($d.returnValue)&&n.push(...$d.returnValue);const r=qd[e];return r&&h(r.returnValue)&&n.push(...r.returnValue),n.forEach((e=>{t=e(t)||t})),t}function Yd(e){const t=Object.create(null);Object.keys($d).forEach((e=>{"returnValue"!==e&&(t[e]=$d[e].slice())}));const n=qd[e];return n&&Object.keys(n).forEach((e=>{"returnValue"!==e&&(t[e]=(t[e]||[]).concat(n[e]))})),t}function Qd(e,t,n,r){const o=Yd(e);if(o&&Object.keys(o).length){if(h(o.invoke)){return Kd(o.invoke,n).then((n=>t(Jd(Yd(e),n),...r)))}return t(Jd(o,n),...r)}return t(n,...r)}function Zd(e,t){return(n={},...r)=>function(e){return!(!b(e)||![Bd,Gd,jd].find((t=>v(e[t]))))}(n)?Xd(e,Qd(e,t,n,r)):Xd(e,new Promise(((o,a)=>{Qd(e,t,l(n,{success:o,fail:a}),r)})))}function ep(e,t,n,r={}){const o=t+":fail"+(n?" "+n:"");return delete r.errCode,Dd(e,"undefined"!=typeof UniError?void 0!==r.errCode?new UniError(t,r.errCode,o):new UniError(o,r):l({errMsg:o},r))}function tp(e,t,n,r){if(r&&r.beforeInvoke){const e=r.beforeInvoke(t);if(y(e))return e}const o=function(e,t){const n=e[0];if(!t||!b(t.formatArgs)&&b(n))return;const r=t.formatArgs,o=Object.keys(r);for(let a=0;a<o.length;a++){const t=o[a],i=r[t];if(v(i)){const r=i(e[0][t],n);if(y(r))return r}else p(n,t)||(n[t]=i)}}(t,r);if(o)return o}function np(e,t,n,r){return n=>{const o=Fd(e,n,r),a=tp(0,[n],0,r);return a?ep(o,e,a):t(n,{resolve:t=>function(e,t,n){return Dd(e,l(n||{},{errMsg:t+":ok"}))}(o,e,t),reject:(t,n)=>ep(o,e,function(e){return!e||y(e)?e:e.stack?(console.error(e.message+ie+e.stack),e.message):e}(t),n)})}}function rp(e,t,n,r){return Zd(e,np(e,t,0,r))}function op(e,t,n,r){return function(e,t,n,r){return(...e)=>{const n=tp(0,e,0,r);if(n)throw new Error(n);return t.apply(null,e)}}(0,t,0,r)}function ap(e,t,n,r){return Zd(e,function(e,t,n,r){return np(e,t,0,r)}(e,t,0,r))}let ip=!1,sp=0,cp=0,lp=960,up=375,dp=750;function pp(){const{platform:e,pixelRatio:t,windowWidth:n}=function(){const e=bd(),t=Nd(Cd(e,Id(e)));return{platform:Ed?"ios":"other",pixelRatio:window.devicePixelRatio,windowWidth:t}}();sp=n,cp=t,ip="ios"===e}function hp(e,t){const n=Number(e);return isNaN(n)?t:n}const fp=op(0,((e,t)=>{if(0===sp&&(pp(),function(){const e=__uniConfig.globalStyle||{};lp=hp(e.rpxCalcMaxDeviceWidth,960),up=hp(e.rpxCalcBaseDeviceWidth,375),dp=hp(e.rpxCalcBaseDeviceWidth,750)}()),0===(e=Number(e)))return 0;let n=t||sp;n=e===dp||n<=lp?n:up;let r=e/750*n;return r<0&&(r=-r),r=Math.floor(r+1e-4),0===r&&(r=1!==cp&&ip?.5:1),e<0?-r:r})),mp=["onCanplay","onPlay","onPause","onStop","onEnded","onTimeUpdate","onError","onWaiting","onSeeking","onSeeked"],gp=["offCanplay","offPlay","offPause","offStop","offEnded","offTimeUpdate","offError","offWaiting","offSeeking","offSeeked"],vp=op(0,(()=>{const e=gm();return e&&e.$vm?e.$vm.$locale:yl().getLocale()})),yp={[Ee]:[],[_e]:[],[ve]:[],[fe]:[],[me]:[]};const _p={formatArgs:{count(e,t){(!e||e<=0)&&(t.count=9)},sizeType(e,t){t.sizeType=Ld(e,Ad)},sourceType(e,t){t.sourceType=Ld(e,Md)},extension(e,t){if(e instanceof Array&&0===e.length)return"param extension should not be empty.";e||(t.extension=["*"])}}},Ep={formatArgs:{sourceType(e,t){t.sourceType=Ld(e,Md)},compressed:!0,maxDuration:60,camera:"back",extension(e,t){if(e instanceof Array&&0===e.length)return"param extension should not be empty.";e||(t.extension=["*"])}}},Tp=(Boolean,{formatArgs:{urls(e,t){t.urls=e.map((e=>y(e)&&e?vd(e):""))},current(e,t){"number"==typeof e?t.current=e>0&&e<t.urls.length?e:0:y(e)&&e&&(t.current=vd(e))}}}),Sp="json",Op=["text","arraybuffer"],Rp=encodeURIComponent;ArrayBuffer,Boolean;const bp={formatArgs:{method(e,t){t.method=kd((e||"").toUpperCase(),wd)},data(e,t){t.data=e||""},url(e,t){t.method===wd[0]&&b(t.data)&&Object.keys(t.data).length&&(t.url=function(e,t){let n=e.split("#");const r=n[1]||"";n=n[0].split("?");let o=n[1]||"";e=n[0];const a=o.split("&").filter((e=>e)),i={};a.forEach((e=>{const t=e.split("=");i[t[0]]=t[1]}));for(const s in t)if(p(t,s)){let e=t[s];null==e?e="":b(e)&&(e=JSON.stringify(e)),i[Rp(s)]=Rp(e)}return o=Object.keys(i).map((e=>`${e}=${i[e]}`)).join("&"),e+(o?"?"+o:"")+(r?"#"+r:"")}(e,t.data))},header(e,t){const n=t.header=e||{};t.method!==wd[0]&&(Object.keys(n).find((e=>"content-type"===e.toLowerCase()))||(n["Content-Type"]="application/json"))},dataType(e,t){t.dataType=(e||Sp).toLowerCase()},responseType(e,t){t.responseType=(e||"").toLowerCase(),-1===Op.indexOf(t.responseType)&&(t.responseType="text")}}},Ip={formatArgs:{filePath(e,t){e&&(t.filePath=vd(e))},header(e,t){t.header=e||{}},formData(e,t){t.formData=e||{}}}};const Cp={url:{type:String,required:!0}},Np="navigateTo",Ap="redirectTo",Mp="reLaunch",wp="switchTab",kp="preloadPage",Lp="unPreloadPage",Pp=(Gp(["slide-in-right","slide-in-left","slide-in-top","slide-in-bottom","fade-in","zoom-out","zoom-fade-out","pop-in","none"]),Gp(["slide-out-right","slide-out-left","slide-out-top","slide-out-bottom","fade-out","zoom-in","zoom-fade-in","pop-out","none"]),Hp(Np)),xp=Hp(Ap),Up=Hp(Mp),Dp=Hp(wp),Bp={formatArgs:{delta(e,t){e=parseInt(e+"")||1,t.delta=Math.min(qf().length-1,e)}}};function Gp(e){return{animationType:{type:String,validator(t){if(t&&-1===e.indexOf(t))return"`"+t+"` is not supported for `animationType` (supported values are: `"+e.join("`|`")+"`)"}},animationDuration:{type:Number}}}let jp;function Fp(){jp=""}function Hp(e){return{formatArgs:{url:Wp(e)},beforeAll:Fp}}function Wp(e){return function(t,n){if(!t)return'Missing required args: "url"';const r=(t=function(e){if(0===e.indexOf("/"))return e;let t="";const n=qf();return n.length&&(t=n[n.length-1].$page.route),Cu(t,e)}(t)).split("?")[0],o=Nu(r,!0);if(!o)return"page `"+t+"` is not found";if(e===Np||e===Ap){if(o.meta.isTabBar)return`can not ${e} a tabbar page`}else if(e===wp&&!o.meta.isTabBar)return"can not switch to no-tabBar page";if(e!==wp&&e!==kp||!o.meta.isTabBar||"appLaunch"===n.openType||(t=r),o.meta.isEntry&&(t=t.replace(o.alias,"/")),n.url=function(e){if(!y(e))return e;const t=e.indexOf("?");if(-1===t)return e;const n=e.slice(t+1).trim().replace(/^(\?|#|&)/,"");if(!n)return e;e=e.slice(0,t);const r=[];return n.split("&").forEach((e=>{const t=e.replace(/\+/g," ").split("="),n=t.shift(),o=t.length>0?t.join("="):"";r.push(n+"="+encodeURIComponent(o))})),r.length?e+"?"+r.join("&"):e}(t),e!==Lp)if(e!==kp){if(jp===t&&"appLaunch"!==n.openType)return`${jp} locked`;__uniConfig.ready&&(jp=t)}else if(o.meta.isTabBar){const e=qf(),t=o.path.slice(1);if(e.find((e=>e.route===t)))return"tabBar page `"+t+"` already exists"}}}const Vp="setNavigationBarTitle",$p=(Boolean,{formatArgs:{title:"",mask:!1}}),qp=["success","loading","none","error"],zp=(Boolean,{formatArgs:{title:"",icon(e,t){t.icon=kd(e,qp)},image(e,t){t.image=e?vd(e):""},duration:1500,mask:!1}}),Kp={};function Jp(e,t){const n=Kp[e];return n?Promise.resolve(n):/^data:[a-z-]+\/[a-z-]+;base64,/.test(e)?Promise.resolve(function(e){const t=e.split(","),n=t[0].match(/:(.*?);/),r=n?n[1]:"",o=atob(t[1]);let a=o.length;const i=new Uint8Array(a);for(;a--;)i[a]=o.charCodeAt(a);return Xp(i,r)}(e)):t?Promise.reject(new Error("not find")):new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="blob",r.onload=function(){t(this.response)},r.onerror=n,r.send()}))}function Xp(e,t){let n;if(e instanceof File)n=e;else{t=t||e.type||"";const o=`${Date.now()}${function(e){const t=e.split("/")[1];return t?`.${t}`:""}(t)}`;try{n=new File([e],o,{type:t})}catch(r){n=e=e instanceof Blob?e:new Blob([e],{type:t}),n.name=n.name||o}}return n}function Yp(e){for(const n in Kp)if(p(Kp,n)){if(Kp[n]===e)return n}var t=(window.URL||window.webkitURL).createObjectURL(e);return Kp[t]=e,t}function Qp(e){(window.URL||window.webkitURL).revokeObjectURL(e),delete Kp[e]}const Zp=Xu(),eh=Xu();const th=ed({name:"ResizeSensor",props:{initial:{type:Boolean,default:!1}},emits:["resize"],setup(e,{emit:t}){const n=Vn(null),r=function(e){return()=>{const{firstElementChild:t,lastElementChild:n}=e.value;t.scrollLeft=1e5,t.scrollTop=1e5,n.scrollLeft=1e5,n.scrollTop=1e5}}(n),o=function(e,t,n){const r=An({width:-1,height:-1});return Br((()=>l({},r)),(e=>t("resize",e))),()=>{const t=e.value;r.width=t.offsetWidth,r.height=t.offsetHeight,n()}}(n,t,r);return function(e,t,n,r){so(r),Eo((()=>{t.initial&&hr(n);const o=e.value;o.offsetParent!==o.parentElement&&(o.parentElement.style.position="relative"),"AnimationEvent"in window||r()}))}(n,e,o,r),()=>Fa("uni-resize-sensor",{ref:n,onAnimationstartOnce:o},[Fa("div",{onScroll:o},[Fa("div",null,null)],40,["onScroll"]),Fa("div",{onScroll:o},[Fa("div",null,null)],40,["onScroll"])],40,["onAnimationstartOnce"])}});const nh=cu("ucg"),rh=ed({name:"CheckboxGroup",props:{name:{type:String,default:""}},emits:["change"],setup(e,{emit:t,slots:n}){const r=Vn(null);return function(e,t){const n=[],r=()=>n.reduce(((e,t)=>(t.value.checkboxChecked&&e.push(t.value.value),e)),new Array);Pr(nh,{addField(e){n.push(e)},removeField(e){n.splice(n.indexOf(e),1)},checkboxChange(e){t("change",e,{value:r()})}});const o=xr(sd,!1);o&&o.addField({submit:()=>{let t=["",null];return""!==e.name&&(t[0]=e.name,t[1]=r()),t}})}(e,rd(r,t)),()=>Fa("uni-checkbox-group",{ref:r},[n.default&&n.default()],512)}});const oh=ed({name:"Checkbox",props:{checked:{type:[Boolean,String],default:!1},id:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},value:{type:String,default:""},color:{type:String,default:"#007aff"},backgroundColor:{type:String,default:""},borderColor:{type:String,default:""},activeBackgroundColor:{type:String,default:""},activeBorderColor:{type:String,default:""},iconColor:{type:String,default:""}},setup(e,{slots:t}){const n=Vn(null),r=Vn(e.checked),o=li((()=>"true"===r.value||!0===r.value)),a=Vn(e.value);const i=li((()=>function(t){if(e.disabled)return{backgroundColor:"#E1E1E1",borderColor:"#D1D1D1"};const n={};return t?(e.activeBorderColor&&(n.borderColor=e.activeBorderColor),e.activeBackgroundColor&&(n.backgroundColor=e.activeBackgroundColor)):(e.borderColor&&(n.borderColor=e.borderColor),e.backgroundColor&&(n.backgroundColor=e.backgroundColor)),n}(o.value)));Br([()=>e.checked,()=>e.value],(([e,t])=>{r.value=e,a.value=t}));const{uniCheckGroup:s,uniLabel:c}=function(e,t,n){const r=li((()=>({checkboxChecked:Boolean(e.value),value:t.value}))),o={reset:n},a=xr(nh,!1);a&&a.addField(r);const i=xr(sd,!1);i&&i.addField(o);const s=xr(ld,!1);return Oo((()=>{a&&a.removeField(r),i&&i.removeField(o)})),{uniCheckGroup:a,uniForm:i,uniLabel:s}}(r,a,(()=>{r.value=!1})),l=t=>{e.disabled||(r.value=!r.value,s&&s.checkboxChange(t),t.stopPropagation())};return c&&(c.addHandler(l),Oo((()=>{c.removeHandler(l)}))),pd(e,{"label-click":l}),()=>{const o=id(e,"disabled");let a;return a=r.value,Fa("uni-checkbox",Ka(o,{id:e.id,onClick:l,ref:n}),[Fa("div",{class:"uni-checkbox-wrapper",style:{"--HOVER-BD-COLOR":e.activeBorderColor}},[Fa("div",{class:["uni-checkbox-input",{"uni-checkbox-input-disabled":e.disabled}],style:i.value},[a?fu(du,e.disabled?"#ADADAD":e.iconColor||e.color,22):""],6),t.default&&t.default()],4)],16,["id","onClick"])}}});let ah;function ih(){}const sh={cursorSpacing:{type:[Number,String],default:0},showConfirmBar:{type:[Boolean,String],default:"auto"},adjustPosition:{type:[Boolean,String],default:!0},autoBlur:{type:[Boolean,String],default:!1}};function ch(e,t,n){function r(e){const t=li((()=>0===String(navigator.vendor).indexOf("Apple")));e.addEventListener("focus",(()=>{clearTimeout(ah),document.addEventListener("click",ih,!1)}));e.addEventListener("blur",(()=>{t.value&&e.blur(),document.removeEventListener("click",ih,!1),t.value&&document.documentElement.scrollTo(document.documentElement.scrollLeft,document.documentElement.scrollTop)}))}Br((()=>t.value),(e=>e&&r(e)))}const lh={src:{type:String,default:""},mode:{type:String,default:"scaleToFill"},lazyLoad:{type:[Boolean,String],default:!1},draggable:{type:Boolean,default:!1}},uh={widthFix:["offsetWidth","height",(e,t)=>e/t],heightFix:["offsetHeight","width",(e,t)=>e*t]},dh={aspectFit:["center center","contain"],aspectFill:["center center","cover"],widthFix:[,"100% 100%"],heightFix:[,"100% 100%"],top:["center top"],bottom:["center bottom"],center:["center center"],left:["left center"],right:["right center"],"top left":["left top"],"top right":["right top"],"bottom left":["left bottom"],"bottom right":["right bottom"]},ph=ed({name:"Image",props:lh,setup(e,{emit:t}){const n=Vn(null),r=function(e,t){const n=Vn(""),r=li((()=>{let e="auto",r="";const o=dh[t.mode];return o?(o[0]&&(r=o[0]),o[1]&&(e=o[1])):(r="0% 0%",e="100% 100%"),`background-image:${n.value?'url("'+n.value+'")':"none"};background-position:${r};background-size:${e};`})),o=An({rootEl:e,src:li((()=>t.src?vd(t.src):"")),origWidth:0,origHeight:0,origStyle:{width:"",height:""},modeStyle:r,imgSrc:n});return Eo((()=>{const t=e.value.style;o.origWidth=Number(t.width)||0,o.origHeight=Number(t.height)||0})),o}(n,e),o=rd(n,t),{fixSize:a}=function(e,t,n){const r=()=>{const{mode:r}=t,o=uh[r];if(!o)return;const{origWidth:a,origHeight:i}=n,s=a&&i?a/i:0;if(!s)return;const c=e.value,l=c[o[0]];l&&(c.style[o[1]]=function(e){hh&&e>10&&(e=2*Math.round(e/2));return e}(o[2](l,s))+"px")},o=()=>{const{style:t}=e.value,{origStyle:{width:r,height:o}}=n;t.width=r,t.height=o};return Br((()=>t.mode),((e,t)=>{uh[t]&&o(),uh[e]&&r()})),{fixSize:r,resetSize:o}}(n,e,r);return function(e,t,n,r,o){let a,i;const s=(t=0,n=0,r="")=>{e.origWidth=t,e.origHeight=n,e.imgSrc=r},c=c=>{if(!c)return l(),void s();a=a||new Image,a.onload=e=>{const{width:u,height:d}=a;s(u,d,c),r(),a.draggable=t.draggable,i&&i.remove(),i=a,n.value.appendChild(a),l(),o("load",e,{width:u,height:d})},a.onerror=t=>{s(),l(),o("error",t,{errMsg:`GET ${e.src} 404 (Not Found)`})},a.src=c},l=()=>{a&&(a.onload=null,a.onerror=null,a=null)};Br((()=>e.src),(e=>c(e))),Br((()=>e.imgSrc),(e=>{!e&&i&&(i.remove(),i=null)})),Eo((()=>c(e.src))),Oo((()=>l()))}(r,e,n,a,o),()=>Fa("uni-image",{ref:n},[Fa("div",{style:r.modeStyle},null,4),uh[e.mode]?Fa(th,{onResize:a},null,8,["onResize"]):Fa("span",null,null)],512)}});const hh="Google Inc."===navigator.vendor;const fh=nt(!0),mh=[];let gh,vh=0;const yh=e=>mh.forEach((t=>t.userAction=e));function _h(e={userAction:!1}){if(!gh){["touchstart","touchmove","touchend","mousedown","mouseup"].forEach((e=>{document.addEventListener(e,(function(){!vh&&yh(!0),vh++,setTimeout((()=>{! --vh&&yh(!1)}),0)}),fh)})),gh=!0}mh.push(e)}const Eh=()=>!!vh;function Th(){const e=An({userAction:!1});return Eo((()=>{_h(e)})),Oo((()=>{!function(e){const t=mh.indexOf(e);t>=0&&mh.splice(t,1)}(e)})),{state:e}}function Sh(e,t){const n=document.activeElement;if(!n)return t({});const r={};["input","textarea"].includes(n.tagName.toLowerCase())&&(r.start=n.selectionStart,r.end=n.selectionEnd),t(r)}function Oh(e,t){return"number"===t&&isNaN(Number(e))&&(e=""),null===e?"":String(e)}const Rh=["none","text","decimal","numeric","tel","search","email","url"],bh=l({},{name:{type:String,default:""},modelValue:{type:[String,Number],default:""},value:{type:[String,Number],default:""},disabled:{type:[Boolean,String],default:!1},autoFocus:{type:[Boolean,String],default:!1},focus:{type:[Boolean,String],default:!1},cursor:{type:[Number,String],default:-1},selectionStart:{type:[Number,String],default:-1},selectionEnd:{type:[Number,String],default:-1},type:{type:String,default:"text"},password:{type:[Boolean,String],default:!1},placeholder:{type:String,default:""},placeholderStyle:{type:String,default:""},placeholderClass:{type:String,default:""},maxlength:{type:[Number,String],default:140},confirmType:{type:String,default:"done"},confirmHold:{type:Boolean,default:!1},ignoreCompositionEvent:{type:Boolean,default:!0},step:{type:String,default:"0.000000000000000001"},inputmode:{type:String,default:void 0,validator:e=>!!~Rh.indexOf(e)},cursorColor:{type:String,default:""}},sh),Ih=["input","focus","blur","update:value","update:modelValue","update:focus","compositionstart","compositionupdate","compositionend","keyboardheightchange"];function Ch(e,t,n,r){const o=ct((n=>{t.value=Oh(n,e.type)}),100,{setTimeout:setTimeout,clearTimeout:clearTimeout});Br((()=>e.modelValue),o),Br((()=>e.value),o);const a=function(e,t){let n,r,o=0;const a=function(...a){const i=Date.now();clearTimeout(n),r=()=>{r=null,o=i,e.apply(this,a)},i-o<t?n=setTimeout(r,t-(i-o)):r()};return a.cancel=function(){clearTimeout(n),r=null},a.flush=function(){clearTimeout(n),r&&r()},a}(((e,t)=>{o.cancel(),n("update:modelValue",t.value),n("update:value",t.value),r("input",e,t)}),100);return _o((()=>{o.cancel(),a.cancel()})),{trigger:r,triggerInput:(e,t,n)=>{o.cancel(),a(e,t),n&&a.flush()}}}function Nh(e,t){Th();const n=li((()=>e.autoFocus||e.focus));function r(){if(!n.value)return;const e=t.value;e?e.focus():setTimeout(r,100)}Br((()=>e.focus),(e=>{e?r():function(){const e=t.value;e&&e.blur()}()})),Eo((()=>{n.value&&hr(r)}))}function Ah(e,t,n,r){wl(yu(),"getSelectedTextRange",Sh);const{fieldRef:o,state:a,trigger:i}=function(e,t,n){const r=Vn(null),o=rd(t,n),a=li((()=>{const t=Number(e.selectionStart);return isNaN(t)?-1:t})),i=li((()=>{const t=Number(e.selectionEnd);return isNaN(t)?-1:t})),s=li((()=>{const t=Number(e.cursor);return isNaN(t)?-1:t})),c=li((()=>{var t=Number(e.maxlength);return isNaN(t)?140:t})),l=Oh(e.modelValue,e.type)||Oh(e.value,e.type),u=An({value:l,valueOrigin:l,maxlength:c,focus:e.focus,composing:!1,selectionStart:a,selectionEnd:i,cursor:s});return Br((()=>u.focus),(e=>n("update:focus",e))),Br((()=>u.maxlength),(e=>u.value=u.value.slice(0,e))),{fieldRef:r,state:u,trigger:o}}(e,t,n),{triggerInput:s}=Ch(e,a,n,i);Nh(e,o),ch(0,o);const{state:c}=function(){const e=An({attrs:{}});return Eo((()=>{let t=Za();for(;t;){const n=t.type.__scopeId;n&&(e.attrs[n]=""),t=t.proxy&&"page"===t.proxy.$mpType?null:t.parent}})),{state:e}}();!function(e,t){const n=xr(sd,!1);if(!n)return;const r=Za(),o={submit(){const n=r.proxy;return[n[e],y(t)?n[t]:t.value]},reset(){y(t)?r.proxy[t]="":t.value=""}};n.addField(o),Oo((()=>{n.removeField(o)}))}("name",a),function(e,t,n,r,o,a){function i(){const n=e.value;n&&t.focus&&t.selectionStart>-1&&t.selectionEnd>-1&&"number"!==n.type&&(n.selectionStart=t.selectionStart,n.selectionEnd=t.selectionEnd)}function s(){const n=e.value;n&&t.focus&&t.selectionStart<0&&t.selectionEnd<0&&t.cursor>-1&&"number"!==n.type&&(n.selectionEnd=n.selectionStart=t.cursor)}function c(e){return"number"===e.type?null:e.selectionEnd}Br([()=>t.selectionStart,()=>t.selectionEnd],i),Br((()=>t.cursor),s),Br((()=>e.value),(function(){const l=e.value;if(!l)return;const u=function(e,r){e.stopPropagation(),v(a)&&!1===a(e,t)||(t.value=l.value,t.composing&&n.ignoreCompositionEvent||o(e,{value:l.value,cursor:c(l)},r))};function d(e){n.ignoreCompositionEvent||r(e.type,e,{value:e.data})}l.addEventListener("change",(e=>e.stopPropagation())),l.addEventListener("focus",(function(e){t.focus=!0,r("focus",e,{value:t.value}),i(),s()})),l.addEventListener("blur",(function(e){t.composing&&(t.composing=!1,u(e,!0)),t.focus=!1,r("blur",e,{value:t.value,cursor:c(e.target)})})),l.addEventListener("input",u),l.addEventListener("compositionstart",(e=>{e.stopPropagation(),t.composing=!0,d(e)})),l.addEventListener("compositionend",(e=>{e.stopPropagation(),t.composing&&(t.composing=!1,u(e)),d(e)})),l.addEventListener("compositionupdate",d)}))}(o,a,e,i,s,r);return{fieldRef:o,state:a,scopedAttrsState:c,fixDisabledColor:0===String(navigator.vendor).indexOf("Apple")&&CSS.supports("image-orientation:from-image"),trigger:i}}const Mh=ed({name:"Input",props:l({},bh,{placeholderClass:{type:String,default:"input-placeholder"},textContentType:{type:String,default:""}}),emits:["confirm",...Ih],setup(e,{emit:t,expose:n}){const r=["text","number","idcard","digit","password","tel"],o=["off","one-time-code"],a=li((()=>{let t="";switch(e.type){case"text":"search"===e.confirmType&&(t="search");break;case"idcard":t="text";break;case"digit":t="number";break;default:t=~r.includes(e.type)?e.type:"text"}return e.password?"password":t})),i=li((()=>{const t=o.indexOf(e.textContentType),n=o.indexOf(k(e.textContentType));return o[-1!==t?t:-1!==n?n:0]}));let s,c=Vn("");const l=Vn(null),{fieldRef:u,state:d,scopedAttrsState:p,fixDisabledColor:h,trigger:f}=Ah(e,l,t,((e,t)=>{const n=e.target;if("number"===a.value){if(s&&(n.removeEventListener("blur",s),s=null),n.validity&&!n.validity.valid){if((!c.value||!n.value)&&"-"===e.data||"-"===c.value[0]&&"deleteContentBackward"===e.inputType)return c.value="-",t.value="",s=()=>{c.value=n.value=""},n.addEventListener("blur",s),!1;if(c.value)if(-1!==c.value.indexOf(".")){if("."!==e.data&&"deleteContentBackward"===e.inputType){const e=c.value.indexOf(".");return c.value=n.value=t.value=c.value.slice(0,e),!0}}else if("."===e.data)return c.value+=".",s=()=>{c.value=n.value=c.value.slice(0,-1)},n.addEventListener("blur",s),!1;return c.value=t.value=n.value="-"===c.value?"":c.value,!1}c.value=n.value;const r=t.maxlength;if(r>0&&n.value.length>r)return n.value=n.value.slice(0,r),t.value=n.value,!1}}));Br((()=>d.value),(t=>{"number"!==e.type||"-"===c.value&&""===t||(c.value=t)}));const m=["number","digit"],g=li((()=>m.includes(e.type)?e.step:""));function v(t){if("Enter"!==t.key)return;const n=t.target;t.stopPropagation(),f("confirm",t,{value:n.value}),!e.confirmHold&&n.blur()}return n({$triggerInput:e=>{t("update:modelValue",e.value),t("update:value",e.value),d.value=e.value}}),()=>{let t=e.disabled&&h?Fa("input",{key:"disabled-input",ref:u,value:d.value,tabindex:"-1",readonly:!!e.disabled,type:a.value,maxlength:d.maxlength,step:g.value,class:"uni-input-input",style:e.cursorColor?{caretColor:e.cursorColor}:{},onFocus:e=>e.target.blur()},null,44,["value","readonly","type","maxlength","step","onFocus"]):Ao(Fa("input",{key:"input",ref:u,"onUpdate:modelValue":e=>d.value=e,disabled:!!e.disabled,type:a.value,maxlength:d.maxlength,step:g.value,enterkeyhint:e.confirmType,pattern:"number"===e.type?"[0-9]*":void 0,class:"uni-input-input",style:e.cursorColor?{caretColor:e.cursorColor}:{},autocomplete:i.value,onKeyup:v,inputmode:e.inputmode},null,44,["onUpdate:modelValue","disabled","type","maxlength","step","enterkeyhint","pattern","autocomplete","onKeyup","inputmode"]),[[ls,d.value]]);return Fa("uni-input",{ref:l},[Fa("div",{class:"uni-input-wrapper"},[Ao(Fa("div",Ka(p.attrs,{style:e.placeholderStyle,class:["uni-input-placeholder",e.placeholderClass]}),[e.placeholder],16),[[fs,!(d.value.length||"-"===c.value)]]),"search"===e.confirmType?Fa("form",{action:"",onSubmit:e=>e.preventDefault(),class:"uni-input-form"},[t],40,["onSubmit"]):t])],512)}}});const wh=["class","style"],kh=/^on[A-Z]+/,Lh=(e={})=>{const{excludeListeners:t=!1,excludeKeys:n=[]}=e,r=Za(),o=$n({}),a=$n({}),i=$n({}),s=n.concat(wh);return r.attrs=An(r.attrs),Ur((()=>{const e=(n=r.attrs,Object.keys(n).map((e=>[e,n[e]]))).reduce(((e,[n,r])=>(s.includes(n)?e.exclude[n]=r:kh.test(n)?(t||(e.attrs[n]=r),e.listeners[n]=r):e.attrs[n]=r,e)),{exclude:{},attrs:{},listeners:{}});var n;o.value=e.attrs,a.value=e.listeners,i.value=e.exclude})),{$attrs:o,$listeners:a,$excludeAttrs:i}};function Ph(e){const t=[];return h(e)&&e.forEach((e=>{xa(e)?e.type===Oa?t.push(...Ph(e.children)):t.push(e):h(e)&&t.push(...Ph(e))})),t}const xh=ed({inheritAttrs:!1,name:"MovableArea",props:{scaleArea:{type:Boolean,default:!1}},setup(e,{slots:t}){const n=Vn(null),r=Vn(!1);let{setContexts:o,events:a}=function(e,t){const n=Vn(0),r=Vn(0),o=An({x:null,y:null}),a=Vn(null);let i=null,s=[];function c(t){t&&1!==t&&(e.scaleArea?s.forEach((function(e){e._setScale(t)})):i&&i._setScale(t))}function l(e,n=s){let r=t.value;function o(e){for(let t=0;t<n.length;t++){const r=n[t];if(e===r.rootRef.value)return r}return e===r||e===document.body||e===document?null:o(e.parentNode)}return o(e)}const u=nd((t=>{let n=t.touches;if(n&&n.length>1){let t={x:n[1].pageX-n[0].pageX,y:n[1].pageY-n[0].pageY};if(a.value=Uh(t),o.x=t.x,o.y=t.y,!e.scaleArea){let e=l(n[0].target),t=l(n[1].target);i=e&&e===t?e:null}}})),d=nd((e=>{let t=e.touches;if(t&&t.length>1){e.preventDefault();let n={x:t[1].pageX-t[0].pageX,y:t[1].pageY-t[0].pageY};if(null!==o.x&&a.value&&a.value>0){c(Uh(n)/a.value)}o.x=n.x,o.y=n.y}})),p=nd((t=>{let n=t.touches;n&&n.length||t.changedTouches&&(o.x=0,o.y=0,a.value=null,e.scaleArea?s.forEach((function(e){e._endScale()})):i&&i._endScale())}));function h(){f(),s.forEach((function(e,t){e.setParent()}))}function f(){let e=window.getComputedStyle(t.value),o=t.value.getBoundingClientRect();n.value=o.width-["Left","Right"].reduce((function(t,n){const r="padding"+n;return t+parseFloat(e["border"+n+"Width"])+parseFloat(e[r])}),0),r.value=o.height-["Top","Bottom"].reduce((function(t,n){const r="padding"+n;return t+parseFloat(e["border"+n+"Width"])+parseFloat(e[r])}),0)}return Pr("movableAreaWidth",n),Pr("movableAreaHeight",r),{setContexts(e){s=e},events:{_onTouchstart:u,_onTouchmove:d,_onTouchend:p,_resize:h}}}(e,n);const{$listeners:i,$attrs:s,$excludeAttrs:c}=Lh(),l=i.value;["onTouchstart","onTouchmove","onTouchend"].forEach((e=>{let t=l[e],n=a[`_${e}`];l[e]=t?[].concat(t,n):n})),Eo((()=>{a._resize(),r.value=!0}));let u=[];const d=[];function p(){const e=[];for(let t=0;t<u.length;t++){let n=u[t];n=n.el;const r=d.find((e=>n===e.rootRef.value));r&&e.push(Bn(r))}o(e)}return Pr("_isMounted",r),Pr("movableAreaRootRef",n),Pr("addMovableViewContext",(e=>{d.push(e),p()})),Pr("removeMovableViewContext",(e=>{const t=d.indexOf(e);t>=0&&(d.splice(t,1),p())})),()=>{const e=t.default&&t.default();return u=Ph(e),Fa("uni-movable-area",Ka({ref:n},s.value,c.value,l),[Fa(th,{onResize:a._resize},null,8,["onResize"]),u],16)}}});function Uh(e){return Math.sqrt(e.x*e.x+e.y*e.y)}const Dh=function(e,t,n,r){e.addEventListener(t,(e=>{v(n)&&!1===n(e)&&((void 0===e.cancelable||e.cancelable)&&e.preventDefault(),e.stopPropagation())}),{passive:!1})};let Bh,Gh;function jh(e,t,n){Oo((()=>{document.removeEventListener("mousemove",Bh),document.removeEventListener("mouseup",Gh)}));let r=0,o=0,a=0,i=0;const s=function(e,n,s,c){if(!1===t({cancelable:e.cancelable,target:e.target,currentTarget:e.currentTarget,preventDefault:e.preventDefault.bind(e),stopPropagation:e.stopPropagation.bind(e),touches:e.touches,changedTouches:e.changedTouches,detail:{state:n,x:s,y:c,dx:s-r,dy:c-o,ddx:s-a,ddy:c-i,timeStamp:e.timeStamp}}))return!1};let c,l,u=null;Dh(e,"touchstart",(function(e){if(c=!0,1===e.touches.length&&!u)return u=e,r=a=e.touches[0].pageX,o=i=e.touches[0].pageY,s(e,"start",r,o)})),Dh(e,"mousedown",(function(e){if(l=!0,!c&&!u)return u=e,r=a=e.pageX,o=i=e.pageY,s(e,"start",r,o)})),Dh(e,"touchmove",(function(e){if(1===e.touches.length&&u){const t=s(e,"move",e.touches[0].pageX,e.touches[0].pageY);return a=e.touches[0].pageX,i=e.touches[0].pageY,t}}));const d=Bh=function(e){if(!c&&l&&u){const t=s(e,"move",e.pageX,e.pageY);return a=e.pageX,i=e.pageY,t}};document.addEventListener("mousemove",d),Dh(e,"touchend",(function(e){if(0===e.touches.length&&u)return c=!1,u=null,s(e,"end",e.changedTouches[0].pageX,e.changedTouches[0].pageY)}));const p=Gh=function(e){if(l=!1,!c&&u)return u=null,s(e,"end",e.pageX,e.pageY)};document.addEventListener("mouseup",p),Dh(e,"touchcancel",(function(e){if(u){c=!1;const t=u;return u=null,s(e,n?"cancel":"end",t.touches[0].pageX,t.touches[0].pageY)}}))}function Fh(e,t,n){return e>t-n&&e<t+n}function Hh(e,t){return Fh(e,0,t)}function Wh(){}function Vh(e,t){this._m=e,this._f=1e3*t,this._startTime=0,this._v=0}function $h(e,t,n){this._m=e,this._k=t,this._c=n,this._solution=null,this._endPosition=0,this._startTime=0}function qh(e,t,n){this._springX=new $h(e,t,n),this._springY=new $h(e,t,n),this._springScale=new $h(e,t,n),this._startTime=0}Wh.prototype.x=function(e){return Math.sqrt(e)},Vh.prototype.setV=function(e,t){const n=Math.pow(Math.pow(e,2)+Math.pow(t,2),.5);this._x_v=e,this._y_v=t,this._x_a=-this._f*this._x_v/n,this._y_a=-this._f*this._y_v/n,this._t=Math.abs(e/this._x_a)||Math.abs(t/this._y_a),this._lastDt=null,this._startTime=(new Date).getTime()},Vh.prototype.setS=function(e,t){this._x_s=e,this._y_s=t},Vh.prototype.s=function(e){void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3),e>this._t&&(e=this._t,this._lastDt=e);let t=this._x_v*e+.5*this._x_a*Math.pow(e,2)+this._x_s,n=this._y_v*e+.5*this._y_a*Math.pow(e,2)+this._y_s;return(this._x_a>0&&t<this._endPositionX||this._x_a<0&&t>this._endPositionX)&&(t=this._endPositionX),(this._y_a>0&&n<this._endPositionY||this._y_a<0&&n>this._endPositionY)&&(n=this._endPositionY),{x:t,y:n}},Vh.prototype.ds=function(e){return void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3),e>this._t&&(e=this._t),{dx:this._x_v+this._x_a*e,dy:this._y_v+this._y_a*e}},Vh.prototype.delta=function(){return{x:-1.5*Math.pow(this._x_v,2)/this._x_a||0,y:-1.5*Math.pow(this._y_v,2)/this._y_a||0}},Vh.prototype.dt=function(){return-this._x_v/this._x_a},Vh.prototype.done=function(){const e=Fh(this.s().x,this._endPositionX)||Fh(this.s().y,this._endPositionY)||this._lastDt===this._t;return this._lastDt=null,e},Vh.prototype.setEnd=function(e,t){this._endPositionX=e,this._endPositionY=t},Vh.prototype.reconfigure=function(e,t){this._m=e,this._f=1e3*t},$h.prototype._solve=function(e,t){const n=this._c,r=this._m,o=this._k,a=n*n-4*r*o;if(0===a){const o=-n/(2*r),a=e,i=t/(o*e);return{x:function(e){return(a+i*e)*Math.pow(Math.E,o*e)},dx:function(e){const t=Math.pow(Math.E,o*e);return o*(a+i*e)*t+i*t}}}if(a>0){const o=(-n-Math.sqrt(a))/(2*r),i=(-n+Math.sqrt(a))/(2*r),s=(t-o*e)/(i-o),c=e-s;return{x:function(e){let t,n;return e===this._t&&(t=this._powER1T,n=this._powER2T),this._t=e,t||(t=this._powER1T=Math.pow(Math.E,o*e)),n||(n=this._powER2T=Math.pow(Math.E,i*e)),c*t+s*n},dx:function(e){let t,n;return e===this._t&&(t=this._powER1T,n=this._powER2T),this._t=e,t||(t=this._powER1T=Math.pow(Math.E,o*e)),n||(n=this._powER2T=Math.pow(Math.E,i*e)),c*o*t+s*i*n}}}const i=Math.sqrt(4*r*o-n*n)/(2*r),s=-n/2*r,c=e,l=(t-s*e)/i;return{x:function(e){return Math.pow(Math.E,s*e)*(c*Math.cos(i*e)+l*Math.sin(i*e))},dx:function(e){const t=Math.pow(Math.E,s*e),n=Math.cos(i*e),r=Math.sin(i*e);return t*(l*i*n-c*i*r)+s*t*(l*r+c*n)}}},$h.prototype.x=function(e){return void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3),this._solution?this._endPosition+this._solution.x(e):0},$h.prototype.dx=function(e){return void 0===e&&(e=((new Date).getTime()-this._startTime)/1e3),this._solution?this._solution.dx(e):0},$h.prototype.setEnd=function(e,t,n){if(n||(n=(new Date).getTime()),e!==this._endPosition||!Hh(t,.1)){t=t||0;let r=this._endPosition;this._solution&&(Hh(t,.1)&&(t=this._solution.dx((n-this._startTime)/1e3)),r=this._solution.x((n-this._startTime)/1e3),Hh(t,.1)&&(t=0),Hh(r,.1)&&(r=0),r+=this._endPosition),this._solution&&Hh(r-e,.1)&&Hh(t,.1)||(this._endPosition=e,this._solution=this._solve(r-this._endPosition,t),this._startTime=n)}},$h.prototype.snap=function(e){this._startTime=(new Date).getTime(),this._endPosition=e,this._solution={x:function(){return 0},dx:function(){return 0}}},$h.prototype.done=function(e){return e||(e=(new Date).getTime()),Fh(this.x(),this._endPosition,.1)&&Hh(this.dx(),.1)},$h.prototype.reconfigure=function(e,t,n){this._m=e,this._k=t,this._c=n,this.done()||(this._solution=this._solve(this.x()-this._endPosition,this.dx()),this._startTime=(new Date).getTime())},$h.prototype.springConstant=function(){return this._k},$h.prototype.damping=function(){return this._c},$h.prototype.configuration=function(){return[{label:"Spring Constant",read:this.springConstant.bind(this),write:function(e,t){e.reconfigure(1,t,e.damping())}.bind(this,this),min:100,max:1e3},{label:"Damping",read:this.damping.bind(this),write:function(e,t){e.reconfigure(1,e.springConstant(),t)}.bind(this,this),min:1,max:500}]},qh.prototype.setEnd=function(e,t,n,r){const o=(new Date).getTime();this._springX.setEnd(e,r,o),this._springY.setEnd(t,r,o),this._springScale.setEnd(n,r,o),this._startTime=o},qh.prototype.x=function(){const e=((new Date).getTime()-this._startTime)/1e3;return{x:this._springX.x(e),y:this._springY.x(e),scale:this._springScale.x(e)}},qh.prototype.done=function(){const e=(new Date).getTime();return this._springX.done(e)&&this._springY.done(e)&&this._springScale.done(e)},qh.prototype.reconfigure=function(e,t,n){this._springX.reconfigure(e,t,n),this._springY.reconfigure(e,t,n),this._springScale.reconfigure(e,t,n)};function zh(e,t){return+((1e3*e-1e3*t)/1e3).toFixed(1)}const Kh=ed({name:"MovableView",props:{direction:{type:String,default:"none"},inertia:{type:[Boolean,String],default:!1},outOfBounds:{type:[Boolean,String],default:!1},x:{type:[Number,String],default:0},y:{type:[Number,String],default:0},damping:{type:[Number,String],default:20},friction:{type:[Number,String],default:2},disabled:{type:[Boolean,String],default:!1},scale:{type:[Boolean,String],default:!1},scaleMin:{type:[Number,String],default:.5},scaleMax:{type:[Number,String],default:10},scaleValue:{type:[Number,String],default:1},animation:{type:[Boolean,String],default:!0}},emits:["change","scale"],setup(e,{slots:t,emit:n}){const r=Vn(null),o=rd(r,n),{setParent:a}=function(e,t,n){const r=xr("_isMounted",Vn(!1)),o=xr("addMovableViewContext",(()=>{})),a=xr("removeMovableViewContext",(()=>{}));let i,s,c=Vn(1),l=Vn(1),u=Vn(!1),d=Vn(0),p=Vn(0),h=null,f=null,m=!1,g=null,v=null;const y=new Wh,_=new Wh,E={historyX:[0,0],historyY:[0,0],historyT:[0,0]},T=li((()=>{let t=Number(e.friction);return isNaN(t)||t<=0?2:t})),S=new Vh(1,T.value);Br((()=>e.disabled),(()=>{$()}));const{_updateOldScale:O,_endScale:R,_setScale:b,scaleValueSync:I,_updateBoundary:C,_updateOffset:N,_updateWH:A,_scaleOffset:M,minX:w,minY:k,maxX:L,maxY:P,FAandSFACancel:x,_getLimitXY:U,_setTransform:D,_revise:B,dampingNumber:G,xMove:j,yMove:F,xSync:H,ySync:W,_STD:V}=function(e,t,n,r,o,a,i,s,c,l){const u=li((()=>{let t=Number(e.scaleMin);return isNaN(t)?.5:t})),d=li((()=>{let t=Number(e.scaleMax);return isNaN(t)?10:t})),p=Vn(Number(e.scaleValue)||1);Br(p,(e=>{D(e)})),Br(u,(()=>{U()})),Br(d,(()=>{U()})),Br((()=>e.scaleValue),(e=>{p.value=Number(e)||0}));const{_updateBoundary:h,_updateOffset:f,_updateWH:m,_scaleOffset:g,minX:v,minY:y,maxX:_,maxY:E}=function(e,t,n){const r=xr("movableAreaWidth",Vn(0)),o=xr("movableAreaHeight",Vn(0)),a=xr("movableAreaRootRef"),i={x:0,y:0},s={x:0,y:0},c=Vn(0),l=Vn(0),u=Vn(0),d=Vn(0),p=Vn(0),h=Vn(0);function f(){let e=0-i.x+s.x,t=r.value-c.value-i.x-s.x;u.value=Math.min(e,t),p.value=Math.max(e,t);let n=0-i.y+s.y,a=o.value-l.value-i.y-s.y;d.value=Math.min(n,a),h.value=Math.max(n,a)}function m(){i.x=Yh(e.value,a.value),i.y=Qh(e.value,a.value)}function g(r){r=r||t.value,r=n(r);let o=e.value.getBoundingClientRect();l.value=o.height/t.value,c.value=o.width/t.value;let a=l.value*r,i=c.value*r;s.x=(i-c.value)/2,s.y=(a-l.value)/2}return{_updateBoundary:f,_updateOffset:m,_updateWH:g,_scaleOffset:s,minX:u,minY:d,maxX:p,maxY:h}}(t,r,x),{FAandSFACancel:T,_getLimitXY:S,_animationTo:O,_setTransform:R,_revise:b,dampingNumber:I,xMove:C,yMove:N,xSync:A,ySync:M,_STD:w}=function(e,t,n,r,o,a,i,s,c,l,u,d,p,h){const f=li((()=>{let e=Number(t.damping);return isNaN(e)?20:e})),m=li((()=>"all"===t.direction||"horizontal"===t.direction)),g=li((()=>"all"===t.direction||"vertical"===t.direction)),v=Vn(ef(t.x)),y=Vn(ef(t.y));Br((()=>t.x),(e=>{v.value=ef(e)})),Br((()=>t.y),(e=>{y.value=ef(e)})),Br(v,(e=>{b(e)})),Br(y,(e=>{I(e)}));const _=new qh(1,9*Math.pow(f.value,2)/40,f.value);function E(e,t){let n=!1;return e>o.value?(e=o.value,n=!0):e<i.value&&(e=i.value,n=!0),t>a.value?(t=a.value,n=!0):t<s.value&&(t=s.value,n=!0),{x:e,y:t,outOfBounds:n}}function T(){d&&d.cancel(),u&&u.cancel()}function S(e,n,o,a,i,s){T(),m.value||(e=c.value),g.value||(n=l.value),t.scale||(o=r.value);let d=E(e,n);e=d.x,n=d.y,t.animation?(_._springX._solution=null,_._springY._solution=null,_._springScale._solution=null,_._springX._endPosition=c.value,_._springY._endPosition=l.value,_._springScale._endPosition=r.value,_.setEnd(e,n,o,1),u=Zh(_,(function(){let e=_.x();O(e.x,e.y,e.scale,a,i,s)}),(function(){u.cancel()}))):O(e,n,o,a,i,s)}function O(o,a,i,s="",u,d){null!==o&&"NaN"!==o.toString()&&"number"==typeof o||(o=c.value||0),null!==a&&"NaN"!==a.toString()&&"number"==typeof a||(a=l.value||0),o=Number(o.toFixed(1)),a=Number(a.toFixed(1)),i=Number(i.toFixed(1)),c.value===o&&l.value===a||u||h("change",{},{x:zh(o,n.x),y:zh(a,n.y),source:s}),t.scale||(i=r.value),i=+(i=p(i)).toFixed(3),d&&i!==r.value&&h("scale",{},{x:o,y:a,scale:i});let f="translateX("+o+"px) translateY("+a+"px) translateZ(0px) scale("+i+")";e.value&&(e.value.style.transform=f,e.value.style.webkitTransform=f,c.value=o,l.value=a,r.value=i)}function R(e){let t=E(c.value,l.value),n=t.x,o=t.y,a=t.outOfBounds;return a&&S(n,o,r.value,e),a}function b(e){if(m.value){if(e+n.x===c.value)return c;u&&u.cancel(),S(e+n.x,y.value+n.y,r.value)}return e}function I(e){if(g.value){if(e+n.y===l.value)return l;u&&u.cancel(),S(v.value+n.x,e+n.y,r.value)}return e}return{FAandSFACancel:T,_getLimitXY:E,_animationTo:S,_setTransform:O,_revise:R,dampingNumber:f,xMove:m,yMove:g,xSync:v,ySync:y,_STD:_}}(t,e,g,r,_,E,v,y,i,s,c,l,x,n);function k(t,n){if(e.scale){t=x(t),m(t),h();const e=S(i.value,s.value),r=e.x,o=e.y;n?O(r,o,t,"",!0,!0):Xh((function(){R(r,o,t,"",!0,!0)}))}}function L(){a.value=!0}function P(e){o.value=e}function x(e){return e=Math.max(.5,u.value,e),e=Math.min(10,d.value,e)}function U(){if(!e.scale)return!1;k(r.value,!0),P(r.value)}function D(t){return!!e.scale&&(k(t=x(t),!0),P(t),t)}function B(){a.value=!1,P(r.value)}function G(e){e&&(e=o.value*e,L(),k(e))}return{_updateOldScale:P,_endScale:B,_setScale:G,scaleValueSync:p,_updateBoundary:h,_updateOffset:f,_updateWH:m,_scaleOffset:g,minX:v,minY:y,maxX:_,maxY:E,FAandSFACancel:T,_getLimitXY:S,_animationTo:O,_setTransform:R,_revise:b,dampingNumber:I,xMove:C,yMove:N,xSync:A,ySync:M,_STD:w}}(e,n,t,c,l,u,d,p,h,f);function $(){u.value||e.disabled||(x(),E.historyX=[0,0],E.historyY=[0,0],E.historyT=[0,0],j.value&&(i=d.value),F.value&&(s=p.value),n.value.style.willChange="transform",g=null,v=null,m=!0)}function q(t){if(!u.value&&!e.disabled&&m){let n=d.value,r=p.value;if(null===v&&(v=Math.abs(t.detail.dx/t.detail.dy)>1?"htouchmove":"vtouchmove"),j.value&&(n=t.detail.dx+i,E.historyX.shift(),E.historyX.push(n),F.value||null!==g||(g=Math.abs(t.detail.dx/t.detail.dy)<1)),F.value&&(r=t.detail.dy+s,E.historyY.shift(),E.historyY.push(r),j.value||null!==g||(g=Math.abs(t.detail.dy/t.detail.dx)<1)),E.historyT.shift(),E.historyT.push(t.detail.timeStamp),!g){t.preventDefault();let o="touch";n<w.value?e.outOfBounds?(o="touch-out-of-bounds",n=w.value-y.x(w.value-n)):n=w.value:n>L.value&&(e.outOfBounds?(o="touch-out-of-bounds",n=L.value+y.x(n-L.value)):n=L.value),r<k.value?e.outOfBounds?(o="touch-out-of-bounds",r=k.value-_.x(k.value-r)):r=k.value:r>P.value&&(e.outOfBounds?(o="touch-out-of-bounds",r=P.value+_.x(r-P.value)):r=P.value),Xh((function(){D(n,r,c.value,o)}))}}}function z(){if(!u.value&&!e.disabled&&m&&(n.value.style.willChange="auto",m=!1,!g&&!B("out-of-bounds")&&e.inertia)){const e=1e3*(E.historyX[1]-E.historyX[0])/(E.historyT[1]-E.historyT[0]),t=1e3*(E.historyY[1]-E.historyY[0])/(E.historyT[1]-E.historyT[0]),n=d.value,r=p.value;S.setV(e,t),S.setS(n,r);const o=S.delta().x,a=S.delta().y;let i=o+n,s=a+r;i<w.value?(i=w.value,s=r+(w.value-n)*a/o):i>L.value&&(i=L.value,s=r+(L.value-n)*a/o),s<k.value?(s=k.value,i=n+(k.value-r)*o/a):s>P.value&&(s=P.value,i=n+(P.value-r)*o/a),S.setEnd(i,s),f=Zh(S,(function(){let e=S.s(),t=e.x,n=e.y;D(t,n,c.value,"friction")}),(function(){f.cancel()}))}e.outOfBounds||e.inertia||x()}function K(){if(!r.value)return;x();let t=e.scale?I.value:1;N(),A(t),C();let n=U(H.value+M.x,W.value+M.y),o=n.x,a=n.y;D(o,a,t,"",!0),O(t)}return Eo((()=>{jh(n.value,(e=>{switch(e.detail.state){case"start":$();break;case"move":q(e);break;case"end":z()}})),K(),S.reconfigure(1,T.value),V.reconfigure(1,9*Math.pow(G.value,2)/40,G.value),n.value.style.transformOrigin="center";const e={rootRef:n,setParent:K,_endScale:R,_setScale:b};o(e),Ro((()=>{a(e)}))})),Ro((()=>{x()})),{setParent:K}}(e,o,r);return()=>Fa("uni-movable-view",{ref:r},[Fa(th,{onResize:a},null,8,["onResize"]),t.default&&t.default()],512)}});let Jh=!1;function Xh(e){Jh||(Jh=!0,requestAnimationFrame((function(){e(),Jh=!1})))}function Yh(e,t){if(e===t)return 0;let n=e.offsetLeft;return e.offsetParent?n+=Yh(e.offsetParent,t):0}function Qh(e,t){if(e===t)return 0;let n=e.offsetTop;return e.offsetParent?n+=Qh(e.offsetParent,t):0}function Zh(e,t,n){let r={id:0,cancelled:!1};return function e(t,n,r,o){if(!t||!t.cancelled){r(n);let a=n.done();a||t.cancelled||(t.id=requestAnimationFrame(e.bind(null,t,n,r,o))),a&&o&&o(n)}}(r,e,t,n),{cancel:function(e){e&&e.id&&cancelAnimationFrame(e.id),e&&(e.cancelled=!0)}.bind(null,r),model:e}}function ef(e){return/\d+[ur]px$/i.test(e)?fp(parseFloat(e)):Number(e)||0}const tf=["navigate","redirect","switchTab","reLaunch","navigateBack"],nf=["slide-in-right","slide-in-left","slide-in-top","slide-in-bottom","fade-in","zoom-out","zoom-fade-out","pop-in","none"],rf=["slide-out-right","slide-out-left","slide-out-top","slide-out-bottom","fade-out","zoom-in","zoom-fade-in","pop-out","none"],of={hoverClass:{type:String,default:"navigator-hover"},url:{type:String,default:""},openType:{type:String,default:"navigate",validator:e=>Boolean(~tf.indexOf(e))},delta:{type:Number,default:1},hoverStartTime:{type:[Number,String],default:50},hoverStayTime:{type:[Number,String],default:600},exists:{type:String,default:""},hoverStopPropagation:{type:Boolean,default:!1},animationType:{type:String,default:"",validator:e=>!e||nf.concat(rf).includes(e)},animationDuration:{type:[String,Number],default:300}};l({},of,{renderLink:{type:Boolean,default:!0}});const af=nt(!0),sf=ed({name:"ScrollView",compatConfig:{MODE:3},props:{direction:{type:[String],default:"vertical"},scrollX:{type:[Boolean,String],default:!1},scrollY:{type:[Boolean,String],default:!1},showScrollbar:{type:[Boolean,String],default:!0},upperThreshold:{type:[Number,String],default:50},lowerThreshold:{type:[Number,String],default:50},scrollTop:{type:[Number,String],default:0},scrollLeft:{type:[Number,String],default:0},scrollIntoView:{type:String,default:""},scrollWithAnimation:{type:[Boolean,String],default:!1},enableBackToTop:{type:[Boolean,String],default:!1},refresherEnabled:{type:[Boolean,String],default:!1},refresherThreshold:{type:Number,default:45},refresherDefaultStyle:{type:String,default:"back"},refresherBackground:{type:String,default:"#fff"},refresherTriggered:{type:[Boolean,String],default:!1}},emits:["scroll","scrolltoupper","scrolltolower","refresherrefresh","refresherrestore","refresherpulling","refresherabort","update:refresherTriggered"],setup(e,{emit:t,slots:n}){const r=Vn(null),o=Vn(null),a=Vn(null),i=Vn(null),s=Vn(null),c=rd(r,t),{state:l,scrollTopNumber:u,scrollLeftNumber:d}=function(e){const t=li((()=>Number(e.scrollTop)||0)),n=li((()=>Number(e.scrollLeft)||0)),r=An({lastScrollTop:t.value,lastScrollLeft:n.value,lastScrollToUpperTime:0,lastScrollToLowerTime:0,refresherHeight:0,refreshRotate:0,refreshState:""});return{state:r,scrollTopNumber:t,scrollLeftNumber:n}}(e),{realScrollX:p,realScrollY:h}=function(e,t,n,r,o,a,i,s,c){let l=!1,u=0,d=!1,p=()=>{};const h=li((()=>e.scrollX)),f=li((()=>e.scrollY)),m=li((()=>{let t=Number(e.upperThreshold);return isNaN(t)?50:t})),g=li((()=>{let t=Number(e.lowerThreshold);return isNaN(t)?50:t}));function v(e,t){const n=i.value;let r=0,o="";if(e<0?e=0:"x"===t&&e>n.scrollWidth-n.offsetWidth?e=n.scrollWidth-n.offsetWidth:"y"===t&&e>n.scrollHeight-n.offsetHeight&&(e=n.scrollHeight-n.offsetHeight),"x"===t?r=n.scrollLeft-e:"y"===t&&(r=n.scrollTop-e),0===r)return;let a=s.value;a.style.transition="transform .3s ease-out",a.style.webkitTransition="-webkit-transform .3s ease-out","x"===t?o="translateX("+r+"px) translateZ(0)":"y"===t&&(o="translateY("+r+"px) translateZ(0)"),a.removeEventListener("transitionend",p),a.removeEventListener("webkitTransitionEnd",p),p=()=>S(e,t),a.addEventListener("transitionend",p),a.addEventListener("webkitTransitionEnd",p),"x"===t?n.style.overflowX="hidden":"y"===t&&(n.style.overflowY="hidden"),a.style.transform=o,a.style.webkitTransform=o}function y(e){const n=e.target;o("scroll",e,{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,deltaX:t.lastScrollLeft-n.scrollLeft,deltaY:t.lastScrollTop-n.scrollTop}),f.value&&(n.scrollTop<=m.value&&t.lastScrollTop-n.scrollTop>0&&e.timeStamp-t.lastScrollToUpperTime>200&&(o("scrolltoupper",e,{direction:"top"}),t.lastScrollToUpperTime=e.timeStamp),n.scrollTop+n.offsetHeight+g.value>=n.scrollHeight&&t.lastScrollTop-n.scrollTop<0&&e.timeStamp-t.lastScrollToLowerTime>200&&(o("scrolltolower",e,{direction:"bottom"}),t.lastScrollToLowerTime=e.timeStamp)),h.value&&(n.scrollLeft<=m.value&&t.lastScrollLeft-n.scrollLeft>0&&e.timeStamp-t.lastScrollToUpperTime>200&&(o("scrolltoupper",e,{direction:"left"}),t.lastScrollToUpperTime=e.timeStamp),n.scrollLeft+n.offsetWidth+g.value>=n.scrollWidth&&t.lastScrollLeft-n.scrollLeft<0&&e.timeStamp-t.lastScrollToLowerTime>200&&(o("scrolltolower",e,{direction:"right"}),t.lastScrollToLowerTime=e.timeStamp)),t.lastScrollTop=n.scrollTop,t.lastScrollLeft=n.scrollLeft}function _(t){f.value&&(e.scrollWithAnimation?v(t,"y"):i.value.scrollTop=t)}function E(t){h.value&&(e.scrollWithAnimation?v(t,"x"):i.value.scrollLeft=t)}function T(t){if(t){if(!/^[_a-zA-Z][-_a-zA-Z0-9:]*$/.test(t))return void console.error(`id error: scroll-into-view=${t}`);let n=a.value.querySelector("#"+t);if(n){let t=i.value.getBoundingClientRect(),r=n.getBoundingClientRect();if(h.value){let n=r.left-t.left,o=i.value.scrollLeft+n;e.scrollWithAnimation?v(o,"x"):i.value.scrollLeft=o}if(f.value){let n=r.top-t.top,o=i.value.scrollTop+n;e.scrollWithAnimation?v(o,"y"):i.value.scrollTop=o}}}}function S(e,t){s.value.style.transition="",s.value.style.webkitTransition="",s.value.style.transform="",s.value.style.webkitTransform="";let n=i.value;"x"===t?(n.style.overflowX=h.value?"auto":"hidden",n.scrollLeft=e):"y"===t&&(n.style.overflowY=f.value?"auto":"hidden",n.scrollTop=e),s.value.removeEventListener("transitionend",p),s.value.removeEventListener("webkitTransitionEnd",p)}function O(n){if(e.refresherEnabled){switch(n){case"refreshing":t.refresherHeight=e.refresherThreshold,l||(l=!0,o("refresherrefresh",{},{}),c("update:refresherTriggered",!0));break;case"restore":case"refresherabort":l=!1,t.refresherHeight=u=0,"restore"===n&&(d=!1,o("refresherrestore",{},{})),"refresherabort"===n&&d&&(d=!1,o("refresherabort",{},{}))}t.refreshState=n}}return Eo((()=>{hr((()=>{_(n.value),E(r.value)})),T(e.scrollIntoView);let a=function(e){e.preventDefault(),e.stopPropagation(),y(e)},s={x:0,y:0},c=null,p=function(n){if(null===s)return;let r=n.touches[0].pageX,a=n.touches[0].pageY,p=i.value;if(Math.abs(r-s.x)>Math.abs(a-s.y))if(h.value){if(0===p.scrollLeft&&r>s.x)return void(c=!1);if(p.scrollWidth===p.offsetWidth+p.scrollLeft&&r<s.x)return void(c=!1);c=!0}else c=!1;else if(f.value)if(0===p.scrollTop&&a>s.y)c=!1,e.refresherEnabled&&!1!==n.cancelable&&n.preventDefault();else{if(p.scrollHeight===p.offsetHeight+p.scrollTop&&a<s.y)return void(c=!1);c=!0}else c=!1;if(c&&n.stopPropagation(),0===p.scrollTop&&1===n.touches.length&&O("pulling"),e.refresherEnabled&&"pulling"===t.refreshState){const r=a-s.y;0===u&&(u=a),l?(t.refresherHeight=r+e.refresherThreshold,d=!1):(t.refresherHeight=a-u,t.refresherHeight>0&&(d=!0,o("refresherpulling",n,{deltaY:r})));const i=t.refresherHeight/e.refresherThreshold;t.refreshRotate=360*(i>1?1:i)}},m=function(e){1===e.touches.length&&(s={x:e.touches[0].pageX,y:e.touches[0].pageY})},g=function(n){s=null,t.refresherHeight>=e.refresherThreshold?O("refreshing"):O("refresherabort")};i.value.addEventListener("touchstart",m,af),i.value.addEventListener("touchmove",p,nt(!1)),i.value.addEventListener("scroll",a,nt(!1)),i.value.addEventListener("touchend",g,af),Oo((()=>{i.value.removeEventListener("touchstart",m),i.value.removeEventListener("touchmove",p),i.value.removeEventListener("scroll",a),i.value.removeEventListener("touchend",g)}))})),so((()=>{f.value&&(i.value.scrollTop=t.lastScrollTop),h.value&&(i.value.scrollLeft=t.lastScrollLeft)})),Br(n,(e=>{_(e)})),Br(r,(e=>{E(e)})),Br((()=>e.scrollIntoView),(e=>{T(e)})),Br((()=>e.refresherTriggered),(e=>{!0===e?O("refreshing"):!1===e&&O("restore")})),{realScrollX:h,realScrollY:f}}(e,l,u,d,c,r,o,i,t),f=li((()=>{let e="";return p.value?e+="overflow-x:auto;":e+="overflow-x:hidden;",h.value?e+="overflow-y:auto;":e+="overflow-y:hidden;",e})),m=li((()=>{let t="uni-scroll-view";return!1===e.showScrollbar&&(t+=" uni-scroll-view-scrollbar-hidden"),t}));return()=>{const{refresherEnabled:t,refresherBackground:c,refresherDefaultStyle:u}=e,{refresherHeight:d,refreshState:p,refreshRotate:h}=l;return Fa("uni-scroll-view",{ref:r},[Fa("div",{ref:a,class:"uni-scroll-view"},[Fa("div",{ref:o,style:f.value,class:m.value},[Fa("div",{ref:i,class:"uni-scroll-view-content"},[t?Fa("div",{ref:s,style:{backgroundColor:c,height:d+"px"},class:"uni-scroll-view-refresher"},["none"!==u?Fa("div",{class:"uni-scroll-view-refresh"},[Fa("div",{class:"uni-scroll-view-refresh-inner"},["pulling"==p?Fa("svg",{key:"refresh__icon",style:{transform:"rotate("+h+"deg)"},fill:"#2BD009",class:"uni-scroll-view-refresh__icon",width:"24",height:"24",viewBox:"0 0 24 24"},[Fa("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},null),Fa("path",{d:"M0 0h24v24H0z",fill:"none"},null)],4):null,"refreshing"==p?Fa("svg",{key:"refresh__spinner",class:"uni-scroll-view-refresh__spinner",width:"24",height:"24",viewBox:"25 25 50 50"},[Fa("circle",{cx:"50",cy:"50",r:"20",fill:"none",style:"color: #2bd009","stroke-width":"3"},null)]):null])]):null,"none"==u?n.refresher&&n.refresher():null],4):null,n.default&&n.default()],512)],6)],512)],512)}}});function cf(e,t,n,r,o,a){function i(){l&&(clearTimeout(l),l=null)}let s,c,l=null,u=!0,d=0,p=1,h=null,f=!1,m=0,g="";const v=li((()=>n.value.length>t.displayMultipleItems)),y=li((()=>e.circular&&v.value));function _(o){Math.floor(2*d)===Math.floor(2*o)&&Math.ceil(2*d)===Math.ceil(2*o)||y.value&&function(r){if(!u)for(let o=n.value,a=o.length,i=r+t.displayMultipleItems,s=0;s<a;s++){const t=o[s],n=Math.floor(r/a)*a+s,c=n+a,l=n-a,u=Math.max(r-(n+1),n-i,0),d=Math.max(r-(c+1),c-i,0),p=Math.max(r-(l+1),l-i,0),h=Math.min(u,d,p),f=[n,c,l][[u,d,p].indexOf(h)];t.updatePosition(f,e.vertical)}}(o);const i="translate("+(e.vertical?"0":100*-o*p+"%")+", "+(e.vertical?100*-o*p+"%":"0")+") translateZ(0)",c=r.value;if(c&&(c.style.webkitTransform=i,c.style.transform=i),d=o,!s){if(o%1==0)return;s=o}o-=Math.floor(s);const l=n.value;o<=-(l.length-1)?o+=l.length:o>=l.length&&(o-=l.length),o=s%1>.5||s<0?o-1:o,a("transition",{},{dx:e.vertical?0:o*c.offsetWidth,dy:e.vertical?o*c.offsetHeight:0})}function E(e){const r=n.value.length;if(!r)return-1;const o=(Math.round(e)%r+r)%r;if(y.value){if(r<=t.displayMultipleItems)return 0}else if(o>r-t.displayMultipleItems)return r-t.displayMultipleItems;return o}function T(){h=null}function S(){if(!h)return void(f=!1);const e=h,r=e.toPos,o=e.acc,i=e.endTime,l=e.source,u=i-Date.now();if(u<=0){_(r),h=null,f=!1,s=null;const e=n.value[t.current];if(e){const n=e.getItemId();a("animationfinish",{},{current:t.current,currentItemId:n,source:l})}return}_(r+o*u*u/2),c=requestAnimationFrame(S)}function O(e,r,o){T();const a=t.duration,i=n.value.length;let s=d;if(y.value)if(o<0){for(;s<e;)s+=i;for(;s-i>e;)s-=i}else if(o>0){for(;s>e;)s-=i;for(;s+i<e;)s+=i;s+i-e<e-s&&(s+=i)}else{for(;s+i<e;)s+=i;for(;s-i>e;)s-=i;s+i-e<e-s&&(s+=i)}else"click"===r&&(e=e+t.displayMultipleItems-1<i?e:0);h={toPos:e,acc:2*(s-e)/(a*a),endTime:Date.now()+a,source:r},f||(f=!0,c=requestAnimationFrame(S))}function R(){i();const e=n.value,r=function(){l=null,g="autoplay",y.value?t.current=E(t.current+1):t.current=t.current+t.displayMultipleItems<e.length?t.current+1:0,O(t.current,"autoplay",y.value?1:0),l=setTimeout(r,t.interval)};u||e.length<=t.displayMultipleItems||(l=setTimeout(r,t.interval))}function b(e){e?R():i()}return Br([()=>e.current,()=>e.currentItemId,()=>[...n.value]],(()=>{let r=-1;if(e.currentItemId)for(let t=0,o=n.value;t<o.length;t++){if(o[t].getItemId()===e.currentItemId){r=t;break}}r<0&&(r=Math.round(e.current)||0),r=r<0?0:r,t.current!==r&&(g="",t.current=r)})),Br([()=>e.vertical,()=>y.value,()=>t.displayMultipleItems,()=>[...n.value]],(function(){i(),h&&(_(h.toPos),h=null);const o=n.value;for(let t=0;t<o.length;t++)o[t].updatePosition(t,e.vertical);p=1;const a=r.value;if(1===t.displayMultipleItems&&o.length){const e=o[0].getBoundingClientRect(),t=a.getBoundingClientRect();p=e.width/t.width,p>0&&p<1||(p=1)}const s=d;d=-2;const c=t.current;c>=0?(u=!1,t.userTracking?(_(s+c-m),m=c):(_(c),e.autoplay&&R())):(u=!0,_(-t.displayMultipleItems-1))})),Br((()=>t.interval),(()=>{l&&(i(),R())})),Br((()=>t.current),((e,r)=>{!function(e,r){const o=g;g="";const i=n.value;if(!o){const t=i.length;O(e,"",y.value&&r+(t-e)%t>t/2?1:0)}const s=i[e];if(s){const e=t.currentItemId=s.getItemId();a("change",{},{current:t.current,currentItemId:e,source:o})}}(e,r),o("update:current",e)})),Br((()=>t.currentItemId),(e=>{o("update:currentItemId",e)})),Br((()=>e.autoplay&&!t.userTracking),b),b(e.autoplay&&!t.userTracking),Eo((()=>{let o=!1,a=0,s=0;function c(e){t.userTracking=!1;const n=a/Math.abs(a);let r=0;!e&&Math.abs(a)>.2&&(r=.5*n);const o=E(d+r);e?_(m):(g="touch",t.current=o,O(o,"touch",0!==r?r:0===o&&y.value&&d>=1?1:0))}jh(r.value,(l=>{if(!e.disableTouch&&!u){if("start"===l.detail.state)return t.userTracking=!0,o=!1,i(),m=d,a=0,s=Date.now(),void T();if("end"===l.detail.state)return c(!1);if("cancel"===l.detail.state)return c(!0);if(t.userTracking){if(!o){o=!0;const n=Math.abs(l.detail.dx),r=Math.abs(l.detail.dy);if((n>=r&&e.vertical||n<=r&&!e.vertical)&&(t.userTracking=!1),!t.userTracking)return void(e.autoplay&&R())}return function(o){const i=s;s=Date.now();const c=n.value.length-t.displayMultipleItems;function l(e){return.5-.25/(e+.5)}function u(e,t){let n=m+e;a=.6*a+.4*t,y.value||(n<0||n>c)&&(n<0?n=-l(-n):n>c&&(n=c+l(n-c)),a=0),_(n)}const d=s-i||1,p=r.value;e.vertical?u(-o.dy/p.offsetHeight,-o.ddy/d):u(-o.dx/p.offsetWidth,-o.ddx/d)}(l.detail),!1}}}))})),Ro((()=>{i(),cancelAnimationFrame(c)})),{onSwiperDotClick:function(e){O(t.current=e,g="click",y.value?1:0)},circularEnabled:y,swiperEnabled:v}}const lf=ed({name:"Swiper",props:{indicatorDots:{type:[Boolean,String],default:!1},vertical:{type:[Boolean,String],default:!1},autoplay:{type:[Boolean,String],default:!1},circular:{type:[Boolean,String],default:!1},interval:{type:[Number,String],default:5e3},duration:{type:[Number,String],default:500},current:{type:[Number,String],default:0},indicatorColor:{type:String,default:""},indicatorActiveColor:{type:String,default:""},previousMargin:{type:String,default:""},nextMargin:{type:String,default:""},currentItemId:{type:String,default:""},skipHiddenItemLayout:{type:[Boolean,String],default:!1},displayMultipleItems:{type:[Number,String],default:1},disableTouch:{type:[Boolean,String],default:!1},navigation:{type:[Boolean,String],default:!1},navigationColor:{type:String,default:"#fff"},navigationActiveColor:{type:String,default:"rgba(53, 53, 53, 0.6)"}},emits:["change","transition","animationfinish","update:current","update:currentItemId"],setup(e,{slots:t,emit:n}){const r=Vn(null),o=rd(r,n),a=Vn(null),i=Vn(null),s=function(e){return An({interval:li((()=>{const t=Number(e.interval);return isNaN(t)?5e3:t})),duration:li((()=>{const t=Number(e.duration);return isNaN(t)?500:t})),displayMultipleItems:li((()=>{const t=Math.round(e.displayMultipleItems);return isNaN(t)?1:t})),current:Math.round(e.current)||0,currentItemId:e.currentItemId,userTracking:!1})}(e),c=li((()=>{let t={};return(e.nextMargin||e.previousMargin)&&(t=e.vertical?{left:0,right:0,top:uu(e.previousMargin,!0),bottom:uu(e.nextMargin,!0)}:{top:0,bottom:0,left:uu(e.previousMargin,!0),right:uu(e.nextMargin,!0)}),t})),l=li((()=>{const t=Math.abs(100/s.displayMultipleItems)+"%";return{width:e.vertical?"100%":t,height:e.vertical?t:"100%"}}));let u=[];const d=[],p=Vn([]);function h(){const e=[];for(let t=0;t<u.length;t++){let n=u[t];n instanceof Element||(n=n.el);const r=d.find((e=>n===e.rootRef.value));r&&e.push(Bn(r))}p.value=e}Pr("addSwiperContext",(function(e){d.push(e),h()}));Pr("removeSwiperContext",(function(e){const t=d.indexOf(e);t>=0&&(d.splice(t,1),h())}));const{onSwiperDotClick:f,circularEnabled:m,swiperEnabled:g}=cf(e,s,p,i,n,o);let v=()=>null;return v=uf(r,e,s,f,p,m,g),()=>{const n=t.default&&t.default();return u=Ph(n),Fa("uni-swiper",{ref:r},[Fa("div",{ref:a,class:"uni-swiper-wrapper"},[Fa("div",{class:"uni-swiper-slides",style:c.value},[Fa("div",{ref:i,class:"uni-swiper-slide-frame",style:l.value},[n],4)],4),e.indicatorDots&&Fa("div",{class:["uni-swiper-dots",e.vertical?"uni-swiper-dots-vertical":"uni-swiper-dots-horizontal"]},[p.value.map(((t,n,r)=>Fa("div",{onClick:()=>f(n),class:{"uni-swiper-dot":!0,"uni-swiper-dot-active":n<s.current+s.displayMultipleItems&&n>=s.current||n<s.current+s.displayMultipleItems-r.length},style:{background:n===s.current?e.indicatorActiveColor:e.indicatorColor}},null,14,["onClick"])))],2),v()],512)],512)}}}),uf=(e,t,n,r,o,a,i)=>{let s=!1,c=!1,u=!1,d=Vn(!1);function p(e,n){const r=e.currentTarget;r&&(r.style.backgroundColor="over"===n?t.navigationActiveColor:"")}Ur((()=>{s="auto"===t.navigation,d.value=!0!==t.navigation||s,_()})),Ur((()=>{const e=o.value.length,t=!a.value;c=0===n.current&&t,u=n.current===e-1&&t||t&&n.current+n.displayMultipleItems>=e,i.value||(c=!0,u=!0,s&&(d.value=!0))}));const h={onMouseover:e=>p(e,"over"),onMouseout:e=>p(e,"out")};function f(e,t,i){if(e.stopPropagation(),i)return;const s=o.value.length;let c=n.current;switch(t){case"prev":c--,c<0&&a.value&&(c=s-1);break;case"next":c++,c>=s&&a.value&&(c=0)}r(c)}const m=()=>fu(hu,t.navigationColor,26);let g;const v=n=>{clearTimeout(g);const{clientX:r,clientY:o}=n,{left:a,right:i,top:s,bottom:c,width:l,height:u}=e.value.getBoundingClientRect();let p=!1;if(p=t.vertical?!(o-s<u/3||c-o<u/3):!(r-a<l/3||i-r<l/3),p)return g=setTimeout((()=>{d.value=p}),300);d.value=p},y=()=>{d.value=!0};function _(){e.value&&(e.value.removeEventListener("mousemove",v),e.value.removeEventListener("mouseleave",y),s&&(e.value.addEventListener("mousemove",v),e.value.addEventListener("mouseleave",y)))}return Eo(_),function(){const e={"uni-swiper-navigation-hide":d.value,"uni-swiper-navigation-vertical":t.vertical};return t.navigation?Fa(Oa,null,[Fa("div",Ka({class:["uni-swiper-navigation uni-swiper-navigation-prev",l({"uni-swiper-navigation-disabled":c},e)],onClick:e=>f(e,"prev",c)},h),[m()],16,["onClick"]),Fa("div",Ka({class:["uni-swiper-navigation uni-swiper-navigation-next",l({"uni-swiper-navigation-disabled":u},e)],onClick:e=>f(e,"next",u)},h),[m()],16,["onClick"])]):null}},df=ed({name:"SwiperItem",props:{itemId:{type:String,default:""}},setup(e,{slots:t}){const n=Vn(null),r={rootRef:n,getItemId:()=>e.itemId,getBoundingClientRect:()=>n.value.getBoundingClientRect(),updatePosition(e,t){const r=t?"0":100*e+"%",o=t?100*e+"%":"0",a=n.value,i=`translate(${r},${o}) translateZ(0)`;a&&(a.style.webkitTransform=i,a.style.transform=i)}};return Eo((()=>{const e=xr("addSwiperContext");e&&e(r)})),Ro((()=>{const e=xr("removeSwiperContext");e&&e(r)})),()=>Fa("uni-swiper-item",{ref:n,style:{position:"absolute",width:"100%",height:"100%"}},[t.default&&t.default()],512)}}),pf=ed({name:"Switch",props:{name:{type:String,default:""},checked:{type:[Boolean,String],default:!1},type:{type:String,default:"switch"},id:{type:String,default:""},disabled:{type:[Boolean,String],default:!1},color:{type:String,default:""}},emits:["change"],setup(e,{emit:t}){const n=Vn(null),r=Vn(e.checked),o=function(e,t){const n=xr(sd,!1),r=xr(ld,!1),o={submit:()=>{const n=["",null];return e.name&&(n[0]=e.name,n[1]=t.value),n},reset:()=>{t.value=!1}};n&&(n.addField(o),Ro((()=>{n.removeField(o)})));return r}(e,r),a=rd(n,t);Br((()=>e.checked),(e=>{r.value=e}));const i=t=>{e.disabled||(r.value=!r.value,a("change",t,{value:r.value}))};return o&&(o.addHandler(i),Oo((()=>{o.removeHandler(i)}))),pd(e,{"label-click":i}),()=>{const{color:t,type:o}=e,a=id(e,"disabled"),s={};let c;return t&&r.value&&(s.backgroundColor=t,s.borderColor=t),c=r.value,Fa("uni-switch",Ka({id:e.id,ref:n},a,{onClick:i}),[Fa("div",{class:"uni-switch-wrapper"},[Ao(Fa("div",{class:["uni-switch-input",[r.value?"uni-switch-input-checked":""]],style:s},null,6),[[fs,"switch"===o]]),Ao(Fa("div",{class:"uni-checkbox-input"},[c?fu(du,e.color,22):""],512),[[fs,"checkbox"===o]])])],16,["id","onClick"])}}});const hf={ensp:"",emsp:"",nbsp:""};function ff(e,t){return function(e,{space:t,decode:n}){let r="",o=!1;for(let a of e)t&&hf[t]&&" "===a&&(a=hf[t]),o?(r+="n"===a?ie:"\\"===a?"\\":"\\"+a,o=!1):"\\"===a?o=!0:r+=a;return n?r.replace(/&nbsp;/g,hf.nbsp).replace(/&ensp;/g,hf.ensp).replace(/&emsp;/g,hf.emsp).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&apos;/g,"'"):r}(e,t).split(ie)}const mf=ed({name:"Text",props:{selectable:{type:[Boolean,String],default:!1},space:{type:String,default:""},decode:{type:[Boolean,String],default:!1}},setup(e,{slots:t}){const n=Vn(null);return()=>{const r=[];return t.default&&t.default().forEach((t=>{if(8&t.shapeFlag&&t.type!==ba){const n=ff(t.children,{space:e.space,decode:e.decode}),o=n.length-1;n.forEach(((e,t)=>{(0!==t||e)&&r.push(Wa(e)),t!==o&&r.push(Fa("br"))}))}else r.push(t)})),Fa("uni-text",{ref:n,selectable:!!e.selectable||null},[Fa("span",null,r)],8,["selectable"])}}}),gf=ed({name:"View",props:l({},od),setup(e,{slots:t}){const n=Vn(null),{hovering:r,binding:o}=ad(e);return()=>{const a=e.hoverClass;return a&&"none"!==a?Fa("uni-view",Ka({class:r.value?a:"",ref:n},o),[t.default&&t.default()],16):Fa("uni-view",{ref:n},[t.default&&t.default()],512)}}});function vf(e,t){if(t||(t=e.id),t)return e.$options.name.toLowerCase()+"."+t}function yf(e,t,n){e&&wl(n||yu(),e,(({type:e,data:n},r)=>{t(e,n,r)}))}function _f(e,t){e&&function(e,t){t=Ml(e,t),delete Al[t]}(t||yu(),e)}let Ef=0;function Tf(e,t,n,r){v(t)&&vo(e,t.bind(n),r)}function Sf(e,t,n){var r;const o=e.mpType||n.$mpType;if(o&&"component"!==o&&(Object.keys(e).forEach((r=>{if(function(e,t,n=!0){return!(n&&!v(t))&&(pt.indexOf(e)>-1||0===e.indexOf("on"))}(r,e[r],!1)){const o=e[r];h(o)?o.forEach((e=>Tf(r,e,n,t))):Tf(r,o,n,t)}})),"page"===o)){t.__isVisible=!0;try{Su(n,Te,t.attrs.__pageQuery),delete t.attrs.__pageQuery,"preloadPage"!==(null==(r=n.$page)?void 0:r.openType)&&Su(n,fe)}catch(a){console.error(a.message+ie+a.stack)}}}function Of(e,t,n){Sf(e,t,n)}function Rf(e,t,n){return e[t]=n}function bf(e,...t){const n=this[e];return n?n(...t):(console.error(`method ${e} not found`),null)}function If(e){return function(t,n,r){if(!n)throw t;const o=e._instance;if(!o||!o.proxy)throw t;Su(o.proxy,ve,t)}}function Cf(e,t){return e?[...new Set([].concat(e,t))]:t}function Nf(e){const t=e._context.config;var n;t.errorHandler=ft(e,If),n=t.optionMergeStrategies,pt.forEach((e=>{n[e]=Cf}));const r=t.globalProperties;r.$set=Rf,r.$applyOptions=Of,r.$callMethod=bf,function(e){ht.forEach((t=>t(e)))}(e)}const Af=cu("upm");function Mf(){return xr(Af)}function wf(e){const t=function(e){return An(function(e){{const{navigationBar:t}=e,{titleSize:n,titleColor:r,backgroundColor:o}=t;t.titleText=t.titleText||"",t.type=t.type||"default",t.titleSize=n||"16px",t.titleColor=r||"#000000",t.backgroundColor=o||"#F8F8F8"}if(history.state){const t=history.state.__type__;"redirectTo"!==t&&"reLaunch"!==t||0!==qf().length||(e.isEntry=!0,e.isQuit=!0)}return e}(JSON.parse(JSON.stringify(Tu(pl().meta,e)))))}(e);return Pr(Af,t),t}function kf(){return pl()}function Lf(){return history.state&&history.state.__id__||1}let Pf;function xf(){var e;return Pf||(Pf=__uniConfig.tabBar&&An((e=__uniConfig.tabBar,hl()&&e.list&&e.list.forEach((e=>{vl(e,["text"])})),e))),Pf}const Uf=window.CSS&&window.CSS.supports;function Df(e){return Uf&&(Uf(e)||Uf.apply(window.CSS,e.split(":")))}const Bf=Df("top:env(a)"),Gf=Df("top:constant(a)"),jf=Df("backdrop-filter:blur(10px)"),Ff=(()=>Bf?"env":Gf?"constant":"")();function Hf(e){return Ff?`calc(${e}px + ${Ff}(safe-area-inset-bottom))`:`${e}px`}const Wf="$$",Vf=new Map;function $f(){return Vf}function qf(){const e=[],t=Vf.values();for(const n of t)n.$.__isTabBar?n.$.__isActive&&e.push(n):e.push(n);return e}function zf(e,t=!0){const n=Vf.get(e);n.$.__isUnload=!0,Su(n,Se),Vf.delete(e),t&&function(e){const t=Qf.get(e);t&&(Qf.delete(e),Zf.pruneCacheEntry(t))}(e)}let Kf=Lf();function Jf(e){const t=Mf();let n=e.fullPath;return e.meta.isEntry&&-1===n.indexOf(e.meta.route)&&(n="/"+e.meta.route+n.replace("/","")),function(e,t,n,r,o,a){const{id:i,route:s}=r,c=yt(r.navigationBar,__uniConfig.themeConfig,a).titleColor;return{id:i,path:Ke(s),route:s,fullPath:t,options:n,meta:r,openType:e,eventChannel:o,statusBarStyle:"#ffffff"===c?"light":"dark"}}("navigateTo",n,{},t)}function Xf(e){const t=Jf(e.$route);!function(e,t){e.route=t.route,e.$vm=e,e.$page=t,e.$mpType="page",t.meta.isTabBar&&(e.$.__isTabBar=!0,e.$.__isActive=!0)}(e,t),Vf.set(Yf(t.path,t.id),e)}function Yf(e,t){return e+Wf+t}const Qf=new Map,Zf={get:e=>Qf.get(e),set(e,t){!function(e){const t=parseInt(e.split(Wf)[1]);if(!t)return;Zf.forEach(((e,n)=>{const r=parseInt(n.split(Wf)[1]);if(r&&r>t){if(function(e){return"tabBar"===e.props.type}(e))return;Zf.delete(n),Zf.pruneCacheEntry(e),hr((()=>{Vf.forEach(((e,t)=>{e.$.isUnmounted&&Vf.delete(t)}))}))}}))}(e),Qf.set(e,t)},delete(e){Qf.get(e)&&Qf.delete(e)},forEach(e){Qf.forEach(e)}};function em(e,t){!function(e){const t=nm(e),{body:n}=document;rm&&n.removeAttribute(rm),t&&n.setAttribute(t,""),rm=t}(e),function(e){let t=0,n=0;if("custom"!==e.navigationBar.style&&["default","float"].indexOf(e.navigationBar.type)>-1&&(t=se),e.isTabBar){const e=xf();e.shown&&(n=parseInt(e.height))}var r;su({"--window-top":(r=t,Ff?`calc(${r}px + ${Ff}(safe-area-inset-top))`:`${r}px`),"--window-bottom":Hf(n)})}(t),function(e){{const t="nvue-dir-"+__uniConfig.nvue["flex-direction"];e.isNVue?(document.body.setAttribute("nvue",""),document.body.setAttribute(t,"")):(document.body.removeAttribute("nvue"),document.body.removeAttribute(t))}}(t),function(e,t){document.removeEventListener("touchmove",Ou),om&&document.removeEventListener("scroll",om);if(t.disableScroll)return document.addEventListener("touchmove",Ou);const{onPageScroll:n,onReachBottom:r}=e,o="transparent"===t.navigationBar.type;if(!n&&!r&&!o)return;const a={},i=e.proxy.$page.id;(n||o)&&(a.onPageScroll=function(e,t,n){return r=>{t&&dv.publishHandler(Ce,{scrollTop:r},e),n&&dv.emit(e+"."+Ce,{scrollTop:r})}}(i,n,o));r&&(a.onReachBottomDistance=t.onReachBottomDistance||ce,a.onReachBottom=()=>dv.publishHandler(Ae,{},i));om=Iu(a),requestAnimationFrame((()=>document.addEventListener("scroll",om)))}(e,t)}function tm(e){const t=nm(e);t&&function(e){const t=document.querySelector("uni-page-body");t&&t.setAttribute(e,"")}(t)}function nm(e){return e.type.__scopeId}let rm,om;function am(e){const t=dl({history:sm(),strict:!!__uniConfig.router.strict,routes:__uniRoutes,scrollBehavior:im});e.router=t,e.use(t)}const im=(e,t,n)=>{if(n)return n};function sm(){let{routerBase:e}=__uniConfig.router;"/"===e&&(e="");const t=(n=e,(n=location.host?n||location.pathname+location.search:"").includes("#")||(n+="#"),Rc(n));var n;return t.listen(((e,t,n)=>{"back"===n.direction&&function(e=1){const t=qf(),n=t.length-1,r=n-e;for(let o=n;o>r;o--){const e=t[o].$page;zf(Yf(e.path,e.id),!1)}}(Math.abs(n.delta))})),t}const cm={install(e){Nf(e),Bu(e),Ju(e),e.config.warnHandler||(e.config.warnHandler=lm),am(e)}};function lm(e,t,n){if(t){if("PageMetaHead"===t.$.type.name)return;const e=t.$.parent;if(e&&"PageMeta"===e.type.name)return}const r=[`[Vue warn]: ${e}`];n.length&&r.push("\n",n),console.warn(...r)}const um={class:"uni-async-loading"},dm=Fa("i",{class:"uni-loading"},null,-1),pm=td({name:"AsyncLoading",render:()=>(Aa(),Pa("div",um,[dm]))});function hm(){window.location.reload()}const fm=td({name:"AsyncError",setup(){El();const{t:e}=yl();return()=>Fa("div",{class:"uni-async-error",onClick:hm},[e("uni.async.error")],8,["onClick"])}});let mm;function gm(){return mm}function vm(e){mm=e,Object.defineProperty(mm.$.ctx,"$children",{get:()=>qf().map((e=>e.$vm))});const t=mm.$.appContext.app;t.component(pm.name)||t.component(pm.name,pm),t.component(fm.name)||t.component(fm.name,fm),function(e){e.$vm=e,e.$mpType="app";const t=Vn(yl().getLocale());Object.defineProperty(e,"$locale",{get:()=>t.value,set(e){t.value=e}})}(mm),function(e,t){const n=e.$options||{};n.globalData=l(n.globalData||{},t),Object.defineProperty(e,"globalData",{get:()=>n.globalData,set(e){n.globalData=e}})}(mm),zu(),$l()}function ym(e,{clone:t,init:n,setup:r,before:o}){t&&(e=l({},e)),o&&o(e);const a=e.setup;return e.setup=(e,t)=>{const o=Za();n(o.proxy);const i=r(o);if(a)return a(i||e,t)},e}function _m(e,t){return e&&(e.__esModule||"Module"===e[Symbol.toStringTag])?ym(e.default,t):ym(e,t)}function Em(e){return _m(e,{clone:!0,init:Xf,setup(e){e.$pageInstance=e;const t=kf(),n=at(t.query);e.attrs.__pageQuery=n,e.proxy.$page.options=n,e.proxy.options=n;const r=Mf();var o,a,i;return _o((()=>{em(e,r)})),Eo((()=>{tm(e);const{onReady:n}=e;n&&U(n),Rm(t)})),lo((()=>{if(!e.__isVisible){em(e,r),e.__isVisible=!0;const{onShow:n}=e;n&&U(n),hr((()=>{Rm(t)}))}}),"ba",o),function(e,t){lo(e,"bda",t)}((()=>{if(e.__isVisible&&!e.__isUnload){e.__isVisible=!1;const{onHide:t}=e;t&&U(t)}})),a=r.id,dv.subscribe(Ml(a,Il),i?i(kl):kl),Oo((()=>{!function(e){dv.unsubscribe(Ml(e,Il)),Object.keys(Al).forEach((t=>{0===t.indexOf(e+".")&&delete Al[t]}))}(r.id)})),n}})}function Tm(){const{windowWidth:e,windowHeight:t,screenWidth:n,screenHeight:r}=Vm(),o=90===Math.abs(Number(window.orientation))?"landscape":"portrait";pv.emit(be,{deviceOrientation:o,size:{windowWidth:e,windowHeight:t,screenWidth:n,screenHeight:r}})}function Sm(e){b(e.data)&&e.data.type===he&&pv.emit(He,e.data.data,e.data.pageId)}function Om(){const{emit:e}=pv;"visible"===document.visibilityState?e(je,l({},eh)):e(Fe)}function Rm(e){const{tabBarText:t,tabBarIndex:n,route:r}=e.meta;t&&Su("onTabItemTap",{index:n,text:t,pagePath:r})}function bm(e){e=e>0&&e<1/0?e:0;const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%3600%60),o=(t<10?"0":"")+t;let a=(n<10?"0":"")+n+":"+((r<10?"0":"")+r);return"00"!==o&&(a=o+":"+a),a}function Im(e,t,n){const r=An({gestureType:"none",volumeOld:0,volumeNew:0,currentTimeOld:0,currentTimeNew:0}),o={x:0,y:0};return{state:r,onTouchstart:function(e){const t=e.targetTouches[0];o.x=t.pageX,o.y=t.pageY,r.gestureType="none",r.volumeOld=0,r.currentTimeOld=r.currentTimeNew=0},onTouchmove:function(a){function i(){a.stopPropagation(),a.preventDefault()}n.fullscreen&&i();const s=r.gestureType;if("stop"===s)return;const c=a.targetTouches[0],l=c.pageX,u=c.pageY,d=o,p=t.value;if("progress"===s?function(e){const n=t.value,o=n.duration;let a=e/600*o+r.currentTimeOld;a<0?a=0:a>o&&(a=o);r.currentTimeNew=a}(l-d.x):"volume"===s&&function(e){const n=t.value,o=r.volumeOld;let a;"number"==typeof o&&(a=o-e/200,a<0?a=0:a>1&&(a=1),n.volume=a,r.volumeNew=a)}(u-d.y),"none"===s)if(Math.abs(l-d.x)>Math.abs(u-d.y)){if(!e.enableProgressGesture)return void(r.gestureType="stop");r.gestureType="progress",r.currentTimeOld=r.currentTimeNew=p.currentTime,n.fullscreen||i()}else{if(!e.pageGesture)return void(r.gestureType="stop");r.gestureType="volume",r.volumeOld=p.volume,n.fullscreen||i()}},onTouchend:function(e){const n=t.value;"none"!==r.gestureType&&"stop"!==r.gestureType&&(e.stopPropagation(),e.preventDefault()),"progress"===r.gestureType&&r.currentTimeOld!==r.currentTimeNew&&(n.currentTime=r.currentTimeNew),r.gestureType="none"}}}function Cm(e,t,n,r,o,a,i,s){const c={play:e,stop:n,pause:t,seek:r,sendDanmu:o,playbackRate:a,requestFullScreen:i,exitFullScreen:s};!function(e,t,n,r){const o=Za().proxy;Eo((()=>{yf(t||vf(o),e,r),!n&&t||Br((()=>o.id),((t,n)=>{yf(vf(o,t),e,r),_f(n&&vf(o,n))}))})),Oo((()=>{_f(t||vf(o),r)}))}(((e,t)=>{let n;switch(e){case"seek":n=t.position;break;case"sendDanmu":n=t;break;case"playbackRate":n=t.rate}e in c&&c[e](n)}),function(e){const t=mu(),n=Za().proxy,r=n.$options.name.toLowerCase(),o=e||n.id||"context"+Ef++;return Eo((()=>{n.$el.__uniContextInfo={id:o,type:r,page:t}})),`${r}.${o}`}(),!0)}const Nm=ed({name:"Video",props:{id:{type:String,default:""},src:{type:String,default:""},duration:{type:[Number,String],default:""},controls:{type:[Boolean,String],default:!0},danmuList:{type:Array,default:()=>[]},danmuBtn:{type:[Boolean,String],default:!1},enableDanmu:{type:[Boolean,String],default:!1},autoplay:{type:[Boolean,String],default:!1},loop:{type:[Boolean,String],default:!1},muted:{type:[Boolean,String],default:!1},objectFit:{type:String,default:"contain"},poster:{type:String,default:""},direction:{type:[String,Number],default:""},showProgress:{type:Boolean,default:!0},initialTime:{type:[String,Number],default:0},showFullscreenBtn:{type:[Boolean,String],default:!0},pageGesture:{type:[Boolean,String],default:!1},enableProgressGesture:{type:[Boolean,String],default:!0},showPlayBtn:{type:[Boolean,String],default:!0},showCenterPlayBtn:{type:[Boolean,String],default:!0}},emits:["fullscreenchange","progress","loadedmetadata","waiting","error","play","pause","ended","timeupdate"],setup(e,{emit:t,attrs:n,slots:r}){const o=Vn(null),a=Vn(null),i=rd(o,t),{state:s}=Th(),{$attrs:c}=Lh({excludeListeners:!0}),{t:l}=yl();Rl();const{videoRef:u,state:d,play:p,pause:f,stop:m,seek:g,playbackRate:v,toggle:y,onDurationChange:_,onLoadedMetadata:E,onProgress:T,onWaiting:S,onVideoError:O,onPlay:R,onPause:b,onEnded:I,onTimeUpdate:C}=function(e,t,n){const r=Vn(null),o=li((()=>vd(e.src))),a=li((()=>"true"===e.muted||!0===e.muted)),i=An({start:!1,src:o,playing:!1,currentTime:0,duration:0,progress:0,buffered:0,muted:a});function s(e){const t=e.target,n=t.buffered;n.length&&(i.buffered=n.end(n.length-1)/t.duration*100)}function c(){r.value.pause()}function l(e){const t=r.value;"number"!=typeof(e=Number(e))||isNaN(e)||(t.currentTime=e)}return Br((()=>o.value),(()=>{i.playing=!1,i.currentTime=0})),Br((()=>i.buffered),(e=>{n("progress",{},{buffered:e})})),Br((()=>a.value),(e=>{r.value.muted=e})),{videoRef:r,state:i,play:function(){const e=r.value;i.start=!0,e.play()},pause:c,stop:function(){l(0),c()},seek:l,playbackRate:function(e){r.value.playbackRate=e},toggle:function(){const e=r.value;i.playing?e.pause():e.play()},onDurationChange:function({target:e}){i.duration=e.duration},onLoadedMetadata:function(t){const r=Number(e.initialTime)||0,o=t.target;r>0&&(o.currentTime=r),n("loadedmetadata",t,{width:o.videoWidth,height:o.videoHeight,duration:o.duration}),s(t)},onProgress:s,onWaiting:function(e){n("waiting",e,{})},onVideoError:function(e){i.playing=!1,n("error",e,{})},onPlay:function(e){i.start=!0,i.playing=!0,n("play",e,{})},onPause:function(e){i.playing=!1,n("pause",e,{})},onEnded:function(e){i.playing=!1,n("ended",e,{})},onTimeUpdate:function(e){const t=e.target,r=i.currentTime=t.currentTime;n("timeupdate",e,{currentTime:r,duration:t.duration})}}}(e,0,i),{state:N,danmuRef:A,updateDanmu:M,toggleDanmu:w,sendDanmu:k}=function(e,t){const n=Vn(null),r=An({enable:Boolean(e.enableDanmu)});let o={time:0,index:-1};const a=h(e.danmuList)?JSON.parse(JSON.stringify(e.danmuList)):[];function i(e){const t=document.createElement("p");t.className="uni-video-danmu-item",t.innerText=e.text;let r=`bottom: ${100*Math.random()}%;color: ${e.color};`;t.setAttribute("style",r),n.value.appendChild(t),setTimeout((function(){r+="left: 0;-webkit-transform: translateX(-100%);transform: translateX(-100%);",t.setAttribute("style",r),setTimeout((function(){t.remove()}),4e3)}),17)}return a.sort((function(e,t){return(e.time||0)-(t.time||0)})),{state:r,danmuRef:n,updateDanmu:function(e){const n=e.target.currentTime,s=o,c={time:n,index:s.index};if(n>s.time)for(let o=s.index+1;o<a.length;o++){const e=a[o];if(!(n>=(e.time||0)))break;c.index=o,t.playing&&r.enable&&i(e)}else if(n<s.time)for(let t=s.index-1;t>-1&&n<=(a[t].time||0);t--)c.index=t-1;o=c},toggleDanmu:function(){r.enable=!r.enable},sendDanmu:function(e){a.splice(o.index+1,0,{text:String(e.text),color:e.color,time:t.currentTime||0})}}}(e,d),{state:L,onFullscreenChange:P,emitFullscreenChange:x,toggleFullscreen:U,requestFullScreen:D,exitFullScreen:B}=function(e,t,n,r,o){const a=An({fullscreen:!1}),i=/^Apple/.test(navigator.vendor);function s(t){a.fullscreen=t,e("fullscreenchange",{},{fullScreen:t,direction:"vertical"})}function c(e){const a=o.value,c=t.value,l=n.value;let u;e?!document.fullscreenEnabled&&!document.webkitFullscreenEnabled||i&&!r.userAction?l.webkitEnterFullScreen?l.webkitEnterFullScreen():(u=!0,c.remove(),c.classList.add("uni-video-type-fullscreen"),document.body.appendChild(c)):c[document.fullscreenEnabled?"requestFullscreen":"webkitRequestFullscreen"]():document.fullscreenEnabled||document.webkitFullscreenEnabled?document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen():l.webkitExitFullScreen?l.webkitExitFullScreen():(u=!0,c.remove(),c.classList.remove("uni-video-type-fullscreen"),a.appendChild(c)),u&&s(e)}function l(){c(!1)}return Oo(l),{state:a,onFullscreenChange:function(e,t){t&&document.fullscreenEnabled||s(!(!document.fullscreenElement&&!document.webkitFullscreenElement))},emitFullscreenChange:s,toggleFullscreen:c,requestFullScreen:function(){c(!0)},exitFullScreen:l}}(i,a,u,s,o),{state:G,onTouchstart:j,onTouchend:F,onTouchmove:H}=Im(e,u,L),{state:W,progressRef:V,ballRef:$,clickProgress:q,toggleControls:z}=function(e,t,n){const r=Vn(null),o=Vn(null),a=li((()=>e.showCenterPlayBtn&&!t.start)),i=Vn(!0),s=li((()=>!a.value&&e.controls&&i.value)),c=An({touching:!1,controlsTouching:!1,centerPlayBtnShow:a,controlsShow:s,controlsVisible:i});let l;function u(){l=setTimeout((()=>{c.controlsVisible=!1}),3e3)}function d(){l&&(clearTimeout(l),l=null)}return Oo((()=>{l&&clearTimeout(l)})),Br((()=>c.controlsShow&&t.playing&&!c.controlsTouching),(e=>{e?u():d()})),Br([()=>t.currentTime,()=>{e.duration}],(function(){c.touching||(t.progress=t.currentTime/t.duration*100)})),Eo((()=>{const e=nt(!1);let a,i,s,l=!0;const u=o.value;function d(e){const n=e.targetTouches[0],o=n.pageX,c=n.pageY;if(l&&Math.abs(o-a)<Math.abs(c-i))return void p(e);l=!1;const u=r.value.offsetWidth;let d=s+(o-a)/u*100;d<0?d=0:d>100&&(d=100),t.progress=d,e.preventDefault(),e.stopPropagation()}function p(r){c.controlsTouching=!1,c.touching&&(u.removeEventListener("touchmove",d,e),l||(r.preventDefault(),r.stopPropagation(),n(t.duration*t.progress/100)),c.touching=!1)}u.addEventListener("touchstart",(n=>{c.controlsTouching=!0;const r=n.targetTouches[0];a=r.pageX,i=r.pageY,s=t.progress,l=!0,c.touching=!0,u.addEventListener("touchmove",d,e)})),u.addEventListener("touchend",p),u.addEventListener("touchcancel",p)})),{state:c,progressRef:r,ballRef:o,clickProgress:function(e){const o=r.value;let a=e.target,i=e.offsetX;for(;a&&a!==o;)i+=a.offsetLeft,a=a.parentNode;const s=o.offsetWidth;let c=0;i>=0&&i<=s&&(c=i/s,n(t.duration*c))},toggleControls:function(){c.controlsVisible=!c.controlsVisible},autoHideStart:u,autoHideEnd:d}}(e,d,g);return Cm(p,f,m,g,k,v,D,B),()=>Fa("uni-video",{ref:o,id:e.id,onClick:z},[Fa("div",{ref:a,class:"uni-video-container",onTouchstart:j,onTouchend:F,onTouchmove:H,onFullscreenchange:hs(P,["stop"]),onWebkitfullscreenchange:hs((e=>P(e,!0)),["stop"])},[Fa("video",Ka({ref:u,style:{"object-fit":e.objectFit},muted:!!e.muted,loop:!!e.loop,src:d.src,poster:e.poster,autoplay:!!e.autoplay},c.value,{class:"uni-video-video","webkit-playsinline":!0,playsinline:!0,onDurationchange:_,onLoadedmetadata:E,onProgress:T,onWaiting:S,onError:O,onPlay:R,onPause:b,onEnded:I,onTimeupdate:e=>{C(e),M(e)},onWebkitbeginfullscreen:()=>x(!0),onX5videoenterfullscreen:()=>x(!0),onWebkitendfullscreen:()=>x(!1),onX5videoexitfullscreen:()=>x(!1)}),null,16,["muted","loop","src","poster","autoplay","webkit-playsinline","playsinline","onDurationchange","onLoadedmetadata","onProgress","onWaiting","onError","onPlay","onPause","onEnded","onTimeupdate","onWebkitbeginfullscreen","onX5videoenterfullscreen","onWebkitendfullscreen","onX5videoexitfullscreen"]),Ao(Fa("div",{class:"uni-video-bar uni-video-bar-full",onClick:hs((()=>{}),["stop"])},[Fa("div",{class:"uni-video-controls"},[Ao(Fa("div",{class:{"uni-video-control-button":!0,"uni-video-control-button-play":!d.playing,"uni-video-control-button-pause":d.playing},onClick:hs(y,["stop"])},null,10,["onClick"]),[[fs,e.showPlayBtn]]),Ao(Fa("div",{class:"uni-video-current-time"},[bm(d.currentTime)],512),[[fs,e.showProgress]]),Ao(Fa("div",{ref:V,class:"uni-video-progress-container",onClick:hs(q,["stop"])},[Fa("div",{class:"uni-video-progress"},[Fa("div",{style:{width:d.buffered+"%"},class:"uni-video-progress-buffered"},null,4),Fa("div",{ref:$,style:{left:d.progress+"%"},class:"uni-video-ball"},[Fa("div",{class:"uni-video-inner"},null)],4)])],8,["onClick"]),[[fs,e.showProgress]]),Ao(Fa("div",{class:"uni-video-duration"},[bm(Number(e.duration)||d.duration)],512),[[fs,e.showProgress]])]),Ao(Fa("div",{class:{"uni-video-danmu-button":!0,"uni-video-danmu-button-active":N.enable},onClick:hs(w,["stop"])},[l("uni.video.danmu")],10,["onClick"]),[[fs,e.danmuBtn]]),Ao(Fa("div",{class:{"uni-video-fullscreen":!0,"uni-video-type-fullscreen":L.fullscreen},onClick:hs((()=>U(!L.fullscreen)),["stop"])},null,10,["onClick"]),[[fs,e.showFullscreenBtn]])],8,["onClick"]),[[fs,W.controlsShow]]),Ao(Fa("div",{ref:A,style:"z-index: 0;",class:"uni-video-danmu"},null,512),[[fs,d.start&&N.enable]]),W.centerPlayBtnShow&&Fa("div",{class:"uni-video-cover",onClick:hs((()=>{}),["stop"])},[Fa("div",{class:"uni-video-cover-play-button",onClick:hs(p,["stop"])},null,8,["onClick"]),Fa("p",{class:"uni-video-cover-duration"},[bm(Number(e.duration)||d.duration)])],8,["onClick"]),Fa("div",{class:{"uni-video-toast":!0,"uni-video-toast-volume":"volume"===G.gestureType}},[Fa("div",{class:"uni-video-toast-title"},[l("uni.video.volume")]),Fa("svg",{class:"uni-video-toast-icon",width:"200px",height:"200px",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},[Fa("path",{d:"M475.400704 201.19552l0 621.674496q0 14.856192-10.856448 25.71264t-25.71264 10.856448-25.71264-10.856448l-190.273536-190.273536-149.704704 0q-14.856192 0-25.71264-10.856448t-10.856448-25.71264l0-219.414528q0-14.856192 10.856448-25.71264t25.71264-10.856448l149.704704 0 190.273536-190.273536q10.856448-10.856448 25.71264-10.856448t25.71264 10.856448 10.856448 25.71264zm219.414528 310.837248q0 43.425792-24.28416 80.851968t-64.2816 53.425152q-5.71392 2.85696-14.2848 2.85696-14.856192 0-25.71264-10.570752t-10.856448-25.998336q0-11.999232 6.856704-20.284416t16.570368-14.2848 19.427328-13.142016 16.570368-20.284416 6.856704-32.569344-6.856704-32.569344-16.570368-20.284416-19.427328-13.142016-16.570368-14.2848-6.856704-20.284416q0-15.427584 10.856448-25.998336t25.71264-10.570752q8.57088 0 14.2848 2.85696 39.99744 15.427584 64.2816 53.139456t24.28416 81.137664zm146.276352 0q0 87.422976-48.56832 161.41824t-128.5632 107.707392q-7.428096 2.85696-14.2848 2.85696-15.427584 0-26.284032-10.856448t-10.856448-25.71264q0-22.284288 22.284288-33.712128 31.997952-16.570368 43.425792-25.141248 42.283008-30.855168 65.995776-77.423616t23.712768-99.136512-23.712768-99.136512-65.995776-77.423616q-11.42784-8.57088-43.425792-25.141248-22.284288-11.42784-22.284288-33.712128 0-14.856192 10.856448-25.71264t25.71264-10.856448q7.428096 0 14.856192 2.85696 79.99488 33.712128 128.5632 107.707392t48.56832 161.41824zm146.276352 0q0 131.42016-72.566784 241.41312t-193.130496 161.989632q-7.428096 2.85696-14.856192 2.85696-14.856192 0-25.71264-10.856448t-10.856448-25.71264q0-20.570112 22.284288-33.712128 3.999744-2.285568 12.85632-5.999616t12.85632-5.999616q26.284032-14.2848 46.854144-29.140992 70.281216-51.996672 109.707264-129.705984t39.426048-165.132288-39.426048-165.132288-109.707264-129.705984q-20.570112-14.856192-46.854144-29.140992-3.999744-2.285568-12.85632-5.999616t-12.85632-5.999616q-22.284288-13.142016-22.284288-33.712128 0-14.856192 10.856448-25.71264t25.71264-10.856448q7.428096 0 14.856192 2.85696 120.563712 51.996672 193.130496 161.989632t72.566784 241.41312z"},null)]),Fa("div",{class:"uni-video-toast-value"},[Fa("div",{style:{width:100*G.volumeNew+"%"},class:"uni-video-toast-value-content"},[Fa("div",{class:"uni-video-toast-volume-grids"},[Do(10,(()=>Fa("div",{class:"uni-video-toast-volume-grids-item"},null)))])],4)])],2),Fa("div",{class:{"uni-video-toast":!0,"uni-video-toast-progress":"progress"===G.gestureType}},[Fa("div",{class:"uni-video-toast-title"},[bm(G.currentTimeNew)," / ",bm(d.duration)])],2),Fa("div",{class:"uni-video-slots"},[r.default&&r.default()])],40,["onTouchstart","onTouchend","onTouchmove","onFullscreenchange","onWebkitfullscreenchange"])],8,["id","onClick"])}}),Am=Xe((()=>{mp.forEach((e=>{Mm.prototype[e]=function(t){v(t)&&this._events[e].push(t)}})),gp.forEach((e=>{Mm.prototype[e]=function(t){var n=this._events[e.replace("off","on")],r=n.indexOf(t);r>=0&&n.splice(r,1)}}))}));class Mm{constructor(){this._src="";var e=this._audio=new Audio;this._stoping=!1;["src","autoplay","loop","duration","currentTime","paused","volume"].forEach((t=>{Object.defineProperty(this,t,{set:"src"===t?t=>(e.src=vd(t),this._src=t,t):n=>(e[t]=n,n),get:"src"===t?()=>this._src:()=>e[t]})})),this.startTime=0,Object.defineProperty(this,"obeyMuteSwitch",{set:()=>!1,get:()=>!1}),Object.defineProperty(this,"buffered",{get(){var t=e.buffered;return t.length?t.end(t.length-1):0}}),this._events={},mp.forEach((e=>{this._events[e]=[]})),e.addEventListener("loadedmetadata",(()=>{var t=Number(this.startTime)||0;t>0&&(e.currentTime=t)}));var t=["canplay","pause","seeking","seeked","timeUpdate"];t.concat(["play","ended","error","waiting"]).forEach((n=>{e.addEventListener(n.toLowerCase(),(()=>{if(this._stoping&&t.indexOf(n)>=0)return;const e=`on${n.slice(0,1).toUpperCase()}${n.slice(1)}`;this._events[e].forEach((e=>{e()}))}),!1)})),Am()}play(){this._stoping=!1,this._audio.play()}pause(){this._audio.pause()}stop(){this._stoping=!0,this._audio.pause(),this._audio.currentTime=0,this._events.onStop.forEach((e=>{e()}))}seek(e){this._stoping=!1,"number"!=typeof(e=Number(e))||isNaN(e)||(this._audio.currentTime=e)}destroy(){this.stop()}}const wm=op(0,(()=>new Mm)),km="__DC_STAT_UUID",Lm=navigator.cookieEnabled&&(window.localStorage||window.sessionStorage)||{};let Pm;function xm(){if(Pm=Pm||Lm[km],!Pm){Pm=Date.now()+""+Math.floor(1e7*Math.random());try{Lm[km]=Pm}catch(e){}}return Pm}function Um(){if(!0!==__uniConfig.darkmode)return y(__uniConfig.darkmode)?__uniConfig.darkmode:"light";try{return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}catch(e){return"light"}}function Dm(){let e,t="0",n="",r="phone";const o=navigator.language;if(Ed){e="iOS";const r=yd.match(/OS\s([\w_]+)\slike/);r&&(t=r[1].replace(/_/g,"."));const o=yd.match(/\(([a-zA-Z]+);/);o&&(n=o[1])}else if(_d){e="Android";const r=yd.match(/Android[\s/]([\w\.]+)[;\s]/);r&&(t=r[1]);const o=yd.match(/\((.+?)\)/),a=o?o[1].split(";"):yd.split(" "),i=[/\bAndroid\b/i,/\bLinux\b/i,/\bU\b/i,/^\s?[a-z][a-z]$/i,/^\s?[a-z][a-z]-[a-z][a-z]$/i,/\bwv\b/i,/\/[\d\.,]+$/,/^\s?[\d\.,]+$/,/\bBrowser\b/i,/\bMobile\b/i];for(let e=0;e<a.length;e++){const t=a[e];if(t.indexOf("Build")>0){n=t.split("Build")[0].trim();break}let r;for(let e=0;e<i.length;e++)if(i[e].test(t)){r=!0;break}if(!r){n=t.trim();break}}}else if(Rd)n="iPad",e="iOS",r="pad",t=v(window.BigInt)?"14.0":"13.0";else if(Td||Sd||Od){n="PC",e="PC",r="pc",t="0";let o=yd.match(/\((.+?)\)/)[1];if(Td){switch(e="Windows",Td[1]){case"5.1":t="XP";break;case"6.0":t="Vista";break;case"6.1":t="7";break;case"6.2":t="8";break;case"6.3":t="8.1";break;case"10.0":t="10"}const n=o&&o.match(/[Win|WOW]([\d]+)/);n&&(t+=` x${n[1]}`)}else if(Sd){e="macOS";const n=o&&o.match(/Mac OS X (.+)/)||"";t&&(t=n[1].replace(/_/g,"."),-1!==t.indexOf(";")&&(t=t.split(";")[0]))}else if(Od){e="Linux";const n=o&&o.match(/Linux (.*)/)||"";n&&(t=n[1],-1!==t.indexOf(";")&&(t=t.split(";")[0]))}}else e="Other",t="0",r="unknown";const a=`${e} ${t}`,i=e.toLocaleLowerCase();let s="",c=String(function(){const e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,n=e.indexOf("Edge")>-1&&!t,r=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);const t=parseFloat(RegExp.$1);return t>6?t:6}return n?-1:r?11:-1}());if("-1"!==c)s="IE";else{const e=["Version","Firefox","Chrome","Edge{0,1}"],t=["Safari","Firefox","Chrome","Edge"];for(let n=0;n<e.length;n++){const r=e[n],o=new RegExp(`(${r})/(\\S*)\\b`);o.test(yd)&&(s=t[n],c=yd.match(o)[2])}}let l="portrait";const u=void 0===window.screen.orientation?window.orientation:window.screen.orientation.angle;return l=90===Math.abs(u)?"landscape":"portrait",{deviceBrand:void 0,brand:void 0,deviceModel:n,deviceOrientation:l,model:n,system:a,platform:i,browserName:s.toLocaleLowerCase(),browserVersion:c,language:o,deviceType:r,ua:yd,osname:e,osversion:t,theme:Um()}}const Bm=op(0,(()=>{const e=window.devicePixelRatio,t=bd(),n=Id(t),r=Cd(t,n),o=function(e,t){return e?Math[t?"min":"max"](screen.height,screen.width):screen.height}(t,n),a=Nd(r);let i=window.innerHeight;const s=nu.top,c={left:nu.left,right:a-nu.right,top:nu.top,bottom:i-nu.bottom,width:a-nu.left-nu.right,height:i-nu.top-nu.bottom},{top:l,bottom:u}=function(){const e=document.documentElement.style,t=au(),n=ou(e,"--window-bottom"),r=ou(e,"--window-left"),o=ou(e,"--window-right"),a=ou(e,"--top-window-height");return{top:t,bottom:n?n+nu.bottom:0,left:r?r+nu.left:0,right:o?o+nu.right:0,topWindowHeight:a||0}}();return i-=l,i-=u,{windowTop:l,windowBottom:u,windowWidth:a,windowHeight:i,pixelRatio:e,screenWidth:r,screenHeight:o,statusBarHeight:s,safeArea:c,safeAreaInsets:{top:nu.top,right:nu.right,bottom:nu.bottom,left:nu.left},screenTop:o-i}}));let Gm,jm=!0;function Fm(){jm&&(Gm=Dm())}const Hm=op(0,(()=>{Fm();const{deviceBrand:e,deviceModel:t,brand:n,model:r,platform:o,system:a,deviceOrientation:i,deviceType:s}=Gm;return{brand:n,deviceBrand:e,deviceModel:t,devicePixelRatio:window.devicePixelRatio,deviceId:xm(),deviceOrientation:i,deviceType:s,model:r,platform:o,system:a}})),Wm=op(0,(()=>{Fm();const{theme:e,language:t,browserName:n,browserVersion:r}=Gm;return{appId:__uniConfig.appId,appName:__uniConfig.appName,appVersion:__uniConfig.appVersion,appVersionCode:__uniConfig.appVersionCode,appLanguage:vp?vp():t,enableDebug:!1,hostSDKVersion:void 0,hostPackageName:void 0,hostFontSizeSetting:void 0,hostName:n,hostVersion:r,hostTheme:e,hostLanguage:t,language:t,SDKVersion:"",theme:e,version:""}})),Vm=op(0,(()=>{jm=!0,Fm(),jm=!1;const e=Bm(),t=Hm(),n=Wm();jm=!0;const{ua:r,browserName:o,browserVersion:a,osname:i,osversion:s}=Gm,c=l(e,t,n,{ua:r,browserName:o,browserVersion:a,uniPlatform:"web",uniCompileVersion:__uniConfig.compilerVersion,uniRuntimeVersion:__uniConfig.compilerVersion,fontSizeSetting:void 0,osName:i.toLocaleLowerCase(),osVersion:s,osLanguage:void 0,osTheme:void 0});return delete c.screenTop,delete c.enableDebug,__uniConfig.darkmode||delete c.theme,function(e){let t={};return b(e)&&Object.keys(e).sort().forEach((n=>{const r=n;t[r]=e[r]})),Object.keys(t)?t:e}(c)})),$m=ap("getSystemInfo",((e,{resolve:t})=>t(Vm())));const qm=op(0,((e,t)=>{const n=typeof t,r="string"===n?t:JSON.stringify({type:n,data:t});localStorage.setItem(e,r)})),zm=ap("setStorage",(({key:e,data:t},{resolve:n,reject:r})=>{try{qm(e,t),n()}catch(o){r(o.message)}}));function Km(e){const t=localStorage&&localStorage.getItem(e);if(!y(t))throw new Error("data not found");let n=t;try{const e=function(e){const t=["object","string","number","boolean","undefined"];try{const n=y(e)?JSON.parse(e):e,r=n.type;if(t.indexOf(r)>=0){const e=Object.keys(n);if(2===e.length&&"data"in n){if(typeof n.data===r)return n.data;if("object"===r&&/^\d{4}-\d{2}-\d{2}T\d{2}\:\d{2}\:\d{2}\.\d{3}Z$/.test(n.data))return new Date(n.data)}else if(1===e.length)return""}}catch(n){}}(JSON.parse(t));void 0!==e&&(n=e)}catch(r){}return n}const Jm=op(0,(e=>{try{return Km(e)}catch(t){return""}})),Xm=ap("getStorage",(({key:e},{resolve:t,reject:n})=>{try{t({data:Km(e)})}catch(r){n(r.message)}})),Ym=op(0,(e=>{localStorage&&localStorage.removeItem(e)})),Qm={image:{jpg:"jpeg",jpe:"jpeg",pbm:"x-portable-bitmap",pgm:"x-portable-graymap",pnm:"x-portable-anymap",ppm:"x-portable-pixmap",psd:"vnd.adobe.photoshop",pic:"x-pict",rgb:"x-rgb",svg:"svg+xml",svgz:"svg+xml",tif:"tiff",xif:"vnd.xiff",wbmp:"vnd.wap.wbmp",wdp:"vnd.ms-photo",xbm:"x-xbitmap",ico:"x-icon"},video:{"3g2":"3gpp2","3gp":"3gpp",avi:"x-msvideo",f4v:"x-f4v",flv:"x-flv",jpgm:"jpm",jpgv:"jpeg",m1v:"mpeg",m2v:"mpeg",mpe:"mpeg",mpg:"mpeg",mpg4:"mpeg",m4v:"x-m4v",mkv:"x-matroska",mov:"quicktime",qt:"quicktime",movie:"x-sgi-movie",mp4v:"mp4",ogv:"ogg",smv:"x-smv",wm:"x-ms-wm",wmv:"x-ms-wmv",wmx:"x-ms-wmx",wvx:"x-ms-wvx"}};function Zm({count:e,sourceType:t,type:n,extension:r}){const o=document.createElement("input");return o.type="file",function(e,t){for(const n in t)e.style[n]=t[n]}(o,{position:"absolute",visibility:"hidden",zIndex:"-999",width:"0",height:"0",top:"0",left:"0"}),o.accept=r.map((e=>{if("all"!==n){const t=e.replace(".","");return`${n}/${Qm[n][t]||t}`}return function(){const e=window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i);return!(!e||"micromessenger"!==e[0])}()?".":0===e.indexOf(".")?e:`.${e}`})).join(","),e&&e>1&&(o.multiple=!0),"all"!==n&&t instanceof Array&&1===t.length&&"camera"===t[0]&&o.setAttribute("capture","camera"),o}_h();let eg=null;const tg=ap("chooseImage",(({count:e,sourceType:t,extension:n},{resolve:r,reject:o})=>{Ol();const{t:a}=yl();eg&&(document.body.removeChild(eg),eg=null),eg=Zm({count:e,sourceType:t,extension:n,type:"image"}),document.body.appendChild(eg),eg.addEventListener("change",(function(t){const n=t.target,o=[];if(n&&n.files){const t=n.files.length;for(let r=0;r<t;r++){const t=n.files[r];let a;Object.defineProperty(t,"path",{get:()=>(a=a||Yp(t),a)}),r<e&&o.push(t)}}r({get tempFilePaths(){return o.map((({path:e})=>e))},tempFiles:o})})),eg.click(),Eh()||console.warn(a("uni.chooseFile.notUserActivation"))}),0,_p),ng={esc:["Esc","Escape"],enter:["Enter"]},rg=Object.keys(ng);function og(e,t,n){return t.onClose=(...e)=>(t.visible=!1,n.apply(null,e)),ys(Qr({setup:()=>()=>(Aa(),Pa(e,t,null,16))}))}function ag(e){let t=document.getElementById(e);return t||(t=document.createElement("div"),t.id=e,document.body.append(t)),t}function ig(e,{onEsc:t,onEnter:n}){const r=Vn(e.visible),{key:o,disable:a}=function(){const e=Vn(""),t=Vn(!1),n=n=>{if(t.value)return;const r=rg.find((e=>-1!==ng[e].indexOf(n.key)));r&&(e.value=r),hr((()=>e.value=""))};return Eo((()=>{document.addEventListener("keyup",n)})),Oo((()=>{document.removeEventListener("keyup",n)})),{key:e,disable:t}}();return Br((()=>e.visible),(e=>r.value=e)),Br((()=>r.value),(e=>a.value=!e)),Ur((()=>{const{value:e}=o;"esc"===e?t&&t():"enter"===e&&n&&n()})),r}let sg=0,cg="";function lg(e){let t=sg;sg+=e?1:-1,sg=Math.max(0,sg),sg>0?0===t&&(cg=document.body.style.overflow,document.body.style.overflow="hidden"):(document.body.style.overflow=cg,cg="")}const ug=td({name:"ImageView",props:{src:{type:String,default:""}},setup(e){const t=An({direction:"none"});let n=1,r=0,o=0,a=0,i=0;function s({detail:e}){n=e.scale}function c(e){const t=e.target.getBoundingClientRect();r=t.width,o=t.height}function l(e){const t=e.target.getBoundingClientRect();a=t.width,i=t.height,d(e)}function u(e){const s=n*r>a,c=n*o>i;t.direction=s&&c?"all":s?"horizontal":c?"vertical":"none",d(e)}function d(e){"all"!==t.direction&&"horizontal"!==t.direction||e.stopPropagation()}return()=>{const n={position:"absolute",left:"0",top:"0",width:"100%",height:"100%"};return Fa(xh,{style:n,onTouchstart:nd(l),onTouchmove:nd(d),onTouchend:nd(u)},{default:()=>[Fa(Kh,{style:n,direction:t.direction,inertia:!0,scale:!0,"scale-min":"1","scale-max":"4",onScale:s},{default:()=>[Fa("img",{src:e.src,style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",maxHeight:"100%",maxWidth:"100%"},onLoad:c},null,40,["src","onLoad"])]},8,["style","direction","inertia","scale","onScale"])]},8,["style","onTouchstart","onTouchmove","onTouchend"])}}});function dg(e){let t="number"==typeof e.current?e.current:e.urls.indexOf(e.current);return t=t<0?0:t,t}const pg=td({name:"ImagePreview",props:{urls:{type:Array,default:()=>[]},current:{type:[Number,String],default:0}},emits:["close"],setup(e,{emit:t}){Eo((()=>lg(!0))),Ro((()=>lg(!1)));const n=Vn(null),r=Vn(dg(e));let o;function a(){o||hr((()=>{t("close")}))}function i(e){r.value=e.detail.current}Br((()=>e.current),(()=>r.value=dg(e))),Eo((()=>{const e=n.value;let t=0,r=0;e.addEventListener("mousedown",(e=>{o=!1,t=e.clientX,r=e.clientY})),e.addEventListener("mouseup",(e=>{(Math.abs(e.clientX-t)>20||Math.abs(e.clientY-r)>20)&&(o=!0)}))}));const s={position:"absolute","box-sizing":"border-box",top:"0",right:"0",width:"60px",height:"44px",padding:"6px","line-height":"32px","font-size":"26px",color:"white","text-align":"center",cursor:"pointer"};return()=>{let t;return Fa("div",{ref:n,style:{display:"block",position:"fixed",left:"0",top:"0",width:"100%",height:"100%",zIndex:999,background:"rgba(0,0,0,0.8)"},onClick:a},[Fa(lf,{navigation:"auto",current:r.value,onChange:i,"indicator-dots":!1,autoplay:!1,style:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%"}},(o=t=e.urls.map((e=>Fa(df,null,{default:()=>[Fa(ug,{src:e},null,8,["src"])]}))),"function"==typeof o||"[object Object]"===Object.prototype.toString.call(o)&&!xa(o)?t:{default:()=>[t],_:1}),8,["current","onChange"]),Fa("div",{style:s},[fu("M17.25 16.156l7.375-7.313q0.281-0.281 0.281-0.641t-0.281-0.641q-0.25-0.25-0.625-0.25t-0.625 0.25l-7.375 7.344-7.313-7.344q-0.25-0.25-0.625-0.25t-0.625 0.25q-0.281 0.25-0.281 0.625t0.281 0.625l7.313 7.344-7.375 7.344q-0.281 0.25-0.281 0.625t0.281 0.625q0.125 0.125 0.281 0.188t0.344 0.063q0.156 0 0.328-0.063t0.297-0.188l7.375-7.344 7.375 7.406q0.125 0.156 0.297 0.219t0.328 0.063q0.188 0 0.344-0.078t0.281-0.203q0.281-0.25 0.281-0.609t-0.281-0.641l-7.375-7.406z","#ffffff",26)],4)],8,["onClick"]);var o}}});let hg,fg=null;const mg=()=>{fg=null,hr((()=>{null==hg||hg.unmount(),hg=null}))},gg=ap("previewImage",((e,{resolve:t})=>{fg?l(fg,e):(fg=An(e),hr((()=>{hg=og(pg,fg,mg),hg.mount(ag("u-a-p"))}))),t()}),0,Tp);let vg=null;const yg=ap("chooseVideo",(({sourceType:e,extension:t},{resolve:n,reject:r})=>{Ol();const{t:o}=yl();vg&&(document.body.removeChild(vg),vg=null),vg=Zm({sourceType:e,extension:t,type:"video"}),document.body.appendChild(vg),vg.addEventListener("change",(function(e){const t=e.target.files[0];let r="";const o={tempFilePath:r,tempFile:t,size:t.size,duration:0,width:0,height:0,name:t.name};Object.defineProperty(o,"tempFilePath",{get(){return r=r||Yp(this.tempFile),r}});const a=document.createElement("video");if(void 0!==a.onloadedmetadata){const e=Yp(t);a.onloadedmetadata=function(){Qp(e),n(l(o,{duration:a.duration||0,width:a.videoWidth||0,height:a.videoHeight||0}))},setTimeout((()=>{a.onloadedmetadata=null,Qp(e),n(o)}),300),a.src=e}else n(o)})),vg.click(),Eh()||console.warn(o("uni.chooseFile.notUserActivation"))}),0,Ep),_g=rp("request",(({url:e,data:t,header:n={},method:r,dataType:o,responseType:a,withCredentials:i,timeout:s=__uniConfig.networkTimeout.request},{resolve:c,reject:l})=>{let u=null;const d=function(e){const t=Object.keys(e).find((e=>"content-type"===e.toLowerCase()));if(!t)return;const n=e[t];if(0===n.indexOf("application/json"))return"json";if(0===n.indexOf("application/x-www-form-urlencoded"))return"urlencoded";return"string"}(n);if("GET"!==r)if(y(t)||t instanceof ArrayBuffer)u=t;else if("json"===d)try{u=JSON.stringify(t)}catch(g){u=t.toString()}else if("urlencoded"===d){const e=[];for(const n in t)p(t,n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));u=e.join("&")}else u=t.toString();const h=new XMLHttpRequest,f=new Eg(h);h.open(r,e);for(const v in n)p(n,v)&&h.setRequestHeader(v,n[v]);const m=setTimeout((function(){h.onload=h.onabort=h.onerror=null,f.abort(),l("timeout",{errCode:5})}),s);return h.responseType=a,h.onload=function(){clearTimeout(m);const e=h.status;let t="text"===a?h.responseText:h.response;if("text"===a&&"json"===o)try{t=JSON.parse(t)}catch(g){}c({data:t,statusCode:e,header:Tg(h.getAllResponseHeaders()),cookies:[]})},h.onabort=function(){clearTimeout(m),l("abort",{errCode:600003})},h.onerror=function(){clearTimeout(m),l(void 0,{errCode:5})},h.withCredentials=i,h.send(u),f}),0,bp);class Eg{constructor(e){this._xhr=e}abort(){this._xhr&&(this._xhr.abort(),delete this._xhr)}onHeadersReceived(e){throw new Error("Method not implemented.")}offHeadersReceived(e){throw new Error("Method not implemented.")}}function Tg(e){const t={};return e.split(ie).forEach((e=>{const n=e.match(/(\S+\s*):\s*(.*)/);n&&3===n.length&&(t[n[1]]=n[2])})),t}class Sg{constructor(e){this._callbacks=[],this._xhr=e}onProgressUpdate(e){v(e)&&this._callbacks.push(e)}offProgressUpdate(e){const t=this._callbacks.indexOf(e);t>=0&&this._callbacks.splice(t,1)}abort(){this._isAbort=!0,this._xhr&&(this._xhr.abort(),delete this._xhr)}onHeadersReceived(e){throw new Error("Method not implemented.")}offHeadersReceived(e){throw new Error("Method not implemented.")}}const Og=rp("uploadFile",(({url:e,file:t,filePath:n,name:r,files:o,header:a={},formData:i={},timeout:s=__uniConfig.networkTimeout.uploadFile},{resolve:c,reject:l})=>{var u=new Sg;return h(o)&&o.length||(o=[{name:r,file:t,uri:n}]),Promise.all(o.map((({file:e,uri:t})=>e instanceof Blob?Promise.resolve(Xp(e)):Jp(t)))).then((function(t){var n,r=new XMLHttpRequest,d=new FormData;Object.keys(i).forEach((e=>{d.append(e,i[e])})),Object.values(o).forEach((({name:e},n)=>{const r=t[n];d.append(e||"file",r,r.name||`file-${Date.now()}`)})),r.open("POST",e),Object.keys(a).forEach((e=>{r.setRequestHeader(e,a[e])})),r.upload.onprogress=function(e){u._callbacks.forEach((t=>{var n=e.loaded,r=e.total;t({progress:Math.round(n/r*100),totalBytesSent:n,totalBytesExpectedToSend:r})}))},r.onerror=function(){clearTimeout(n),l("",{errCode:602001})},r.onabort=function(){clearTimeout(n),l("abort",{errCode:600003})},r.onload=function(){clearTimeout(n);const e=r.status;c({statusCode:e,data:r.responseText||r.response})},u._isAbort?l("abort",{errCode:600003}):(n=setTimeout((function(){r.upload.onprogress=r.onload=r.onabort=r.onerror=null,u.abort(),l("timeout",{errCode:5})}),s),r.send(d),u._xhr=r)})).catch((()=>{setTimeout((()=>{l("file error")}),0)})),u}),0,Ip),Rg=ap("navigateBack",((e,{resolve:t,reject:n})=>{let r=!0;return!0===Su(Ie,{from:e.from||"navigateBack"})&&(r=!1),r?(gm().$router.go(-e.delta),t()):n(Ie)}),0,Bp);function bg({type:e,url:t,tabBarText:n,events:r,isAutomatedTesting:o},a){const i=gm().$router,{path:s,query:c}=function(e){const[t,n]=e.split("?",2);return{path:t,query:st(n||"")}}(t);return new Promise(((t,l)=>{const u=function(e,t){return{__id__:t||++Kf,__type__:e}}(e,a);i["navigateTo"===e?"push":"replace"]({path:s,query:c,state:u,force:!0}).then((a=>{if(wc(a))return l(a.message);if("switchTab"===e&&(i.currentRoute.value.meta.tabBarText=n),"navigateTo"===e){const e=i.currentRoute.value.meta;return e.eventChannel?r&&(Object.keys(r).forEach((t=>{e.eventChannel._addListener(t,"on",r[t])})),e.eventChannel._clearCache()):e.eventChannel=new lt(u.__id__,r),t(o?{__id__:u.__id__}:{eventChannel:e.eventChannel})}return o?t({__id__:u.__id__}):t()}))}))}const Ig=ap(Np,(({url:e,events:t,isAutomatedTesting:n},{resolve:r,reject:o})=>bg({type:Np,url:e,events:t,isAutomatedTesting:n}).then(r).catch(o)),0,Pp);const Cg=ap(Ap,(({url:e,isAutomatedTesting:t},{resolve:n,reject:r})=>(function(){const e=gu();if(!e)return;const t=e.$page;zf(Yf(t.path,t.id))}(),bg({type:Ap,url:e,isAutomatedTesting:t}).then(n).catch(r))),0,xp);const Ng=ap(Mp,(({url:e,isAutomatedTesting:t},{resolve:n,reject:r})=>(function(){const e=$f().keys();for(const t of e)zf(t)}(),bg({type:Mp,url:e,isAutomatedTesting:t}).then(n).catch(r))),0,Up);function Ag(e,t){return e===t.fullPath||"/"===e&&t.meta.isEntry}const Mg=ap(wp,(({url:e,tabBarText:t,isAutomatedTesting:n},{resolve:r,reject:o})=>(function(){const e=_u();if(!e)return;const t=$f(),n=t.keys();for(const r of n){const e=t.get(r);e.$.__isTabBar?e.$.__isActive=!1:zf(r)}e.$.__isTabBar&&(e.$.__isVisible=!1,Su(e,me))}(),bg({type:wp,url:e,tabBarText:t,isAutomatedTesting:n},function(e){const t=$f().values();for(const n of t){const t=n.$page;if(Ag(e,t))return n.$.__isActive=!0,t.id}}(e)).then(r).catch(o))),0,Dp);function wg(e){__uniConfig.darkmode&&pv.on(ye,e)}function kg(e){let t={};return __uniConfig.darkmode&&(t=yt(e,__uniConfig.themeConfig,Um())),__uniConfig.darkmode?t:e}function Lg(e,t){const n=Ln(e),r=n?An(kg(e)):kg(e);return __uniConfig.darkmode&&n&&Br(e,(e=>{const t=kg(e);for(const n in t)r[n]=t[n]})),t&&wg(t),r}const Pg={title:{type:String,default:""},icon:{default:"success",validator:e=>-1!==qp.indexOf(e)},image:{type:String,default:""},duration:{type:Number,default:1500},mask:{type:Boolean,default:!1},visible:{type:Boolean}},xg="uni-toast__icon",Ug={light:"#fff",dark:"rgba(255,255,255,0.9)"},Dg=e=>Ug[e],Bg=Qr({name:"Toast",props:Pg,setup(e){Tl(),Sl();const{Icon:t}=function(e){const t=Vn(Dg(Um())),n=({theme:e})=>t.value=Dg(e);Ur((()=>{var t;e.visible?wg(n):(t=n,pv.off(ye,t))}));const r=li((()=>{switch(e.icon){case"success":return Fa(fu(du,t.value,38),{class:xg});case"error":return Fa(fu(pu,t.value,38),{class:xg});case"loading":return Fa("i",{class:[xg,"uni-loading"]},null,2);default:return null}}));return{Icon:r}}(e),n=ig(e,{});return()=>{const{mask:r,duration:o,title:a,image:i}=e;return Fa(ji,{name:"uni-fade"},{default:()=>[Ao(Fa("uni-toast",{"data-duration":o},[r?Fa("div",{class:"uni-mask",style:"background: transparent;",onTouchmove:ru},null,40,["onTouchmove"]):"",i||t.value?Fa("div",{class:"uni-toast"},[i?Fa("img",{src:i,class:xg},null,10,["src"]):t.value,Fa("p",{class:"uni-toast__content"},[a])]):Fa("div",{class:"uni-sample-toast"},[Fa("p",{class:"uni-simple-toast__text"},[a])])],8,["data-duration"]),[[fs,n.value]])]})}}});let Gg,jg,Fg="";const Hg=Tt();function Wg(e){Gg?l(Gg,e):(Gg=An(l(e,{visible:!1})),hr((()=>{Hg.run((()=>{Br([()=>Gg.visible,()=>Gg.duration],(([e,t])=>{if(e){if(jg&&clearTimeout(jg),"onShowLoading"===Fg)return;jg=setTimeout((()=>{Kg("onHideToast")}),t)}else jg&&clearTimeout(jg)}))})),pv.on("onHidePopup",(()=>Kg("onHidePopup"))),og(Bg,Gg,(()=>{})).mount(ag("u-a-t"))}))),setTimeout((()=>{Gg.visible=!0}),10)}const Vg=ap("showToast",((e,{resolve:t,reject:n})=>{Wg(e),Fg="onShowToast",t()}),0,zp),$g={icon:"loading",duration:1e8,image:""},qg=ap("showLoading",((e,{resolve:t,reject:n})=>{l(e,$g),Wg(e),Fg="onShowLoading",t()}),0,$p),zg=ap("hideLoading",((e,{resolve:t,reject:n})=>{Kg("onHideLoading"),t()}));function Kg(e){const{t:t}=yl();if(!Fg)return;let n="";if("onHideToast"===e&&"onShowToast"!==Fg?n=t("uni.showToast.unpaired"):"onHideLoading"===e&&"onShowLoading"!==Fg&&(n=t("uni.showLoading.unpaired")),n)return console.warn(n);Fg="",setTimeout((()=>{Gg.visible=!1}),10)}const Jg=ap("loadFontFace",(({family:e,source:t,desc:n},{resolve:r,reject:o})=>{(function(e,t,n){const r=document.fonts;if(r){const o=new FontFace(e,t,n);return o.load().then((()=>{r.add&&r.add(o)}))}return new Promise((r=>{const o=document.createElement("style"),a=[];if(n){const{style:e,weight:t,stretch:r,unicodeRange:o,variant:i,featureSettings:s}=n;e&&a.push(`font-style:${e}`),t&&a.push(`font-weight:${t}`),r&&a.push(`font-stretch:${r}`),o&&a.push(`unicode-range:${o}`),i&&a.push(`font-variant:${i}`),s&&a.push(`font-feature-settings:${s}`)}o.innerText=`@font-face{font-family:"${e}";src:${t};${a.join(";")}}`,document.head.appendChild(o),r()}))})(e,t=t.startsWith('url("')||t.startsWith("url('")?`url('${vd(t.substring(5,t.length-2))}')`:t.startsWith("url(")?`url('${vd(t.substring(4,t.length-1))}')`:vd(t),n).then((()=>{r()})).catch((e=>{o(`loadFontFace:fail ${e}`)}))}));function Xg(e){function t(){var t;t=e.navigationBar.titleText,document.title=t,pv.emit(xe,{titleText:t})}Ur(t),so(t)}const Yg=ap(Vp,((e,{resolve:t,reject:n})=>{!function(e,t,n,r,o){if(!e)return o("page not found");const{navigationBar:a}=e;switch(t){case"setNavigationBarColor":const{frontColor:e,backgroundColor:t,animation:r}=n,{duration:o,timingFunc:i}=r;e&&(a.titleColor="#000000"===e?"#000000":"#ffffff"),t&&(a.backgroundColor=t),a.duration=o+"ms",a.timingFunc=i;break;case"showNavigationBarLoading":a.loading=!0;break;case"hideNavigationBarLoading":a.loading=!1;break;case Vp:const{title:s}=n;a.titleText=s}r()}(vu(),Vp,e,t,n)})),Qg=td({name:"TabBar",setup(){const e=Vn([]),t=xf(),n=Lg(t,(()=>{const e=kg(t);n.backgroundColor=e.backgroundColor,n.borderStyle=e.borderStyle,n.color=e.color,n.selectedColor=e.selectedColor,n.blurEffect=e.blurEffect,e.list&&e.list.length&&e.list.forEach(((e,t)=>{n.list[t].iconPath=e.iconPath,n.list[t].selectedIconPath=e.selectedIconPath}))}));!function(e,t){function n(){let n=[];n=e.list.filter((e=>!1!==e.visible)),t.value=n}Vn(l({type:"midButton"},e.midButton)),Ur(n)}(n,e),function(e){Br((()=>e.shown),(t=>{su({"--window-bottom":Hf(t?parseInt(e.height):0)})}))}(n);const r=function(e,t,n){return Ur((()=>{const r=e.meta;if(r.isTabBar){const e=r.route,o=n.value.findIndex((t=>t.pagePath===e));t.selectedIndex=o}})),(t,n)=>()=>{const{pagePath:r,text:o}=t;let a=Ke(r);a===__uniRoutes[0].alias&&(a="/"),e.path!==a?Mg({from:"tabBar",url:a,tabBarText:o}):Su("onTabItemTap",{index:n,text:o,pagePath:r})}}(pl(),n,e),{style:o,borderStyle:a,placeholderStyle:i}=function(e){const t=li((()=>{let t=e.backgroundColor;const n=e.blurEffect;return t||jf&&n&&"none"!==n&&(t=nv[n]),{backgroundColor:t||Zg,backdropFilter:"none"!==n?"blur(10px)":n}})),n=li((()=>{const{borderStyle:t}=e;return{backgroundColor:rv[t]||t}})),r=li((()=>({height:e.height})));return{style:t,borderStyle:n,placeholderStyle:r}}(n);return Eo((()=>{n.iconfontSrc&&Jg({family:"UniTabbarIconFont",source:`url("${n.iconfontSrc}")`})})),()=>{const t=function(e,t,n){const{selectedIndex:r,selectedColor:o,color:a}=e;return n.value.map(((n,i)=>{const s=r===i;return function(e,t,n,r,o,a,i,s){return Fa("div",{key:i,class:"uni-tabbar__item",onClick:s(o,i)},[ov(e,t||"",n,r,o,a)],8,["onClick"])}(s?o:a,s&&n.selectedIconPath||n.iconPath||"",n.iconfont?s&&n.iconfont.selectedText||n.iconfont.text:void 0,n.iconfont?s&&n.iconfont.selectedColor||n.iconfont.color:void 0,n,e,i,t)}))}(n,r,e);return Fa("uni-tabbar",{class:"uni-tabbar-"+n.position},[Fa("div",{class:"uni-tabbar",style:o.value},[Fa("div",{class:"uni-tabbar-border",style:a.value},null,4),t],4),Fa("div",{class:"uni-placeholder",style:i.value},null,4)],2)}}});const Zg="#f7f7fa",ev="rgb(0, 0, 0, 0.8)",tv="rgb(250, 250, 250, 0.8)",nv={dark:ev,light:tv,extralight:tv},rv={white:"rgba(255, 255, 255, 0.33)",black:"rgba(0, 0, 0, 0.33)"};function ov(e,t,n,r,o,a){const{height:i}=a;return Fa("div",{class:"uni-tabbar__bd",style:{height:i}},[n?iv(n,r||ev,o,a):t&&av(t,o,a),o.text&&sv(e,o,a),o.redDot&&cv(o.badge)],4)}function av(e,t,n){const{type:r,text:o}=t,{iconWidth:a}=n;return Fa("div",{class:"uni-tabbar__icon"+(o?" uni-tabbar__icon__diff":""),style:{width:a,height:a}},["midButton"!==r&&Fa("img",{src:vd(e)},null,8,["src"])],6)}function iv(e,t,n,r){var o;const{type:a,text:i}=n,{iconWidth:s}=r,c="uni-tabbar__icon"+(i?" uni-tabbar__icon__diff":""),l={width:s,height:s},u={fontSize:(null==(o=n.iconfont)?void 0:o.fontSize)||s,color:t};return Fa("div",{class:c,style:l},["midButton"!==a&&Fa("div",{class:"uni-tabbar__iconfont",style:u},[e],4)],6)}function sv(e,t,n){const{iconPath:r,text:o}=t,{fontSize:a,spacing:i}=n;return Fa("div",{class:"uni-tabbar__label",style:{color:e,fontSize:a,lineHeight:r?"normal":1.8,marginTop:r?i:"inherit"}},[o],4)}function cv(e){return Fa("div",{class:"uni-tabbar__reddot"+(e?" uni-tabbar__badge":"")},[e],2)}const lv="0px",uv=td({name:"Layout",setup(e,{emit:t}){const n=Vn(null);iu({"--status-bar-height":lv,"--top-window-height":lv,"--window-left":lv,"--window-right":lv,"--window-margin":lv,"--tab-bar-height":lv});const r=function(){const e=pl();return{routeKey:li((()=>Yf("/"+e.meta.route,Lf()))),isTabBar:li((()=>e.meta.isTabBar)),routeCache:Zf}}(),{layoutState:o,windowState:a}=function(){kf();{const e=An({marginWidth:0,leftWindowWidth:0,rightWindowWidth:0});return Br((()=>e.marginWidth),(e=>iu({"--window-margin":e+"px"}))),Br((()=>e.leftWindowWidth+e.marginWidth),(e=>{iu({"--window-left":e+"px"})})),Br((()=>e.rightWindowWidth+e.marginWidth),(e=>{iu({"--window-right":e+"px"})})),{layoutState:e,windowState:li((()=>({})))}}}();!function(e,t){const n=kf();function r(){const r=document.body.clientWidth,o=qf();let a={};if(o.length>0){a=o[o.length-1].$page.meta}else{const e=Nu(n.path,!0);e&&(a=e.meta)}const i=parseInt(String((p(a,"maxWidth")?a.maxWidth:__uniConfig.globalStyle.maxWidth)||Number.MAX_SAFE_INTEGER));let s=!1;s=r>i,s&&i?(e.marginWidth=(r-i)/2,hr((()=>{const e=t.value;e&&e.setAttribute("style","max-width:"+i+"px;margin:0 auto;")}))):(e.marginWidth=0,hr((()=>{const e=t.value;e&&e.removeAttribute("style")})))}Br([()=>n.path],r),Eo((()=>{r(),window.addEventListener("resize",r)}))}(o,n);const i=function(e){const t=kf(),n=xf(),r=li((()=>t.meta.isTabBar&&n.shown));return iu({"--tab-bar-height":n.height}),r}(),s=function(e){const t=Vn(!1);return li((()=>({"uni-app--showtabbar":e&&e.value,"uni-app--maxwidth":t.value})))}(i);return()=>{const e=function(e,t,n,r,o,a){const i=function({routeKey:e,isTabBar:t,routeCache:n}){return Fa(ul,null,{default:Nr((({Component:r})=>[(Aa(),Pa(ao,{matchBy:"key",cache:n},[(Aa(),Pa(Po(r),{type:t.value?"tabBar":"",key:e.value}))],1032,["cache"]))])),_:1})}(e);return i}(r),t=function(e){return Ao(Fa(Qg,null,null,512),[[fs,e.value]])}(i);return Fa("uni-app",{ref:n,class:s.value},[e,t],2)}}});const dv=l(Ll,{publishHandler(e,t,n){pv.subscribeHandler(e,t,n)}}),pv=l(Fu,{publishHandler(e,t,n){dv.subscribeHandler(e,t,n)}}),hv=td({name:"PageHead",setup(){const e=Vn(null),t=Mf(),n=Lg(t.navigationBar,(()=>{const e=kg(t.navigationBar);n.backgroundColor=e.backgroundColor,n.titleColor=e.titleColor})),{clazz:r,style:o}=function(e){const t=li((()=>{const{type:t,titlePenetrate:n,shadowColorType:r}=e,o={"uni-page-head":!0,"uni-page-head-transparent":"transparent"===t,"uni-page-head-titlePenetrate":"YES"===n,"uni-page-head-shadow":!!r};return r&&(o[`uni-page-head-shadow-${r}`]=!0),o})),n=li((()=>({backgroundColor:e.backgroundColor,color:e.titleColor,transitionDuration:e.duration,transitionTimingFunction:e.timingFunc})));return{clazz:t,style:n}}(n);return()=>{const a=function(e,t){if(!t)return Fa("div",{class:"uni-page-head-btn",onClick:mv},[fu(hu,"transparent"===e.type?"#fff":e.titleColor,26)],8,["onClick"])}(n,t.isQuit),i=n.type||"default",s="transparent"!==i&&"float"!==i&&Fa("div",{class:{"uni-placeholder":!0,"uni-placeholder-titlePenetrate":n.titlePenetrate}},null,2);return Fa("uni-page-head",{"uni-page-head-type":i},[Fa("div",{ref:e,class:r.value,style:o.value},[Fa("div",{class:"uni-page-head-hd"},[a]),fv(n),Fa("div",{class:"uni-page-head-ft"},[])],6),s],8,["uni-page-head-type"])}}});function fv(e,t){return function({type:e,loading:t,titleSize:n,titleText:r,titleImage:o}){return Fa("div",{class:"uni-page-head-bd"},[Fa("div",{style:{fontSize:n,opacity:"transparent"===e?0:1},class:"uni-page-head__title"},[t?Fa("i",{class:"uni-loading"},null):o?Fa("img",{src:o,class:"uni-page-head__title_image"},null,8,["src"]):r],4)])}(e)}function mv(){1===qf().length?Ng({url:"/"}):Rg({from:"backbutton",success(){}})}const gv=td({name:"PageBody",setup:(e,t)=>()=>Fa(Oa,null,[!1,Fa("uni-page-wrapper",null,[Fa("uni-page-body",null,[Bo(t.slots,"default")])],16)])}),vv=td({name:"Page",setup(e,t){const n=wf(Lf()),r=n.navigationBar;return Xg(n),()=>Fa("uni-page",{"data-page":n.route},"custom"!==r.style?[Fa(hv),yv(t)]:[yv(t)])}});function yv(e){return Aa(),Pa(gv,{key:0},{default:Nr((()=>[Bo(e.slots,"page")])),_:3})}const _v={loading:"AsyncLoading",error:"AsyncError",delay:200,timeout:6e4,suspensible:!0};window.uni={},window.wx={},window.rpx2px=fp;const Ev=Object.assign({}),Tv=Object.assign;window.__uniConfig=Tv({tabBar:{position:"bottom",color:"#999999",selectedColor:"#00a4fd",borderStyle:"black",blurEffect:"none",fontSize:"10px",iconWidth:"24px",spacing:"3px",height:"60px",backgroundColor:"#F6F8FA",list:[{text:"",iconPath:"/static/images/conversation.png",selectedIconPath:"/static/images/conversation_active.png",pagePath:"pages/ConversationList/index"},{text:"",iconPath:"/static/images/contacts.png",selectedIconPath:"/static/images/contacts_active.png",pagePath:"pages/ContactList/index"},{text:"",iconPath:"/static/images/mine.png",selectedIconPath:"/static/images/mine_active.png",pagePath:"pages/User/index"}],selectedIndex:0,shown:!0},globalStyle:{backgroundColor:"#F8F8F8",navigationBar:{backgroundColor:"#F8F8F8",titleText:"uni-app",type:"default",titleColor:"#000000"},isNVue:!1},compilerVersion:"4.07"},{appId:"__UNI__EDC084C",appName:"uniapp_demo_vue3",appVersion:"1.0.0",appVersionCode:"100",async:_v,debug:!1,networkTimeout:{request:6e4,connectSocket:6e4,uploadFile:6e4,downloadFile:6e4},sdkConfigs:{},qqMapKey:void 0,bMapKey:void 0,googleMapKey:void 0,aMapKey:void 0,aMapSecurityJsCode:void 0,aMapServiceHost:void 0,nvue:{"flex-direction":"column"},locale:"",fallbackLocale:"",locales:Object.keys(Ev).reduce(((e,t)=>{const n=t.replace(/\.\/locale\/(uni-app.)?(.*).json/,"$2");return Tv(e[n]||(e[n]={}),Ev[t].default),e}),{}),router:{mode:"hash",base:"/",assets:"assets",routerBase:"/"},darkmode:!1,themeConfig:{}}),window.__uniLayout=window.__uniLayout||{};const Sv={delay:_v.delay,timeout:_v.timeout,suspensible:_v.suspensible};_v.loading&&(Sv.loadingComponent={name:"SystemAsyncLoading",render:()=>Fa(ko(_v.loading))}),_v.error&&(Sv.errorComponent={name:"SystemAsyncError",render:()=>Fa(ko(_v.error))});const Ov=()=>t((()=>import("./pages-Login-index.6934319e.js")),["assets/pages-Login-index.6934319e.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/index-13550978.css"]).then((e=>Em(e.default||e))),Rv=eo(Tv({loader:Ov},Sv)),bv=()=>t((()=>import("./pages-VideoPreview-index.70fc8baf.js")),["assets/pages-VideoPreview-index.70fc8baf.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/index-3eaf00fc.css"]).then((e=>Em(e.default||e))),Iv=eo(Tv({loader:bv},Sv)),Cv=()=>t((()=>import("./pages-ConversationList-index.3cbc4830.js")),["assets/pages-ConversationList-index.3cbc4830.js","assets/defaultAvatar.b2cfb2fc.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/defaultAvatar-b363e1df.css","assets/defaultGroupAvatar.4ee83176.js","assets/index-8e16370d.css"]).then((e=>Em(e.default||e))),Nv=eo(Tv({loader:Cv},Sv)),Av=()=>t((()=>import("./pages-ContactList-index.0d8108ef.js")),["assets/pages-ContactList-index.0d8108ef.js","assets/defaultAvatar.b2cfb2fc.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/defaultAvatar-b363e1df.css","assets/defaultGroupAvatar.4ee83176.js","assets/index-3dbcbebf.css"]).then((e=>Em(e.default||e))),Mv=eo(Tv({loader:Av},Sv)),wv=()=>t((()=>import("./pages-ContactNotices-index.1da8e4fb.js")),["assets/pages-ContactNotices-index.1da8e4fb.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/index-f7f657ba.css"]).then((e=>Em(e.default||e))),kv=eo(Tv({loader:wv},Sv)),Lv=()=>t((()=>import("./pages-GroupNotices-index.91497f7a.js")),["assets/pages-GroupNotices-index.91497f7a.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/index-0e898403.css"]).then((e=>Em(e.default||e))),Pv=eo(Tv({loader:Lv},Sv)),xv=()=>t((()=>import("./pages-User-index.e9ae04d4.js")),["assets/pages-User-index.e9ae04d4.js","assets/defaultAvatar.b2cfb2fc.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/defaultAvatar-b363e1df.css","assets/index-db293a91.css"]).then((e=>Em(e.default||e))),Uv=eo(Tv({loader:xv},Sv)),Dv=()=>t((()=>import("./pages-Chat-index.4805d420.js")),["assets/pages-Chat-index.4805d420.js","assets/defaultAvatar.b2cfb2fc.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/defaultAvatar-b363e1df.css","assets/index-35ca042f.css"]).then((e=>Em(e.default||e))),Bv=eo(Tv({loader:Dv},Sv)),Gv=()=>t((()=>import("./pages-CreateGroup-index.2b54d9fe.js")),["assets/pages-CreateGroup-index.2b54d9fe.js","assets/defaultAvatar.b2cfb2fc.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/defaultAvatar-b363e1df.css","assets/index-18c7ed04.css"]).then((e=>Em(e.default||e))),jv=eo(Tv({loader:Gv},Sv)),Fv=()=>t((()=>import("./pages-GroupDetail-index.fee89202.js")),["assets/pages-GroupDetail-index.fee89202.js","assets/defaultAvatar.b2cfb2fc.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/defaultAvatar-b363e1df.css","assets/defaultGroupAvatar.4ee83176.js","assets/index-4edb7f36.css"]).then((e=>Em(e.default||e))),Hv=eo(Tv({loader:Fv},Sv)),Wv=()=>t((()=>import("./pages-InviteList-index.50796fff.js")),["assets/pages-InviteList-index.50796fff.js","assets/defaultAvatar.b2cfb2fc.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/defaultAvatar-b363e1df.css","assets/index-e093400b.css"]).then((e=>Em(e.default||e))),Vv=eo(Tv({loader:Wv},Sv)),$v=()=>t((()=>import("./pages-Setting-index.6f995c5e.js")),["assets/pages-Setting-index.6f995c5e.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/index-cf93e418.css"]).then((e=>Em(e.default||e))),qv=eo(Tv({loader:$v},Sv)),zv=()=>t((()=>import("./pages-GroupMemberList-index.51e97eea.js")),["assets/pages-GroupMemberList-index.51e97eea.js","assets/defaultAvatar.b2cfb2fc.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/defaultAvatar-b363e1df.css","assets/index-b68eef2e.css"]).then((e=>Em(e.default||e))),Kv=eo(Tv({loader:zv},Sv)),Jv=()=>t((()=>import("./pages-ServerConfig-index.758d48f7.js")),["assets/pages-ServerConfig-index.758d48f7.js","assets/_plugin-vue_export-helper.1b428a4d.js","assets/index-ad9829e7.css"]).then((e=>Em(e.default||e))),Xv=eo(Tv({loader:Jv},Sv));function Yv(e,t){return Aa(),Pa(vv,null,{page:Nr((()=>[Fa(e,Tv({},t,{ref:"page"}),null,512)])),_:1})}window.__uniRoutes=[{path:"/",alias:"/pages/Login/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Rv,t)}},loader:Ov,meta:{isQuit:!0,isEntry:!0,navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/VideoPreview/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Iv,t)}},loader:bv,meta:{navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/ConversationList/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Nv,t)}},loader:Cv,meta:{isQuit:!0,isTabBar:!0,tabBarIndex:0,navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/ContactList/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Mv,t)}},loader:Av,meta:{isQuit:!0,isTabBar:!0,tabBarIndex:1,navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/ContactNotices/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(kv,t)}},loader:wv,meta:{navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/GroupNotices/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Pv,t)}},loader:Lv,meta:{navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/User/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Uv,t)}},loader:xv,meta:{isQuit:!0,isTabBar:!0,tabBarIndex:2,navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/Chat/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Bv,t)}},loader:Dv,meta:{softinputMode:"adjustResize",navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/CreateGroup/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(jv,t)}},loader:Gv,meta:{softinputMode:"adjustResize",navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/GroupDetail/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Hv,t)}},loader:Fv,meta:{softinputMode:"adjustResize",navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/InviteList/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Vv,t)}},loader:Wv,meta:{softinputMode:"adjustResize",navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/Setting/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(qv,t)}},loader:$v,meta:{softinputMode:"adjustResize",navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/GroupMemberList/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Kv,t)}},loader:zv,meta:{softinputMode:"adjustResize",navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}},{path:"/pages/ServerConfig/index",component:{setup(){const e=gm(),t=e&&e.$route&&e.$route.query||{};return()=>Yv(Xv,t)}},loader:Jv,meta:{softinputMode:"adjustResize",navigationBar:{titleText:"Easemob Uniapp",type:"default"},isNVue:!1}}].map((e=>(e.meta.route=(e.alias||e.path).slice(1),e)));const Qv=e=>(t,n=Za())=>{!oi&&vo(e,t,n)},Zv=Qv(fe),ey=Qv(me),ty=Qv(ge),ny=Qv(Te);
/*!
  * pinia v2.0.32
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
let ry;const oy=e=>ry=e,ay=Symbol();function iy(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var sy,cy;(cy=sy||(sy={})).direct="direct",cy.patchObject="patch object",cy.patchFunction="patch function";const ly="undefined"!=typeof window;function uy(){const e=Tt(!0),t=e.run((()=>Vn({})));let n=[],r=[];const o=Bn({install(e){oy(o),o._a=e,e.provide(ay,o),e.config.globalProperties.$pinia=o,r.forEach((e=>n.push(e))),r=[]},use(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const dy=()=>{};function py(e,t,n,r=dy){e.push(t);const o=()=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};var a;return!n&&St()&&(a=o,_t&&_t.cleanups.push(a)),o}function hy(e,...t){e.slice().forEach((e=>{e(...t)}))}function fy(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,n)=>e.set(n,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];iy(o)&&iy(r)&&e.hasOwnProperty(n)&&!Wn(r)&&!Ln(r)?e[n]=fy(o,r):e[n]=r}return e}const gy=Symbol();const{assign:vy}=Object;function yy(e,t,n,r){const{state:o,actions:a,getters:i}=t,s=n.state.value[e];let c;return c=_y(e,(function(){s||(n.state.value[e]=o?o():{});const t=function(e){const t=h(e)?new Array(e.length):{};for(const n in e)t[n]=Qn(e,n);return t}(n.state.value[e]);return vy(t,a,Object.keys(i||{}).reduce(((t,r)=>(t[r]=Bn(li((()=>{oy(n);const t=n._s.get(e);return i[r].call(t,t)}))),t)),{}))}),t,n,r,!0),c.$reset=function(){const e=o?o():{};this.$patch((t=>{vy(t,e)}))},c}function _y(e,t,n={},r,o,a){let i;const s=vy({actions:{}},n),c={deep:!0};let l,u,d,p=Bn([]),h=Bn([]);const f=r.state.value[e];let m;function g(t){let n;l=u=!1,"function"==typeof t?(t(r.state.value[e]),n={type:sy.patchFunction,storeId:e,events:d}):(fy(r.state.value[e],t),n={type:sy.patchObject,payload:t,storeId:e,events:d});const o=m=Symbol();hr().then((()=>{m===o&&(l=!0)})),u=!0,hy(p,n,r.state.value[e])}a||f||(r.state.value[e]={}),Vn({});const v=dy;function y(t,n){return function(){oy(r);const o=Array.from(arguments),a=[],i=[];let s;hy(h,{args:o,name:t,store:_,after:function(e){a.push(e)},onError:function(e){i.push(e)}});try{s=n.apply(this&&this.$id===e?this:_,o)}catch(c){throw hy(i,c),c}return s instanceof Promise?s.then((e=>(hy(a,e),e))).catch((e=>(hy(i,e),Promise.reject(e)))):(hy(a,s),s)}}const _=An({_p:r,$id:e,$onAction:py.bind(null,h),$patch:g,$reset:v,$subscribe(t,n={}){const o=py(p,t,n.detached,(()=>a())),a=i.run((()=>Br((()=>r.state.value[e]),(r=>{("sync"===n.flush?u:l)&&t({storeId:e,type:sy.direct,events:d},r)}),vy({},c,n))));return o},$dispose:function(){i.stop(),p=[],h=[],r._s.delete(e)}});r._s.set(e,_);const E=r._e.run((()=>(i=Tt(),i.run((()=>t())))));for(const O in E){const t=E[O];if(Wn(t)&&(!Wn(S=t)||!S.effect)||Ln(t))a||(!f||iy(T=t)&&T.hasOwnProperty(gy)||(Wn(t)?t.value=f[O]:fy(t,f[O])),r.state.value[e][O]=t);else if("function"==typeof t){const e=y(O,t);E[O]=e,s.actions[O]=t}}var T,S;return vy(_,E),vy(Dn(_),E),Object.defineProperty(_,"$state",{get:()=>r.state.value[e],set:e=>{g((t=>{vy(t,e)}))}}),r._p.forEach((e=>{vy(_,i.run((()=>e({store:_,app:r._a,pinia:r,options:s}))))})),f&&a&&n.hydrate&&n.hydrate(_.$state,f),l=!0,u=!0,_}function Ey(e,t,n){let r,o;const a="function"==typeof t;function i(e,n){const i=Za();(e=e||i&&xr(ay,null))&&oy(e),(e=ry)._s.has(r)||(a?_y(r,t,o,e):yy(r,o,e));return e._s.get(r)}return"string"==typeof e?(r=e,o=a?n:t):(o=e,r=e.id),i.$id=r,i}let Ty="Store";function Sy(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]=function(){return e(this.$pinia)[n]},t)),{}):Object.keys(t).reduce(((n,r)=>(n[r]=function(){const n=e(this.$pinia),o=t[r];return"function"==typeof o?o.call(this,n):n[o]},n)),{})}const Oy=Sy;const Ry=Object.freeze(Object.defineProperty({__proto__:null,get MutationType(){return sy},PiniaVuePlugin:function(e){e.mixin({beforeCreate(){const e=this.$options;if(e.pinia){const t=e.pinia;if(!this._provided){const e={};Object.defineProperty(this,"_provided",{get:()=>e,set:t=>Object.assign(e,t)})}this._provided[ay]=t,this.$pinia||(this.$pinia=t),t._a=this,ly&&oy(t)}else!this.$pinia&&e.parent&&e.parent.$pinia&&(this.$pinia=e.parent.$pinia)},destroyed(){delete this._pStores}})},acceptHMRUpdate:function(e,t){return()=>{}},createPinia:uy,defineStore:Ey,getActivePinia:()=>Za()&&xr(ay)||ry,mapActions:function(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]=function(...t){return e(this.$pinia)[n](...t)},t)),{}):Object.keys(t).reduce(((n,r)=>(n[r]=function(...n){return e(this.$pinia)[t[r]](...n)},n)),{})},mapGetters:Oy,mapState:Sy,mapStores:function(...e){return e.reduce(((e,t)=>(e[t.$id+Ty]=function(){return t(this.$pinia)},e)),{})},mapWritableState:function(e,t){return Array.isArray(t)?t.reduce(((t,n)=>(t[n]={get(){return e(this.$pinia)[n]},set(t){return e(this.$pinia)[n]=t}},t)),{}):Object.keys(t).reduce(((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(n){return e(this.$pinia)[t[r]]=n}},n)),{})},setActivePinia:oy,setMapStoreSuffix:function(e){Ty=e},skipHydrate:function(e){return Object.defineProperty(e,gy,{})},storeToRefs:function(e){{e=Dn(e);const t={};for(const n in e){const r=e[n];(Wn(r)||Ln(r))&&(t[n]=Qn(e,n))}return t}}},Symbol.toStringTag,{value:"Module"}));function by(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Iy={exports:{}};self;const Cy=by(Iy.exports=function(){var e={887:function(e,t,n){var r,o,a;!function(i){if(null!=t&&"number"!=typeof t.nodeType)e.exports=i();else if(null!=n.amdO)o=[],void 0===(a="function"==typeof(r=i)?r.apply(t,o):r)||(e.exports=a);else{var s=i(),c="undefined"!=typeof self?self:$.global;"function"!=typeof c.btoa&&(c.btoa=s.btoa),"function"!=typeof c.atob&&(c.atob=s.atob)}}((function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(n){for(var r,o,a=String(n),i=0,s=e,c="";a.charAt(0|i)||(s="=",i%1);c+=s.charAt(63&r>>8-i%1*8)){if((o=a.charCodeAt(i+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return c},atob:function(n){var r=String(n).replace(/[=]+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,a,i=0,s=0,c="";a=r.charAt(s++);~a&&(o=i%4?64*o+a:a,i++%4)?c+=String.fromCharCode(255&o>>(-2*i&6)):0)a=e.indexOf(a);return c}}}))},570:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(b){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},a={};function i(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=c(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=c(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function s(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=h)return S}else{if(e<=-f)return O;if(e+1>=f)return T}return e<0?s(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=i,n.fromNumber=s,n.fromBits=c;var l=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var o=s(l(n,8)),a=g,i=0;i<e.length;i+=8){var c=Math.min(8,e.length-i),d=parseInt(e.substring(i,i+c),n);if(c<8){var p=s(l(n,c));a=a.mul(p).add(s(d))}else a=(a=a.mul(o)).add(s(d))}return a.unsigned=t,a}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=i(1<<24),g=i(0);n.ZERO=g;var v=i(0,!0);n.UZERO=v;var y=i(1);n.ONE=y;var _=i(1,!0);n.UONE=_;var E=i(-1);n.NEG_ONE=E;var T=c(-1,2147483647,!1);n.MAX_VALUE=T;var S=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var O=c(0,-2147483648,!1);n.MIN_VALUE=O;var R=n.prototype;R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},R.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=s(l(e,6),this.unsigned),a=this,i="";;){var c=a.div(o),u=(a.sub(c.mul(o)).toInt()>>>0).toString(e);if((a=c).isZero())return u+i;for(;u.length<6;)u="0"+u;i=""+u+i}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},R.isZero=function(){return 0===this.high&&0===this.low},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return!(1&~this.low)},R.isEven=function(){return!(1&this.low)},R.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},R.eq=R.equals,R.notEquals=function(e){return!this.eq(e)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(e){return this.comp(e)<0},R.lt=R.lessThan,R.lessThanOrEqual=function(e){return this.comp(e)<=0},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(e){return this.comp(e)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(e){return this.comp(e)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(y)},R.neg=R.negate,R.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,a=65535&this.low,i=e.high>>>16,s=65535&e.high,l=e.low>>>16,u=0,p=0,h=0,f=0;return h+=(f+=a+(65535&e.low))>>>16,p+=(h+=o+l)>>>16,u+=(p+=n+s)>>>16,u+=t+i,c((h&=65535)<<16|(f&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},R.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},R.sub=R.subtract,R.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(O))return e.isOdd()?O:g;if(e.eq(O))return this.isOdd()?O:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,a=this.low>>>16,i=65535&this.low,l=e.high>>>16,u=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,v=0,y=0,_=0;return y+=(_+=i*h)>>>16,v+=(y+=a*h)>>>16,y&=65535,v+=(y+=i*p)>>>16,f+=(v+=o*h)>>>16,v&=65535,f+=(v+=a*p)>>>16,v&=65535,f+=(v+=i*u)>>>16,f+=n*h+o*p+a*u+i*l,c((y&=65535)<<16|(_&=65535),(f&=65535)<<16|(v&=65535),this.unsigned)},R.mul=R.multiply,R.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return _;a=v}else{if(this.eq(O))return e.eq(y)||e.eq(E)?O:e.eq(O)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:E:(o=this.sub(e.mul(n)),a=n.add(o.div(e)));if(e.eq(O))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),u=i<=48?1:l(2,i-48),p=s(n),h=p.mul(e);h.isNegative()||h.gt(o);)h=(p=s(n-=u,this.unsigned)).mul(e);p.isZero()&&(p=y),a=a.add(p),o=o.sub(h)}return a},R.div=R.divide,R.modulo=function(e){return r(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return c(~this.low,~this.high,this.unsigned)},R.and=function(e){return r(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},R.or=function(e){return r(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},R.xor=function(e){return r(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},R.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},R.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},R.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},87:function(e){function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},880:function(e){e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,a=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,i){n[r]=function(e){if(a)if(a=!1,e)i(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(s){a&&(a=!1,i(s))}}))}},986:function(e){var t=e.exports;t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var n=new Array(64),r=new Array(123),o=0;o<64;)r[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;t.encode=function(e,t,r){for(var o,a=null,i=[],s=0,c=0;t<r;){var l=e[t++];switch(c){case 0:i[s++]=n[l>>2],o=(3&l)<<4,c=1;break;case 1:i[s++]=n[o|l>>4],o=(15&l)<<2,c=2;break;case 2:i[s++]=n[o|l>>6],i[s++]=n[63&l],c=0}s>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,i)),s=0)}return c&&(i[s++]=n[o],i[s++]=61,1===c&&(i[s++]=61)),a?(s&&a.push(String.fromCharCode.apply(String,i.slice(0,s))),a.join("")):String.fromCharCode.apply(String,i.slice(0,s))};var a="invalid encoding";t.decode=function(e,t,n){for(var o,i=n,s=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&s>1)break;if(void 0===(l=r[l]))throw Error(a);switch(s){case 0:o=l,s=1;break;case 1:t[n++]=o<<2|(48&l)>>4,o=l,s=2;break;case 2:t[n++]=(15&o)<<4|(60&l)>>2,o=l,s=3;break;case 3:t[n++]=(3&o)<<6|l,s=0}}if(1===s)throw Error(a);return n-i},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},940:function(e){e.exports=r;var t,n=/\/|\./;function r(e,t){n.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),r[e]=t}r("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),r("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),r("timestamp",{Timestamp:t}),r("empty",{Empty:{fields:{}}}),r("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),r("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),r("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),r.get=function(e){return r[e]||null}},921:function(e,t,n){var r,o,a=e.exports;function i(e,t,n,a){var i=a.m,s=a.d,c=a.types,l=a.ksi,u=void 0!==l;if(e.resolvedType)if(e.resolvedType instanceof r){for(var d=u?s[n][l]:s[n],p=e.resolvedType.values,h=Object.keys(p),f=0;f<h.length;f++)if(!(e.repeated&&p[h[f]]===e.typeDefault||h[f]!=d&&p[h[f]]!=d)){u?i[n][l]=p[h[f]]:i[n]=p[h[f]];break}}else{if("object"!=typeof(u?s[n][l]:s[n]))throw TypeError(e.fullName+": object expected");u?i[n][l]=c[t].fromObject(s[n][l]):i[n]=c[t].fromObject(s[n])}else{var m=!1;switch(e.type){case"double":case"float":u?i[n][l]=Number(s[n][l]):i[n]=Number(s[n]);break;case"uint32":case"fixed32":u?i[n][l]=s[n][l]>>>0:i[n]=s[n]>>>0;break;case"int32":case"sint32":case"sfixed32":u?i[n][l]=0|s[n][l]:i[n]=0|s[n];break;case"uint64":m=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":o.Long?u?i[n][l]=o.Long.fromValue(s[n][l]).unsigned=m:i[n]=o.Long.fromValue(s[n]).unsigned=m:"string"==typeof(u?s[n][l]:s[n])?u?i[n][l]=parseInt(s[n][l],10):i[n]=parseInt(s[n],10):"number"==typeof(u?s[n][l]:s[n])?u?i[n][l]=s[n][l]:i[n]=s[n]:"object"==typeof(u?s[n][l]:s[n])&&(u?i[n][l]=new o.LongBits(s[n][l].low>>>0,s[n][l].high>>>0).toNumber(m):i[n]=new o.LongBits(s[n].low>>>0,s[n].high>>>0).toNumber(m));break;case"bytes":"string"==typeof(u?s[n][l]:s[n])?u?o.base64.decode(s[n][l],i[n][l]=o.newBuffer(o.base64.length(s[n][l])),0):o.base64.decode(s[n],i[n]=o.newBuffer(o.base64.length(s[n])),0):(u?s[n][l]:s[n]).length&&(u?i[n][l]=s[n][l]:i[n]=s[n]);break;case"string":u?i[n][l]=String(s[n][l]):i[n]=String(s[n]);break;case"bool":u?i[n][l]=Boolean(s[n][l]):i[n]=Boolean(s[n])}}}function s(e,t,n,a){var i=a.m,s=a.d,c=a.types,l=a.ksi,u=a.o,d=void 0!==l;if(e.resolvedType)e.resolvedType instanceof r?d?s[n][l]=u.enums===String?c[t].values[i[n][l]]:i[n][l]:s[n]=u.enums===String?c[t].values[i[n]]:i[n]:d?s[n][l]=c[t].toObject(i[n][l],u):s[n]=c[t].toObject(i[n],u);else{var p=!1;switch(e.type){case"double":case"float":d?s[n][l]=u.json&&!isFinite(i[n][l])?String(i[n][l]):i[n][l]:s[n]=u.json&&!isFinite(i[n])?String(i[n]):i[n];break;case"uint64":p=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":"number"==typeof i[n][l]?d?s[n][l]=u.longs===String?String(i[n][l]):i[n][l]:s[n]=u.longs===String?String(i[n]):i[n]:d?s[n][l]=u.longs===String?o.Long.prototype.toString.call(i[n][l]):u.longs===Number?new o.LongBits(i[n][l].low>>>0,i[n][l].high>>>0).toNumber(p):i[n][l]:s[n]=u.longs===String?o.Long.prototype.toString.call(i[n]):u.longs===Number?new o.LongBits(i[n].low>>>0,i[n].high>>>0).toNumber(p):i[n];break;case"bytes":d?s[n][l]=u.bytes===String?o.base64.encode(i[n][l],0,i[n][l].length):u.bytes===Array?Array.prototype.slice.call(i[n][l]):i[n][l]:s[n]=u.bytes===String?o.base64.encode(i[n],0,i[n].length):u.bytes===Array?Array.prototype.slice.call(i[n]):i[n];break;default:d?s[n][l]=i[n][l]:s[n]=i[n]}}}a._configure=function(){r=n(660),o=n(629)},a.fromObject=function(e){var t=e.fieldsArray;return function(e){return function(n){if(n instanceof this.ctor)return n;if(!t.length)return new this.ctor;for(var a=new this.ctor,s=0;s<t.length;++s){var c,l=t[s].resolve(),u=l.name;if(l.map){if(n[u]){if("object"!=typeof n[u])throw TypeError(l.fullName+": object expected");a[u]={}}var d=Object.keys(n[u]);for(c=0;c<d.length;++c)i(l,s,u,o.merge(o.copy(e),{m:a,d:n,ksi:d[c]}))}else if(l.repeated){if(n[u]){if(!Array.isArray(n[u]))throw TypeError(l.fullName+": array expected");for(a[u]=[],c=0;c<n[u].length;++c)i(l,s,u,o.merge(o.copy(e),{m:a,d:n,ksi:c}))}}else(l.resolvedType instanceof r||null!=n[u])&&i(l,s,u,o.merge(o.copy(e),{m:a,d:n}))}return a}}},a.toObject=function(e){var t=e.fieldsArray.slice().sort(o.compareFieldsById);return function(n){return t.length?function(a,i){i=i||{};for(var c,l,u={},d=[],p=[],h=[],f=0;f<t.length;++f)t[f].partOf||(t[f].resolve().repeated?d:t[f].map?p:h).push(t[f]);if(d.length&&(i.arrays||i.defaults))for(f=0;f<d.length;++f)u[d[f].name]=[];if(p.length&&(i.objects||i.defaults))for(f=0;f<p.length;++f)u[p[f].name]={};if(h.length&&i.defaults)for(f=0;f<h.length;++f)if(l=(c=h[f]).name,c.resolvedType instanceof r)u[l]=i.enums=String?c.resolvedType.valuesById[c.typeDefault]:c.typeDefault;else if(c.long)if(o.Long){var m=new o.Long(c.typeDefault.low,c.typeDefault.high,c.typeDefault.unsigned);u[l]=i.longs===String?m.toString():i.longs===Number?m.toNumber():m}else u[l]=i.longs===String?c.typeDefault.toString():c.typeDefault.toNumber();else c.bytes?u[l]=i.bytes===String?String.fromCharCode.apply(String,c.typeDefault):Array.prototype.slice.call(c.typeDefault).join("*..*").split("*..*"):u[l]=c.typeDefault;for(f=0;f<t.length;++f){l=(c=t[f]).name;var g,v,y=e._fieldsArray.indexOf(c);if(c.map){if(a[l]&&(g=Object.keys(a[l]).length))for(u[l]={},v=0;v<g.length;++v)s(c,y,l,o.merge(o.copy(n),{m:a,d:u,ksi:g[v],o:i}))}else if(c.repeated){if(a[l]&&a[l].length)for(u[l]=[],v=0;v<a[l].length;++v)s(c,y,l,o.merge(o.copy(n),{m:a,d:u,ksi:v,o:i}))}else null!=a[l]&&a.hasOwnProperty(l)&&s(c,y,l,o.merge(o.copy(n),{m:a,d:u,o:i})),c.partOf&&i.oneofs&&(u[c.partOf.name]=l)}return u}:function(){return{}}}}},801:function(e,t,n){var r,o,a;function i(e){return"missing required '"+e.name+"'"}function s(e){return function(t){var n=t.Reader,s=t.types,c=t.util;return function(t,l){t instanceof n||(t=n.create(t));for(var u,d=void 0===l?t.len:t.pos+l,p=new this.ctor;t.pos<d;){var h=t.uint32();if(e.group&&4==(7&h))break;for(var f=h>>>3,m=0,g=!1;m<e.fieldsArray.length;++m){var v=e._fieldsArray[m].resolve(),y=v.name,_=v.resolvedType instanceof r?"int32":v.type;if(f==v.id){if(g=!0,v.map)t.skip().pos++,p[y]===c.emptyObject&&(p[y]={}),u=t[v.keyType](),t.pos++,null!=o.long[v.keyType]?null==o.basic[_]?p[y]["object"==typeof u?c.longToHash(u):u]=s[m].decode(t,t.uint32()):p[y]["object"==typeof u?c.longToHash(u):u]=t[_]():null==o.basic[_]?p[y]=s[m].decode(t,t.uint32()):p[y]=t[_]();else if(v.repeated)if(p[y]&&p[y].length||(p[y]=[]),null!=o.packed[_]&&2==(7&h))for(var E=t.uint32()+t.pos;t.pos<E;)p[y].push(t[_]());else null==o.basic[_]?v.resolvedType.group?p[y].push(s[m].decode(t)):p[y].push(s[m].decode(t,t.uint32())):p[y].push(t[_]());else null==o.basic[_]?v.resolvedType.group?p[y]=s[m].decode(t):p[y]=s[m].decode(t,t.uint32()):p[y]=t[_]();break}}g||(console.log("t",h),t.skipType(7&h))}for(m=0;m<e._fieldsArray.length;++m){var T=e._fieldsArray[m];if(T.required&&!p.hasOwnProperty(T.name))throw a.ProtocolError(i(T),{instance:p})}return p}}}e.exports=s,s._configure=function(){r=n(660),o=n(452),a=n(629)}},229:function(e,t,n){var r,o;function a(e){return function(t){var n=t.Writer,a=t.types,i=t.util;return function(t,s){s=s||n.create();for(var c=e.fieldsArray.slice().sort(i.compareFieldsById),l=0;l<c.length;l++){var u=c[l],d=e._fieldsArray.indexOf(u),p=u.resolvedType instanceof r?"uint32":u.type,h=o.basic[p],f=t[u.name];if(u.resolvedType instanceof r&&"string"==typeof f&&(f=a[d].values[f]),u.map){if(null!=f&&t.hasOwnProperty(u.name))for(var m=Object.keys(f),g=0;g<m.length;++g)s.uint32((u.id<<3|2)>>>0).fork().uint32(8|o.mapKey[u.keyType])[u.keyType](m[g]),void 0===h?a[d].encode(f[m[g]],s.uint32(18).fork()).ldelim().ldelim():s.uint32(16|h)[p](f[m[g]]).ldelim()}else if(u.repeated){if(f&&f.length)if(u.packed&&void 0!==o.packed[p]){s.uint32((u.id<<3|2)>>>0).fork();for(var v=0;v<f.length;v++)s[p](f[v]);s.ldelim()}else for(var y=0;y<f.length;y++)void 0===h?u.resolvedType.group?a[d].encode(f[y],s.uint32((u.id<<3|3)>>>0)).uint32((u.id<<3|4)>>>0):a[d].encode(f[y],s.uint32((u.id<<3|2)>>>0).fork()).ldelim():s.uint32((u.id<<3|h)>>>0)[p](f[y])}else(!u.optional||null!=f&&t.hasOwnProperty(u.name))&&(u.optional||null!=f&&t.hasOwnProperty(u.name)||console.warn("!!! :",t.$type?t.$type.name:"",":",u.name,"protorequired"),void 0===h?u.resolvedType.group?a[d].encode(f,s.uint32((u.id<<3|3)>>>0)).uint32((u.id<<3|4)>>>0):a[d].encode(f,s.uint32((u.id<<3|2)>>>0).fork()).ldelim():s.uint32((u.id<<3|h)>>>0)[p](f))}return s}}}e.exports=a,a._configure=function(){r=n(660),o=n(452)}},660:function(e,t,n){e.exports=a;var r=n(558);((a.prototype=Object.create(r.prototype)).constructor=a).className="Enum";var o=n(694);function a(e,t,n,o,a){if(r.call(this,e,n),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=a||{},this.reserved=void 0,t)for(var i=Object.keys(t),s=0;s<i.length;++s)"number"==typeof t[i[s]]&&(this.valuesById[this.values[i[s]]=t[i[s]]]=i[s])}a.fromJSON=function(e,t){var n=new a(e,t.values,t.options,t.comment,t.comments);return n.reserved=t.reserved,n},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return util.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,n){if(!util.isString(e))throw TypeError("name must be a string");if(!util.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=n||null,this},a.prototype.remove=function(e){if(!util.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},101:function(e,t,n){e.exports=l;var r,o,a,i,s=n(558);((l.prototype=Object.create(s.prototype)).constructor=l).className="Field";var c=/^required|optional|repeated$/;function l(e,t,n,r,i,l,u){if(a.isObject(r)?(u=i,l=r,r=i=void 0):a.isObject(i)&&(u=l,l=i,i=void 0),s.call(this,e,l),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==r&&!c.test(r=r.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!a.isString(i))throw TypeError("extend must be a string");this.rule=r&&"optional"!==r?r:void 0,this.type=n,this.id=t,this.extend=i||void 0,this.required="required"===r,this.optional=!this.required,this.repeated="repeated"===r,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,n){return"packed"===e&&(this._packed=null),s.prototype.setOption.call(this,e,t,n)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof r&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof r)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),s.prototype.resolve.call(this)},l.d=function(e,t,n,r){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(o,i){a.decorateType(o.constructor).add(new l(i,e,t,n,{default:r}))}},l._configure=function(){i=n(465),r=n(660),o=n(452),a=n(629)}},899:function(e){function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function a(e,r,o){t[0]=e,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function i(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?o:a,e.writeFloatBE=r?a:o,e.readFloatLE=r?i:s,e.readFloatBE=r?s:i}():function(){function t(e,t,n,r){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var a=Math.floor(Math.log(t)/Math.LN2);e((o<<31|a+127<<23|8388607&Math.round(t*Math.pow(2,-a)*8388608))>>>0,n,r)}}function i(e,t,n){var r=e(t,n),o=2*(r>>31)+1,a=r>>>23&255,i=8388607&r;return 255===a?i?NaN:o*(1/0):0===a?1401298464324817e-60*o*i:o*Math.pow(2,a-150)*(i+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=i.bind(null,o),e.readFloatBE=i.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function o(e,r,o){t[0]=e,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function a(e,r,o){t[0]=e,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function i(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?o:a,e.writeDoubleBE=r?a:o,e.readDoubleLE=r?i:s,e.readDoubleBE=r?s:i}():function(){function t(e,t,n,r,o,a){var i=r<0?1:0;if(i&&(r=-r),0===r)e(0,o,a+t),e(1/r>0?0:2147483648,o,a+n);else if(isNaN(r))e(0,o,a+t),e(2146959360,o,a+n);else if(r>17976931348623157e292)e(0,o,a+t),e((i<<31|2146435072)>>>0,o,a+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,o,a+t),e((i<<31|s/4294967296)>>>0,o,a+n);else{var c=Math.floor(Math.log(r)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(s=r*Math.pow(2,-c))>>>0,o,a+t),e((i<<31|c+1023<<20|1048576*s&1048575)>>>0,o,a+n)}}}function i(e,t,n,r,o){var a=e(r,o+t),i=e(r,o+n),s=2*(i>>31)+1,c=i>>>20&2047,l=4294967296*(1048575&i)+a;return 2047===c?l?NaN:s*(1/0):0===c?5e-324*s*l:s*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=i.bind(null,o,0,4),e.readDoubleBE=i.bind(null,a,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function o(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},879:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(b){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},a={};function i(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=c(e,(0|e)<0?-1:0,!0),i&&(a[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=c(e,e<0?-1:0,!1),i&&(o[e]=n),n)}function s(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=h)return S}else{if(e<=-f)return O;if(e+1>=f)return T}return e<0?s(-e,t).neg():c(e%p|0,e/p|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=i,n.fromNumber=s,n.fromBits=c;var l=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var o=s(l(n,8)),a=g,i=0;i<e.length;i+=8){var c=Math.min(8,e.length-i),d=parseInt(e.substring(i,i+c),n);if(c<8){var p=s(l(n,c));a=a.mul(p).add(s(d))}else a=(a=a.mul(o)).add(s(d))}return a.unsigned=t,a}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=i(1<<24),g=i(0);n.ZERO=g;var v=i(0,!0);n.UZERO=v;var y=i(1);n.ONE=y;var _=i(1,!0);n.UONE=_;var E=i(-1);n.NEG_ONE=E;var T=c(-1,2147483647,!1);n.MAX_VALUE=T;var S=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var O=c(0,-2147483648,!1);n.MIN_VALUE=O;var R=n.prototype;R.toInt=function(){return this.unsigned?this.low>>>0:this.low},R.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},R.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=s(l(e,6),this.unsigned),a=this,i="";;){var c=a.div(o),u=(a.sub(c.mul(o)).toInt()>>>0).toString(e);if((a=c).isZero())return u+i;for(;u.length<6;)u="0"+u;i=""+u+i}},R.getHighBits=function(){return this.high},R.getHighBitsUnsigned=function(){return this.high>>>0},R.getLowBits=function(){return this.low},R.getLowBitsUnsigned=function(){return this.low>>>0},R.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},R.isZero=function(){return 0===this.high&&0===this.low},R.eqz=R.isZero,R.isNegative=function(){return!this.unsigned&&this.high<0},R.isPositive=function(){return this.unsigned||this.high>=0},R.isOdd=function(){return!(1&~this.low)},R.isEven=function(){return!(1&this.low)},R.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},R.eq=R.equals,R.notEquals=function(e){return!this.eq(e)},R.neq=R.notEquals,R.ne=R.notEquals,R.lessThan=function(e){return this.comp(e)<0},R.lt=R.lessThan,R.lessThanOrEqual=function(e){return this.comp(e)<=0},R.lte=R.lessThanOrEqual,R.le=R.lessThanOrEqual,R.greaterThan=function(e){return this.comp(e)>0},R.gt=R.greaterThan,R.greaterThanOrEqual=function(e){return this.comp(e)>=0},R.gte=R.greaterThanOrEqual,R.ge=R.greaterThanOrEqual,R.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},R.comp=R.compare,R.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(y)},R.neg=R.negate,R.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,a=65535&this.low,i=e.high>>>16,s=65535&e.high,l=e.low>>>16,u=0,p=0,h=0,f=0;return h+=(f+=a+(65535&e.low))>>>16,p+=(h+=o+l)>>>16,u+=(p+=n+s)>>>16,u+=t+i,c((h&=65535)<<16|(f&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},R.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},R.sub=R.subtract,R.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(O))return e.isOdd()?O:g;if(e.eq(O))return this.isOdd()?O:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,a=this.low>>>16,i=65535&this.low,l=e.high>>>16,u=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,v=0,y=0,_=0;return y+=(_+=i*h)>>>16,v+=(y+=a*h)>>>16,y&=65535,v+=(y+=i*p)>>>16,f+=(v+=o*h)>>>16,v&=65535,f+=(v+=a*p)>>>16,v&=65535,f+=(v+=i*u)>>>16,f+=n*h+o*p+a*u+i*l,c((y&=65535)<<16|(_&=65535),(f&=65535)<<16|(v&=65535),this.unsigned)},R.mul=R.multiply,R.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,a;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return _;a=v}else{if(this.eq(O))return e.eq(y)||e.eq(E)?O:e.eq(O)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:E:(o=this.sub(e.mul(n)),a=n.add(o.div(e)));if(e.eq(O))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();a=g}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),u=i<=48?1:l(2,i-48),p=s(n),h=p.mul(e);h.isNegative()||h.gt(o);)h=(p=s(n-=u,this.unsigned)).mul(e);p.isZero()&&(p=y),a=a.add(p),o=o.sub(h)}return a},R.div=R.divide,R.modulo=function(e){return r(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},R.mod=R.modulo,R.rem=R.modulo,R.not=function(){return c(~this.low,~this.high,this.unsigned)},R.and=function(e){return r(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},R.or=function(e){return r(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},R.xor=function(e){return r(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},R.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},R.shl=R.shiftLeft,R.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},R.shr=R.shiftRight,R.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},R.shru=R.shiftRightUnsigned,R.shr_u=R.shiftRightUnsigned,R.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},R.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},R.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},R.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},R.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},183:function(e,t,n){e.exports=o;var r=n(629);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var a=o.zero=new o(0,0);a.toNumber=function(){return 0},a.zzEncode=a.zzDecode=function(){return this},a.length=function(){return 1};var i=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return a;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if("string"==typeof e||e instanceof String){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):a},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===i?a:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},83:function(e,t,n){e.exports=i;var r,o,a=n(101);function i(e,t,n,r,i,s){if(a.call(this,e,t,r,void 0,void 0,i,s),!o.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}((i.prototype=Object.create(a.prototype)).constructor=i).className="MapField",i.fromJSON=function(e,t){return new i(e,t.id,t.keyType,t.type,t.options,t.comment)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},i.prototype.resolve=function(){if(this.resolved)return this;if(void 0===r.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return a.prototype.resolve.call(this)},i.d=function(e,t,n){return"function"==typeof n?n=o.decorateType(n).name:n&&"object"==typeof n&&(n=o.decorateEnum(n).name),function(r,a){o.decorateType(r.constructor).add(new i(a,e,t,n))}},i._configure=function(){r=n(452),o=n(629)}},278:function(e,t,n){var r;function o(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)this[t[n]]=e[t[n]]}e.exports=o,o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return arguments.length?1==arguments.length?this.$type.encode(arguments[0]):this.$type.encode(arguments[0],arguments[1]):this.$type.encode(this)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return e=e||this,this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)},o.set=function(e,t){o[e]=t},o.get=function(e){return o[e]},o._configure=function(){r=n(629)}},512:function(e,t,n){e.exports=a;var r,o=n(558);function a(e,t,n,a,i,s,c,l){if(r.isObject(i)?(c=i,i=s=void 0):r.isObject(s)&&(c=s,s=void 0),void 0!==t&&!r.isString(t))throw TypeError("type must be a string");if(!r.isString(n))throw TypeError("requestType must be a string");if(!r.isString(a))throw TypeError("responseType must be a string");o.call(this,e,c),this.type=t||"rpc",this.requestType=n,this.requestStream=!!i||void 0,this.responseType=a,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l}((a.prototype=Object.create(o.prototype)).constructor=a).className="Method",a.fromJSON=function(e,t){return new a(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return r.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),o.prototype.resolve.call(this))},a._configure=function(){r=n(629)}},694:function(e,t,n){e.exports=u;var r,o,a,i,s,c=n(558);function l(e,t){if(e&&e.length){for(var n={},r=0;r<e.length;++r)n[e[r].name]=e[r].toJSON(t);return n}}function u(e,t){c.call(this,e,t),this.nested=void 0,this._nestedArray=null}function d(e){return e._nestedArray=null,e}((u.prototype=Object.create(c.prototype)).constructor=u).className="Namespace",u.fromJSON=function(e,t){return new u(e,t.options).addJSON(t.nested)},u.arrayToJSON=l,u.isReservedId=function(e,t){if(e)for(var n=0;n<e.length;++n)if("string"!=typeof e[n]&&e[n][0]<=t&&e[n][1]>=t)return!0;return!1},u.isReservedName=function(e,t){if(e)for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1},Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=a.toArray(this.nested))}}),u.prototype.toJSON=function(e){return a.toObject(["options",this.options,"nested",l(this.nestedArray,e)])},u.prototype.addJSON=function(e){if(e)for(var t,n=Object.keys(e),a=0;a<n.length;++a)t=e[n[a]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?r.fromJSON:void 0!==t.methods?s.fromJSON:void 0!==t.id?o.fromJSON:u.fromJSON)(n[a],t));return this},u.prototype.get=function(e){return this.nested&&this.nested[e]||null},u.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof r)return this.nested[e].values;throw Error("no such enum: "+e)},u.prototype.add=function(e){if(!(e instanceof o&&void 0!==e.extend||e instanceof i||e instanceof r||e instanceof s||e instanceof u))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof u&&e instanceof u)||t instanceof i||t instanceof s)throw Error("duplicate name '"+e.name+"' in "+this);for(var n=t.nestedArray,a=0;a<n.length;++a)e.add(n[a]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),d(this)},u.prototype.remove=function(e){if(!(e instanceof c))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),d(this)},u.prototype.define=function(e,t){if(a.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var n=this;e.length>0;){var r=e.shift();if(n.nested&&n.nested[r]){if(!((n=n.nested[r])instanceof u))throw Error("path conflicts with non-namespace objects")}else n.add(n=new u(r))}return t&&n.addJSON(t),n},u.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof u?e[t++].resolveAll():e[t++].resolve();return this.resolve()},u.prototype.lookup=function(e,t,n){if("boolean"==typeof t?(n=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),a.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var r=this.get(e[0]);if(r){if(1===e.length){if(!t||t.indexOf(r.constructor)>-1)return r}else if(r instanceof u&&(r=r.lookup(e.slice(1),t,!0)))return r}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof u&&(r=this._nestedArray[o].lookup(e,t,!0)))return r;return null===this.parent||n?null:this.parent.lookup(e,t)},u.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},u.prototype.lookupEnum=function(e){var t=this.lookup(e,[r]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},u.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,r]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},u.prototype.lookupService=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},u._configure=function(){r=n(660),o=n(101),a=n(629),i=n(465),s=n(177)}},558:function(e,t,n){var r,o;function a(e,t){if(!r.isString(e))throw TypeError("name must be a string");if(t&&!r.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}e.exports=a,a.className="ReflectionObject",Object.defineProperties(a.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof o&&t._handleAdd(this)},a.prototype.onRemove=function(e){var t=e.root;t instanceof o&&t._handleRemove(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved||this.root instanceof o&&(this.resolved=!0),this},a.prototype.getOption=function(e){if(this.options)return this.options[e]},a.prototype.setOption=function(e,t,n){return n&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},a.prototype.setOptions=function(e,t){if(e)for(var n=Object.keys(e),r=0;r<n.length;++r)this.setOption(n[r],e[n[r]],t);return this},a.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},a._configure=function(e){o=n(773),r=n(629)}},220:function(e,t,n){e.exports=i;var r,o,a=n(558);function i(e,t,n,r){if(Array.isArray(t)||(n=t,t=void 0),a.call(this,e,n),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=r}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}((i.prototype=Object.create(a.prototype)).constructor=i).className="OneOf",i.fromJSON=function(e,t){return new i(e,t.oneof,t.options,t.comment)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},i.prototype.add=function(e){if(!(e instanceof r))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},i.prototype.remove=function(e){if(!(e instanceof r))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},i.prototype.onAdd=function(e){a.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var n=e.get(this.oneof[t]);n&&!n.partOf&&(n.partOf=this,this.fieldsArray.push(n))}s(this)},i.prototype.onRemove=function(e){for(var t,n=0;n<this.fieldsArray.length;++n)(t=this.fieldsArray[n]).parent&&t.parent.remove(t);a.prototype.onRemove.call(this,e)},i.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,n){o.decorateType(t.constructor).add(new i(n,e)),Object.defineProperty(t,n,{get:o.oneOfGetter(e),set:o.oneOfSetter(e)})}},i._configure=function(){r=n(101),o=n(629)}},922:function(e,t,n){var r,o,a,i,s,c,l,u,d,p,h;e.exports=R,R.filename=null,R.defaults={keepCase:!1};var f=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,g=/^0[x][0-9a-fA-F]+$/,v=/^-?0[x][0-9a-fA-F]+$/,y=/^0[0-7]+$/,_=/^-?0[0-7]+$/,E=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,T=/^[a-zA-Z_][a-zA-Z_0-9]*$/,S=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,O=/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/;function R(e,t,n){t instanceof o||(n=t,t=new o),n||(n=R.defaults);var b,I,C,N,A,M=r(e,n.alternateCommentMode||!1),w=M.next,k=M.push,L=M.peek,P=M.skip,x=M.cmnt,U=!0,D=!1,B=t,G=n.keepCase?function(e){return e}:h.camelCase;function j(e,t,n){var r=R.filename;return n||(R.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(r?r+", ":"")+"line "+M.line+")")}function F(){var e,t=[];do{if('"'!==(e=w())&&"'"!==e)throw j(e);t.push(w()),P(e),e=L()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=w();switch(t){case"'":case'"':return k(t),F();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var n=1;switch("-"===e.charAt(0)&&(n=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return n*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return n*parseInt(e,10);if(g.test(e))return n*parseInt(e,16);if(y.test(e))return n*parseInt(e,8);if(E.test(e))return n*parseFloat(e);throw j(e,"number",!0)}(t)}catch(n){if(e&&S.test(t))return t;throw j(t,"value")}}function W(e,t){var n,r;do{!t||'"'!==(n=L())&&"'"!==n?e.push([r=V(w()),P("to",!0)?V(w()):r]):e.push(F())}while(P(",",!0));P(";")}function V(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw j(e,"id");if(m.test(e))return parseInt(e,10);if(v.test(e))return parseInt(e,16);if(_.test(e))return parseInt(e,8);throw j(e,"id")}function $(){if(void 0!==b)throw j("package");if(b=w(),!S.test(b))throw j(b,"name");B=B.define(b),P(";")}function q(){var e,t=L();switch(t){case"weak":e=C||(C=[]),w();break;case"public":w();default:e=I||(I=[])}t=F(),P(";"),e.push(t)}function z(){if(P("="),N=F(),!(D="proto3"===N)&&"proto2"!==N)throw j(N,"syntax");P(";")}function K(e,t){switch(t){case"option":return Y(e,t),P(";"),!0;case"message":return function(e,t){if(!T.test(t=w()))throw j(t,"type name");var n=new a(t);J(n,(function(e){if(!K(n,e))switch(e){case"map":!function(e){P("<");var t=w();if(void 0===p.mapKey[t])throw j(t,"type");P(",");var n=w();if(!S.test(n))throw j(n,"type");P(">");var r=w();if(!T.test(r))throw j(r,"name");P("=");var o=new s(G(r),V(w()),t,n);J(o,(function(e){if("option"!==e)throw j(e);Y(o,e),P(";")}),(function(){ee(o)})),e.add(o)}(n);break;case"required":case"optional":case"repeated":X(n,e);break;case"oneof":!function(e,t){if(!T.test(t=w()))throw j(t,"name");var n=new c(G(t));J(n,(function(e){"option"===e?(Y(n,e),P(";")):(k(e),X(n,"optional"))})),e.add(n)}(n,e);break;case"extensions":W(n.extensions||(n.extensions=[]));break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:if(!D||!S.test(e))throw j(e);k(e),X(n,"optional")}})),e.add(n)}(e,t),!0;case"enum":return function(e,t){if(!T.test(t=w()))throw j(t,"name");var n=new l(t);J(n,(function(e){switch(e){case"option":Y(n,e),P(";");break;case"reserved":W(n.reserved||(n.reserved=[]),!0);break;default:!function(e,t){if(!T.test(t))throw j(t,"name");P("=");var n=V(w(),!0),r={};J(r,(function(e){if("option"!==e)throw j(e);Y(r,e),P(";")}),(function(){ee(r)})),e.add(t,n,r.comment)}(n,e)}})),e.add(n)}(e,t),!0;case"service":return function(e,t){if(!T.test(t=w()))throw j(t,"service name");var n=new u(t);J(n,(function(e){if(!K(n,e)){if("rpc"!==e)throw j(e);!function(e,t){var n=t;if(!T.test(t=w()))throw j(t,"name");var r,o,a,i,s=t;if(P("("),P("stream",!0)&&(o=!0),!S.test(t=w()))throw j(t);if(r=t,P(")"),P("returns"),P("("),P("stream",!0)&&(i=!0),!S.test(t=w()))throw j(t);a=t,P(")");var c=new d(s,n,r,a,o,i);J(c,(function(e){if("option"!==e)throw j(e);Y(c,e),P(";")})),e.add(c)}(n,e)}})),e.add(n)}(e,t),!0;case"extend":return function(e,t){if(!S.test(t=w()))throw j(t,"reference");var n=t;J(null,(function(t){switch(t){case"required":case"repeated":case"optional":X(e,t,n);break;default:if(!D||!S.test(t))throw j(t);k(t),X(e,"optional",n)}}))}(e,t),!0}return!1}function J(e,t,n){var r=M.line;if(e&&(e.comment=x(),e.filename=R.filename),P("{",!0)){for(var o;"}"!==(o=w());)t(o);P(";",!0)}else n&&n(),P(";"),e&&"string"!=typeof e.comment&&(e.comment=x(r))}function X(e,t,n){var r=w();if("group"!==r){if(!S.test(r))throw j(r,"type");var o=w();if(!T.test(o))throw j(o,"name");o=G(o),P("=");var s=new i(o,V(w()),r,t,n);J(s,(function(e){if("option"!==e)throw j(e);Y(s,e),P(";")}),(function(){ee(s)})),e.add(s),D||!s.repeated||void 0===p.packed[r]&&void 0!==p.basic[r]||s.setOption("packed",!1,!0)}else!function(e,t){var n=w();if(!T.test(n))throw j(n,"name");var r=h.lcFirst(n);n===r&&(n=h.ucFirst(n)),P("=");var o=V(w()),s=new a(n);s.group=!0;var c=new i(r,o,n,t);c.filename=R.filename,J(s,(function(e){switch(e){case"option":Y(s,e),P(";");break;case"required":case"optional":case"repeated":X(s,e);break;default:throw j(e)}})),e.add(s).add(c)}(e,t)}function Y(e,t){var n=P("(",!0);if(!S.test(t=w()))throw j(t,"name");var r=t;n&&(P(")"),r="("+r+")",t=L(),O.test(t)&&(r+=t,w())),P("="),Q(e,r)}function Q(e,t){if(P("{",!0))do{if(!T.test(A=w()))throw j(A,"name");"{"===L()?Q(e,t+"."+A):(P(":"),"{"===L()?Q(e,t+"."+A):Z(e,t+"."+A,H(!0)))}while(!P("}",!0));else Z(e,t,H(!0))}function Z(e,t,n){e.setOption&&e.setOption(t,n)}function ee(e){if(P("[",!0)){do{Y(e,"option")}while(P(",",!0));P("]")}return e}for(;null!==(A=w());)switch(A){case"package":if(!U)throw j(A);$();break;case"import":if(!U)throw j(A);q();break;case"syntax":if(!U)throw j(A);z();break;case"option":if(!U)throw j(A);Y(B,A),P(";");break;default:if(K(B,A)){U=!1;continue}throw j(A)}return R.filename=null,{package:b,imports:I,weakImports:C,syntax:N,root:t}}R._configure=function(){r=n(496),o=n(773),a=n(465),i=n(101),s=n(83),c=n(220),l=n(660),u=n(177),d=n(512),p=n(452),h=n(629)}},814:function(e){var t=e.exports,n=t.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},r=t.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),o="";r&&(o=t.shift()+"/");for(var a=0;a<t.length;)".."===t[a]?a>0&&".."!==t[a-1]?t.splice(--a,2):r?t.splice(a,1):++a:"."===t[a]?t.splice(a,1):++a;return o+t.join("/")};t.resolve=function(e,t,o){return o||(t=r(t)),n(t)?t:(o||(e=r(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?r(e+"/"+t):t)}},627:function(e){e.exports=function(e,t,n){var r=n||8192,o=r>>>1,a=null,i=r;return function(n){if(n<1||n>o)return e(n);i+n>r&&(a=e(r),i=0);var s=t.call(a,i,i+=n);return 7&i&&(i=1+(7|i)),s}}},970:function(e,t,n){e.exports=s;var r,o,a=n(629);function i(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function s(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){return e instanceof Uint8Array||Array.isArray(e)?new s(e):("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&console.warn(""),new s(new Uint8Array(e)))}:function(e){if(Array.isArray(e))return new s(e)};function u(){var e=new r(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw i(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw i(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function p(){if(this.pos+8>this.len)throw i(this,8);return new r(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}s.create=a.Buffer?function(e){return(s.create=function(e){return a.Buffer.isBuffer(e)?new(void 0)(e):l(e)})(e)}:l,s.prototype._slice=a.Array.prototype.subarray||a.Array.prototype.slice,s.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,i(this,10);return c}),s.prototype.int32=function(){return 0|this.uint32()},s.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},s.prototype.bool=function(){return 0!==this.uint32()},s.prototype.fixed32=function(){if(this.pos+4>this.len)throw i(this,4);return d(this.buf,this.pos+=4)},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i(this,4);return 0|d(this.buf,this.pos+=4)},s.prototype.float=function(){if(this.pos+4>this.len)throw i(this,4);var e=a.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},s.prototype.double=function(){if(this.pos+8>this.len)throw i(this,4);var e=a.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},s.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw i(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},s.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},s.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw i(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw i(this)}while(128&this.buf[this.pos++]);return this},s.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},s._configure=function(){r=n(183),o=n(442);var e=a.Long?"toLong":"toNumber";a.merge(s.prototype,{int64:function(){return u.call(this)[e](!1)},uint64:function(){return u.call(this)[e](!0)},sint64:function(){return u.call(this).zzDecode()[e](!1)},fixed64:function(){return p.call(this)[e](!0)},sfixed64:function(){return p.call(this)[e](!1)}})}},773:function(e,t,n){e.exports=d;var r=n(694);((d.prototype=Object.create(r.prototype)).constructor=d).className="Root";var o,a,i,s=n(101),c=n(660),l=n(220),u=n(629);function d(e){r.call(this,"",e),this.deferred=[],this.files=[],this.names=[]}function p(){}d.fromJSON=function(e,t){return e="string"==typeof e?JSON.parse(e):e,t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=u.path.resolve,d.prototype.parseFromPbString=function e(t,n,r){"function"==typeof n&&(r=n,n=void 0);var o=this;if(!r)return u.asPromise(e,o,t,n);var s=null;if("string"==typeof t)s=JSON.parse(t);else{if("object"!=typeof t)return void console.log("pb");s=t}function c(e,t){if(r){var n=r;r=null,n(e,t)}}function l(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){a.filename=e;var r,i=a(t,o,n),s=0;if(i.imports)for(;s<i.imports.length;++s)d(r=i.imports[s]);if(i.weakImports){for(s=0;s<i.weakImports.length;++s)r=i.weakImports[s];d(r)}}else o.setOptions(t.options).addJSON(t.nested)}catch(l){c(l)}c(null,o)}function d(e){o.names.indexOf(e)>-1||(o.names.push(e),e in i&&l(e,i[e]))}l(s.name,s.pbJsonStr)},d.prototype.load=function e(t,n,r){"function"==typeof n&&(r=n,n=void 0);var o=this;if(!r)return u.asPromise(e,o,t,n);var s=r===p;function c(e,t){if(r){var n=r;if(r=null,s)throw e;n(e,t)}}function l(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){a.filename=e;var r,i=a(t,o,n),l=0;if(i.imports)for(;l<i.imports.length;++l)(r=o.resolvePath(e,i.imports[l]))&&d(r);if(i.weakImports)for(l=0;l<i.weakImports.length;++l)(r=o.resolvePath(e,i.weakImports[l]))&&d(r,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(p){c(p)}s||h||c(null,o)}function d(e,t){var n=e.lastIndexOf("google/protobuf/");if(n>-1){var a=e.substring(n);a in i&&(e=a)}if(!(o.files.indexOf(e)>-1))if(o.files.push(e),e in i)s?l(e,i[e]):(++h,setTimeout((function(){--h,l(e,i[e])})));else if(s){var d;try{d=u.fs.readFileSync(e).toString("utf8")}catch(p){return void(t||c(p))}l(e,d)}else++h,u.fetch(e,(function(n,a){--h,r&&(n?t?h||c(null,o):c(n):l(e,a))}))}var h=0;u.isString(t)&&(t=[t]);for(var f,m=0;m<t.length;++m)(f=o.resolvePath("",t[m]))&&d(f);if(s)return o;h||c(null,o)},d.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,p)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return r.prototype.resolveAll.call(this)};var h=/^[A-Z]/;function f(e,t){var n=t.parent.lookup(t.extend);if(n){var r=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.declaringField=t,t.extensionField=r,n.add(r),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||f(0,e)||this.deferred.push(e);else if(e instanceof c)h.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof o)for(var t=0;t<this.deferred.length;)f(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var n=0;n<e.nestedArray.length;++n)this._handleAdd(e._nestedArray[n]);h.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)h.test(e.name)&&delete e.parent[e.name];else if(e instanceof r){for(var n=0;n<e.nestedArray.length;++n)this._handleRemove(e._nestedArray[n]);h.test(e.name)&&delete e.parent[e.name]}},d._configure=function(){o=n(465),a=n(922),i=n(940),s=n(101),c=n(660),l=n(220),u=n(629)}},896:function(e){e.exports={}},470:function(e,t,n){e.exports=o;var r=n(629);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,n,o,a,i){if(!a)throw TypeError("request must be specified");var s=this;if(!i)return r.asPromise(e,s,t,n,o,a);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](a).finish(),(function(e,n){if(e)return s.emit("error",e,t),i(e);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(r){return s.emit("error",r,t),i(r)}return s.emit("data",n,t),i(null,n)}s.end(!0)}))}catch(c){return s.emit("error",c,t),void setTimeout((function(){i(c)}),0)}else setTimeout((function(){i(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},177:function(e,t,n){e.exports=s;var r,o,a,i=n(694);function s(e,t){i.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}((s.prototype=Object.create(i.prototype)).constructor=s).className="Service",s.fromJSON=function(e,t){var n=new s(e,t.options);if(t.methods)for(var o=Object.keys(t.methods),a=0;a<o.length;++a)n.add(r.fromJSON(o[a],t.methods[o[a]]));return t.nested&&n.addJSON(t.nested),n.comment=t.comment,n},s.prototype.toJSON=function(e){var t=i.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return o.toObject(["options",t&&t.options||void 0,"methods",i.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=o.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||i.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return i.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof r?(this.methods[e.name]=e,e.parent=this,c(this)):i.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof r){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return i.prototype.remove.call(this,e)},s.prototype.create=function(e,t,n){for(var r,i=new a.Service(e,t,n),s=0;s<this.methodsArray.length;++s){var c=o.lcFirst((r=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");i[c]=o.codegen(["r","c"],o.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:r,q:r.resolvedRequestType.ctor,s:r.resolvedResponseType.ctor})}return i},s._configure=function(){r=n(512),o=n(629),a=n(470)}},496:function(e){e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,n=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,r=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,o=/^ *[*/]+ */,a=/^\s*\*?\/*/,i=/\n/g,s=/\s/,c=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function u(e){return e.replace(c,(function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}}))}function d(e,c){e=e.toString();var l=0,d=e.length,p=1,h=null,f=null,m=0,g=!1,v=[],y=null;function _(e){return Error("illegal "+e+" (line "+p+")")}function E(t){return e.charAt(t)}function T(t,n){h=e.charAt(t++),m=p,g=!1;var r,s=t-(c?2:3);do{if(--s<0||"\n"===(r=e.charAt(s))){g=!0;break}}while(" "===r||"\t"===r);for(var l=e.substring(t,n).split(i),u=0;u<l.length;++u)l[u]=l[u].replace(c?a:o,"").trim();f=l.join("\n").trim()}function S(t){var n=O(t),r=e.substring(t,n);return/^\s*\/{1,2}/.test(r)}function O(e){for(var t=e;t<d&&"\n"!==E(t);)t++;return t}function R(){if(v.length>0)return v.shift();if(y)return function(){var t="'"===y?r:n;t.lastIndex=l-1;var o=t.exec(e);if(!o)throw _("string");return l=t.lastIndex,b(y),y=null,u(o[1])}();var o,a,i,h,f;do{if(l===d)return null;for(o=!1;s.test(i=E(l));)if("\n"===i&&++p,++l===d)return null;if("/"===E(l)){if(++l===d)throw _("comment");if("/"===E(l))if(c){if(h=l,f=!1,S(l)){f=!0;do{if((l=O(l))===d)break;l++}while(S(l))}else l=Math.min(d,O(l)+1);f&&T(h,l),p++,o=!0}else{for(f="/"===E(h=l+1);"\n"!==E(++l);)if(l===d)return null;++l,f&&T(h,l-1),++p,o=!0}else{if("*"!==(i=E(l)))return"/";h=l+1,f=c||"*"===E(h);do{if("\n"===i&&++p,++l===d)throw _("comment");a=i,i=E(l)}while("*"!==a||"/"!==i);++l,f&&T(h,l-2),o=!0}}}while(o);var m=l;if(t.lastIndex=0,!t.test(E(m++)))for(;m<d&&!t.test(E(m));)++m;var g=e.substring(l,l=m);return'"'!==g&&"'"!==g||(y=g),g}function b(e){v.push(e)}function I(){if(!v.length){var e=R();if(null===e)return null;b(e)}return v[0]}return Object.defineProperty({next:R,peek:I,push:b,skip:function(e,t){var n=I();if(n===e)return R(),!0;if(!t)throw _("token '"+n+"', '"+e+"' expected");return!1},cmnt:function(e){var t=null;return void 0===e?m===p-1&&(c||"*"===h||g)&&(t=f):(m<e&&I(),m!==e||g||!c&&"/"!==h||(t=f)),t}},"line",{get:function(){return p}})}d.unescape=u},465:function(e,t,n){e.exports=y;var r,o,a,i,s,c,l,u,d,p,h,f,m,g,v=n(694);function y(e,t){v.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function _(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}((y.prototype=Object.create(v.prototype)).constructor=y).className="Type",Object.defineProperties(y.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var n=this.fields[e[t]],r=n.id;if(this._fieldsById[r])throw Error("duplicate id "+r+" in "+this);this._fieldsById[r]=n}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=l.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=l.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=y.generateConstructor(this))},set:function(e){var t=e.prototype;t instanceof a||((e.prototype=new a).constructor=e,l.merge(e.prototype,t)),e.$type=e.prototype.$type=this,l.merge(e,a,!0),l.merge(e.prototype,a,!0),this._ctor=e;for(var n=0;n<this.fieldsArray.length;++n)this._fieldsArray[n].resolve();var r={};for(n=0;n<this.oneofsArray.length;++n){var o=this._oneofsArray[n].resolve().name,i=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=0;return{setter:function(n){if(!(e.indexOf(n)<0)){t[n]=1;for(var r=0;r<e.length;++r)e[r]!==n&&delete this[e[r]]}},getter:function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}}}(this._oneofsArray[n].oneof);r[o]={get:i.getter,set:i.setter}}n&&Object.defineProperties(e.prototype,r)}}}),y.generateConstructor=function(e){return function(t){for(var n,r=0;r<e.fieldsArray.length;r++)(n=e._fieldsArray[r]).map?this[n.name]={}:n.repeated&&(this[n.name]=[]);if(t)for(var o=Object.keys(t),a=0;a<o.length;++a)null!=t[o[a]]&&(this[o[a]]=t[o[a]])}},y.fromJSON=function(e,t){var n=new y(e,t.options);n.extensions=t.extensions,n.reserved=t.reserved;for(var a=Object.keys(t.fields),s=0;s<a.length;++s)n.add((void 0!==t.fields[a[s]].keyType?g.fromJSON:o.fromJSON)(a[s],t.fields[a[s]]));if(t.oneofs)for(a=Object.keys(t.oneofs),s=0;s<a.length;++s)n.add(i.fromJSON(a[s],t.oneofs[a[s]]));if(t.nested)for(a=Object.keys(t.nested),s=0;s<a.length;++s){var c=t.nested[a[s]];n.add((void 0!==c.id?o.fromJSON:void 0!==c.fields?y.fromJSON:void 0!==c.values?r.fromJSON:void 0!==c.methods?h.fromJSON:v.fromJSON)(a[s],c))}return t.extensions&&t.extensions.length&&(n.extensions=t.extensions),t.reserved&&t.reserved.length&&(n.reserved=t.reserved),t.group&&(n.group=!0),t.comment&&(n.comment=t.comment),n},y.prototype.toJSON=function(e){var t=v.prototype.toJSON.call(this,e),n=!!e&&Boolean(e.keepComments);return{options:t&&t.options||void 0,oneofs:v.arrayToJSON(this.oneofsArray,e),fields:v.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},extensions:this.extensions&&this.extensions.length?this.extensions:void 0,reserved:this.reserved&&this.reserved.length?this.reserved:void 0,group:this.group||void 0,nested:t&&t.nested||void 0,comment:n?this.comment:void 0}},y.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var n=this.oneofsArray;for(t=0;t<n.length;)n[t++].resolve();return v.prototype.resolveAll.call(this)},y.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},y.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&void 0===e.extend){if(this._fieldsById&&this._fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),_(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),_(this)):v.prototype.add.call(this,e)},y.prototype.remove=function(e){if(e instanceof o&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),_(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),_(this)}return v.prototype.remove.call(this,e)},y.prototype.isReservedId=function(e){return v.isReservedId(this.reserved,e)},y.prototype.isReservedName=function(e){return v.isReservedName(this.reserved,e)},y.prototype.create=function(e){return new this.ctor(e)},y.prototype.setup=function(){for(var e=this.fullName,t=[],n=0;n<this.fieldsArray.length;++n)t.push(this._fieldsArray[n].resolve().resolvedType);this.encode=d(this)({Writer:s,types:t,util:l}),this.decode=p(this)({Reader:c,types:t,util:l}),this.verify=u(this)({types:t,util:l}),this.fromObject=m.fromObject(this)({types:t,util:l}),this.toObject=m.toObject(this)({types:t,util:l});var r=f[e];if(r){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=r.fromObject.bind(o),o.toObject=this.toObject,this.toObject=r.toObject.bind(o)}return this},y.prototype.encode=function(e,t){return this.setup().encode(e,t)},y.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},y.prototype.decode=function(e,t){return this.setup().decode(e,t)},y.prototype.decodeDelimited=function(e){return e instanceof c||(e=c.create(e)),this.decode(e,e.uint32())},y.prototype.verify=function(e){return this.setup().verify(e)},y.prototype.fromObject=function(e){return this.setup().fromObject(e)},y.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},y.d=function(e){return function(t){l.decorateType(t,e)}},y._configure=function(){r=n(660),o=n(101),a=n(278),i=n(220),s=n(322),c=n(970),l=n(629),u=n(811),d=n(229),p=n(801),h=n(177),f=n(793),m=n(921),g=n(83)}},452:function(e,t,n){var r=e.exports,o=n(629),a=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function i(e,t){var n=0,r={};for(t|=0;n<e.length;)r[a[n+t]]=e[n++];return r}r.basic=i([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=i([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),r.long=i([0,0,0,1,1],7),r.mapKey=i([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=i([1,5,0,0,0,5,5,0,0,0,1,1,0]),r._configure=function(){o=n(629)}},442:function(e){var t=e.exports;t.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296==(64512&n)&&56320==(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},t.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,a=[],i=0;t<n;)(r=e[t++])<128?a[i++]=r:r>191&&r<224?a[i++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,a[i++]=55296+(r>>10),a[i++]=56320+(1023&r)):a[i++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],i>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),i=0);return o?(i&&o.push(String.fromCharCode.apply(String,a.slice(0,i))),o.join("")):String.fromCharCode.apply(String,a.slice(0,i))},t.write=function(e,t,n){for(var r,o,a=n,i=0;i<e.length;++i)(r=e.charCodeAt(i))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(i+1)))?(r=65536+((1023&r)<<10)+(1023&o),++i,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-a}},629:function(e,t,n){var r=e.exports,o=n(896);r.LongBits=n(183),r.Long=n(879),r.pool=n(627),r.float=n(899),r.asPromise=n(880),r.EventEmitter=n(87),r.path=n(814),r.base64=n(986),r.utf8=n(442),r.compareFieldsById=function(e,t){return e.id-t.id},r.toArray=function(e){if(e){for(var t=Object.keys(e),n=new Array(t.length),r=0;r<t.length;)n[r]=e[t[r++]];return n}return[]},r.toObject=function(e){for(var t={},n=0;n<e.length;){var r=e[n++],o=e[n++];void 0!==o&&(t[r]=o)}return t},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},r.isObject=function(e){return e&&"object"==typeof e},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.merge=function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e},r.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(r.decorateRoot.remove(e.$type),e.$type.name=t,r.decorateRoot.add(e.$type)),e.$type;Type||(Type=n(465));var o=new Type(t||e.name);return r.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o},r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.copy=function(e){if("object"!=typeof e)return e;var t={};for(var n in e)t[n]=e[n];return t},r.deepCopy=function e(t){if("object"!=typeof t)return t;var n={};for(var r in t)n[r]=e(t[r]);return n},r.ProtocolError=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&merge(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r.Buffer=null,r.newBuffer=function(e){return"number"==typeof e?new r.Array(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.stringToBytes=function(e){var t,n,r=[];t=e.length;for(var o=0;o<t;o++)(n=e.charCodeAt(o))>=65536&&n<=1114111?(r.push(n>>18&7|240),r.push(n>>12&63|128),r.push(n>>6&63|128),r.push(63&n|128)):n>=2048&&n<=65535?(r.push(n>>12&15|224),r.push(n>>6&63|128),r.push(63&n|128)):n>=128&&n<=2047?(r.push(n>>6&31|192),r.push(63&n|128)):r.push(255&n);return r},r.byteToString=function(e){if("string"==typeof e)return e;for(var t="",n=e,r=0;r<n.length;r++){var o=n[r].toString(2),a=o.match(/^1+?(?=0)/);if(a&&8==o.length){for(var i=a[0].length,s=n[r].toString(2).slice(7-i),c=1;c<i;c++)s+=n[c+r].toString(2).slice(2);t+=String.fromCharCode(parseInt(s,2)),r+=i-1}else t+=String.fromCharCode(n[r])}return t},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Object.defineProperty(r,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(n(773)))}})},811:function(e,t,n){var r,o;function a(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function i(e,t,n,i){var s=i.types;if(e.resolvedType)if(e.resolvedType instanceof r){if(Object.keys(e.resolvedType.values).indexOf(n)<0)return a(e,"enum value")}else{var c=s[t].verify(n);if(c)return e.name+"."+c}else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!o.isInteger(n))return a(e,"integer");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!(o.isInteger(n)||n&&o.isInteger(n.low)&&o.isInteger(n.high)))return a(e,"integer|Long");break;case"float":case"double":if("number"!=typeof n)return a(e,"number");break;case"bool":if("boolean"!=typeof n)return a(e,"boolean");break;case"string":if(!o.isString(n))return a(e,"string");break;case"bytes":if(!(n&&"number"==typeof n.length||o.isString(n)))return a(e,"buffer")}}function s(e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!o.key32Re.test(t))return a(e,"integer key");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!o.key64Re.test(t))return a(e,"integer|Long key");break;case"bool":if(!o.key2Re.test(t))return a(e,"boolean key")}}function c(e){return function(t){return function(n){var r;if("object"!=typeof n||null===n)return"object expected";var c,l={};e.oneofsArray.length&&(c={});for(var u=0;u<e.fieldsArray.length;++u){var d,p=e._fieldsArray[u].resolve(),h=n[p.name];if(!p.optional||null!=h&&n.hasOwnProperty(p.name))if(p.map){if(!o.isObject(h))return a(p,"object");var f=Object.keys(h);for(d=0;d<f.length;++d){if(r=s(p,f[d]))return r;if(r=i(p,u,h[f[d]],t))return r}}else if(p.repeated){if(!Array.isArray(h))return a(p,"array");for(d=0;d<h.length;++d)if(r=i(p,u,h[d],t))return r}else{if(p.partOf){var m=p.partOf.name;if(1===l[p.partOf.name]&&1===c[m])return p.partOf.name+": multiple values";c[m]=1}if(r=i(p,u,h,t))return r}}}}}e.exports=c,c._configure=function(){r=n(660),o=n(629)}},793:function(e,t,n){var r,o=t;o[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+n,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),o=this.lookup(n);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof r){var a=e.$type.toObject(e,t);return a["@type"]=e.$type.fullName,a}return this.toObject(e,t)}},o._configure=function(){r=n(278)}},322:function(e,t,n){e.exports=l;var r,o=n(629),a=n(442);function i(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function s(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function l(){this.len=0,this.head=new i(s,0,0),this.tail=this.head,this.states=null}function u(e,t,n){t[n]=255&e}function d(e,t){this.len=e,this.next=void 0,this.val=t}function p(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function h(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}l.create=o.Buffer?function(){return(l.create=function(){return new(void 0)})()}:function(){return new l},l.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(l.alloc=o.pool(l.alloc,o.Array.prototype.subarray)),l.prototype._push=function(e,t,n){return this.tail=this.tail.next=new i(e,t,n),this.len+=t,this},d.prototype=Object.create(i.prototype),d.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},l.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new d((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},l.prototype.int32=function(e){return e<0?this._push(p,10,r.fromNumber(e)):this.uint32(e)},l.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},l.prototype.uint64=function(e){var t=r.from(e);return this._push(p,t.length(),t)},l.prototype.int64=l.prototype.uint64,l.prototype.sint64=function(e){var t=r.from(e).zzEncode();return this._push(p,t.length(),t)},l.prototype.bool=function(e){return this._push(u,1,e?1:0)},l.prototype.fixed32=function(e){return this._push(h,4,e>>>0)},l.prototype.sfixed32=l.prototype.fixed32,l.prototype.fixed64=function(e){var t=r.from(e);return this._push(h,4,t.lo)._push(h,4,t.hi)},l.prototype.sfixed64=l.prototype.fixed64,l.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},l.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var f=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};l.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(u,1,0);if(o.isString(e)){var n=l.alloc(t=a.length(e));a.write(e,n,0),e=n}return this.uint32(t)._push(f,t,e)},l.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(u,1,0)},l.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new i(s,0,0),this.len=0,this},l.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new i(s,0,0),this.len=0),this},l.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},l.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},l._configure=function(){r=n(183),n(986),a=n(442)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return function(){n.r(r),n.d(r,{default:function(){return ls}});var e={};n.r(e),n.d(e,{acceptContactInvite:function(){return Jn},acceptInvitation:function(){return Kn},addContact:function(){return $n},addConversationMark:function(){return Tr},addReaction:function(){return ir},addToBlackList:function(){return Qn},addUsersToBlacklist:function(){return Zn},addUsersToBlocklist:function(){return er},declineContactInvite:function(){return Yn},declineInvitation:function(){return Xn},deleteAllMessagesAndConversations:function(){return br},deleteContact:function(){return zn},deleteConversation:function(){return Un},deleteReaction:function(){return sr},deleteSession:function(){return xn},fetchHistoryMessages:function(){return Hn},fetchUserInfoById:function(){return Gn},getAllContacts:function(){return yr},getBlacklist:function(){return In},getBlocklist:function(){return Cn},getContacts:function(){return An},getContactsWithCursor:function(){return _r},getConversationlist:function(){return Ln},getHistoryMessages:function(){return Vn},getReactionDetail:function(){return ur},getReactionList:function(){return cr},getReactionlist:function(){return lr},getRoster:function(){return Nn},getSelfIdsOnOtherPlatform:function(){return Rr},getServerConversations:function(){return hr},getServerConversationsByFilter:function(){return Or},getServerPinnedConversations:function(){return mr},getServerPinnedMessages:function(){return Ar},getSessionList:function(){return kn},getTokenExpireTimestamp:function(){return Fn},modifyMessage:function(){return ar},pinConversation:function(){return gr},pinMessage:function(){return Cr},recallMessage:function(){return or},removeConversationMark:function(){return Sr},removeFromBlackList:function(){return tr},removeHistoryMessages:function(){return pr},removeRoster:function(){return qn},removeUserFromBlackList:function(){return nr},removeUserFromBlocklist:function(){return rr},reportMessage:function(){return dr},setContactRemark:function(){return vr},unpinMessage:function(){return Nr},updateCurrentUserNick:function(){return jn},updateOwnUserInfo:function(){return Dn},updateUserInfo:function(){return Bn},uploadPushToken:function(){return wn},uploadToken:function(){return Mn}});var t={};n.r(t),n.d(t,{acceptGroupInvite:function(){return lo},acceptGroupJoinRequest:function(){return ao},addUsersToGroupAllowlist:function(){return Bo},addUsersToGroupWhitelist:function(){return Do},agreeInviteIntoGroup:function(){return co},agreeJoinGroup:function(){return oo},blockGroup:function(){return Pr},blockGroupMember:function(){return bo},blockGroupMembers:function(){return Co},blockGroupMessages:function(){return xr},changeGroupOwner:function(){return Fr},changeOwner:function(){return jr},createGroup:function(){return Lr},createGroupNew:function(){return kr},deleteGroupSharedFile:function(){return Qo},destroyGroup:function(){return Qr},disableSendGroupMsg:function(){return xo},dissolveGroup:function(){return Yr},downloadGroupSharedFile:function(){return ta},enableSendGroupMsg:function(){return Uo},fetchGroupAnnouncement:function(){return Jo},fetchGroupSharedFileList:function(){return Zo},getGroup:function(){return Br},getGroupAdmin:function(){return qr},getGroupAllowlist:function(){return Wo},getGroupBlacklist:function(){return Lo},getGroupBlacklistNew:function(){return ko},getGroupBlocklist:function(){return Po},getGroupInfo:function(){return Hr},getGroupMemberAttributes:function(){return ra},getGroupMembersAttributes:function(){return oa},getGroupMsgReadUser:function(){return Ko},getGroupMuteList:function(){return So},getGroupMutelist:function(){return Oo},getGroupSharedFilelist:function(){return ea},getGroupWhitelist:function(){return Ho},getJoinedGroups:function(){return Gr},getMuted:function(){return To},getPublicGroups:function(){return Dr},groupBlockMulti:function(){return Io},groupBlockSingle:function(){return Ro},inviteToGroup:function(){return to},inviteUsersToGroup:function(){return no},isGroupWhiteUser:function(){return Vo},isInGroupAllowlist:function(){return qo},isInGroupMutelist:function(){return zo},isInGroupWhiteList:function(){return $o},joinGroup:function(){return ro},leaveGroup:function(){return eo},listGroupMember:function(){return Vr},listGroupMembers:function(){return $r},listGroups:function(){return Ur},modifyGroup:function(){return Wr},mute:function(){return vo},muteGroupMember:function(){return yo},quitGroup:function(){return Zr},rejectGroupInvite:function(){return po},rejectGroupJoinRequest:function(){return so},rejectInviteIntoGroup:function(){return uo},rejectJoinGroup:function(){return io},removeAdmin:function(){return Jr},removeGroupAdmin:function(){return Xr},removeGroupAllowlistMember:function(){return Fo},removeGroupBlockMulti:function(){return Mo},removeGroupBlockSingle:function(){return No},removeGroupMember:function(){return fo},removeGroupMembers:function(){return go},removeGroupWhitelistMember:function(){return jo},removeMultiGroupMember:function(){return mo},removeMute:function(){return _o},removeSingleGroupMember:function(){return ho},rmUsersFromGroupWhitelist:function(){return Go},setAdmin:function(){return zr},setGroupAdmin:function(){return Kr},setGroupMemberAttributes:function(){return na},unblockGroupMember:function(){return Ao},unblockGroupMembers:function(){return wo},unmuteGroupMember:function(){return Eo},updateGroupAnnouncement:function(){return Xo},uploadGroupSharedFile:function(){return Yo}});var o={};n.r(o),n.d(o,{addUsersToChatRoom:function(){return fa},addUsersToChatRoomAllowlist:function(){return Wa},addUsersToChatRoomWhitelist:function(){return Ha},blockChatRoomMember:function(){return Ma},blockChatRoomMembers:function(){return ka},chatRoomBlockMulti:function(){return wa},chatRoomBlockSingle:function(){return Aa},createChatRoom:function(){return ia},deleteChatRoomSharedFile:function(){return ti},destroyChatRoom:function(){return sa},disableSendChatRoomMsg:function(){return ja},enableSendChatRoomMsg:function(){return Fa},fetchChatRoomAnnouncement:function(){return Qa},fetchChatRoomSharedFileList:function(){return ni},getChatRoomAdmin:function(){return Ea},getChatRoomAllowlist:function(){return Ka},getChatRoomAttributes:function(){return oi},getChatRoomBlacklist:function(){return Ba},getChatRoomBlacklistNew:function(){return Da},getChatRoomBlocklist:function(){return Ga},getChatRoomDetails:function(){return ca},getChatRoomMuteList:function(){return Ca},getChatRoomMuted:function(){return Ia},getChatRoomMutelist:function(){return Na},getChatRoomSharedFilelist:function(){return ri},getChatRoomWhitelist:function(){return za},getChatRooms:function(){return aa},getJoinedChatRooms:function(){return li},isChatRoomWhiteUser:function(){return Ja},isInChatRoomAllowlist:function(){return Xa},isInChatRoomMutelist:function(){return Ya},joinChatRoom:function(){return ma},leaveChatRoom:function(){return va},listChatRoomMember:function(){return ya},listChatRoomMembers:function(){return _a},modifyChatRoom:function(){return la},muteChatRoomMember:function(){return Oa},quitChatRoom:function(){return ga},removeChatRoomAdmin:function(){return Sa},removeChatRoomAllowlistMember:function(){return qa},removeChatRoomAttribute:function(){return ci},removeChatRoomAttributes:function(){return si},removeChatRoomBlockMulti:function(){return xa},removeChatRoomBlockSingle:function(){return La},removeChatRoomMember:function(){return da},removeChatRoomMembers:function(){return ha},removeChatRoomWhitelistMember:function(){return $a},removeMultiChatRoomMember:function(){return pa},removeMuteChatRoomMember:function(){return Ra},removeSingleChatRoomMember:function(){return ua},rmUsersFromChatRoomWhitelist:function(){return Va},setChatRoomAdmin:function(){return Ta},setChatRoomAttribute:function(){return ii},setChatRoomAttributes:function(){return ai},unblockChatRoomMember:function(){return Pa},unblockChatRoomMembers:function(){return Ua},unmuteChatRoomMember:function(){return ba},updateChatRoomAnnouncement:function(){return Za},uploadChatRoomSharedFile:function(){return ei}});var a={};n.r(a),n.d(a,{getPresenceStatus:function(){return vi},getSubscribedPresenceList:function(){return mi},getSubscribedPresencelist:function(){return gi},publishPresence:function(){return pi},subscribePresence:function(){return hi},unsubscribePresence:function(){return fi}});var i={};n.r(i),n.d(i,{clearRemindTypeForConversation:function(){return Ti},getPushPerformLanguage:function(){return bi},getSilentModeForAll:function(){return _i},getSilentModeForConversation:function(){return Si},getSilentModeForConversations:function(){return Oi},setPushPerformLanguage:function(){return Ri},setSilentModeForAll:function(){return yi},setSilentModeForConversation:function(){return Ei}});var s={};n.r(s),n.d(s,{changeChatThreadName:function(){return ki},createChatThread:function(){return Ni},destroyChatThread:function(){return wi},getChatThreadDetail:function(){return Gi},getChatThreadLastMessage:function(){return Di},getChatThreadMembers:function(){return Li},getChatThreads:function(){return Ui},getJoinedChatThreads:function(){return xi},joinChatThread:function(){return Ai},leaveChatThread:function(){return Mi},removeChatThreadMember:function(){return Pi}});var c={};n.r(c),n.d(c,{getSupportedLanguages:function(){return ji},translateMessage:function(){return Fi}});var l={};function u(){l.converter._configure(),l.decoder._configure(),l.encoder._configure(),l.Field._configure(),l.MapField._configure(),l.Message._configure(),l.Namespace._configure(),l.Method._configure(),l.ReflectionObject._configure(),l.OneOf._configure(),l.parse._configure(),l.Reader._configure(),l.Root._configure(),l.Service._configure(),l.verifier._configure(),l.Type._configure(),l.types._configure(),l.wrappers._configure(),l.Writer._configure()}l.build="minimal",l.Writer=n(322),l.encoder=n(229),l.Reader=n(970),l.util=n(629),l.rpc=n(470),l.roots=n(896),l.verifier=n(811),l.tokenize=n(496),l.parse=n(922),l.common=n(940),l.ReflectionObject=n(558),l.Namespace=n(694),l.Root=n(773),l.Enum=n(660),l.Type=n(465),l.Field=n(101),l.OneOf=n(220),l.MapField=n(83),l.Service=n(177),l.Method=n(512),l.converter=n(921),l.decoder=n(801),l.Message=n(278),l.wrappers=n(793),l.types=n(452),l.util=n(629),l.configure=u,l.load=function(e,t,n){return"function"==typeof t?(n=t,t=new l.Root):t||(t=new l.Root),t.load(e,n)},l.loadSync=function(e,t){return t||(t=new l.Root),t.loadSync(e)},l.parseFromPbString=function(e,t,n){return"function"==typeof t?(n=t,t=new l.Root):t||(t=new l.Root),t.parseFromPbString(e,n)},u();var d,p,h=l,f=n(570),m=n.n(f),g=function(){function e(e){this.type=e.type,this.message=e.message,this.data=e.data}return e.create=function(t){return new e(t)},e}();(p=d||(d={}))[p.REQUEST_SUCCESS=0]="REQUEST_SUCCESS",p[p.REQUEST_TIMEOUT=-1]="REQUEST_TIMEOUT",p[p.REQUEST_UNKNOWN=-2]="REQUEST_UNKNOWN",p[p.REQUEST_PARAMETER_ERROR=-3]="REQUEST_PARAMETER_ERROR",p[p.REQUEST_ABORT=-4]="REQUEST_ABORT",p[p.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR=0]="WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR",p[p.WEBIM_CONNCTION_OPEN_ERROR=1]="WEBIM_CONNCTION_OPEN_ERROR",p[p.WEBIM_CONNCTION_AUTH_ERROR=2]="WEBIM_CONNCTION_AUTH_ERROR",p[p.WEBIM_CONNCTION_OPEN_USERGRID_ERROR=3]="WEBIM_CONNCTION_OPEN_USERGRID_ERROR",p[p.WEBIM_CONNCTION_ATTACH_ERROR=4]="WEBIM_CONNCTION_ATTACH_ERROR",p[p.WEBIM_CONNCTION_ATTACH_USERGRID_ERROR=5]="WEBIM_CONNCTION_ATTACH_USERGRID_ERROR",p[p.WEBIM_CONNCTION_REOPEN_ERROR=6]="WEBIM_CONNCTION_REOPEN_ERROR",p[p.WEBIM_CONNCTION_SERVER_CLOSE_ERROR=7]="WEBIM_CONNCTION_SERVER_CLOSE_ERROR",p[p.WEBIM_CONNCTION_SERVER_ERROR=8]="WEBIM_CONNCTION_SERVER_ERROR",p[p.WEBIM_CONNCTION_IQ_ERROR=9]="WEBIM_CONNCTION_IQ_ERROR",p[p.WEBIM_CONNCTION_PING_ERROR=10]="WEBIM_CONNCTION_PING_ERROR",p[p.WEBIM_CONNCTION_NOTIFYVERSION_ERROR=11]="WEBIM_CONNCTION_NOTIFYVERSION_ERROR",p[p.WEBIM_CONNCTION_GETROSTER_ERROR=12]="WEBIM_CONNCTION_GETROSTER_ERROR",p[p.WEBIM_CONNCTION_CROSSDOMAIN_ERROR=13]="WEBIM_CONNCTION_CROSSDOMAIN_ERROR",p[p.WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES=14]="WEBIM_CONNCTION_LISTENING_OUTOF_MAXRETRIES",p[p.WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR=15]="WEBIM_CONNCTION_RECEIVEMSG_CONTENTERROR",p[p.WEBIM_CONNCTION_DISCONNECTED=16]="WEBIM_CONNCTION_DISCONNECTED",p[p.WEBIM_CONNCTION_AJAX_ERROR=17]="WEBIM_CONNCTION_AJAX_ERROR",p[p.WEBIM_CONNCTION_JOINROOM_ERROR=18]="WEBIM_CONNCTION_JOINROOM_ERROR",p[p.WEBIM_CONNCTION_GETROOM_ERROR=19]="WEBIM_CONNCTION_GETROOM_ERROR",p[p.WEBIM_CONNCTION_GETROOMINFO_ERROR=20]="WEBIM_CONNCTION_GETROOMINFO_ERROR",p[p.WEBIM_CONNCTION_GETROOMMEMBER_ERROR=21]="WEBIM_CONNCTION_GETROOMMEMBER_ERROR",p[p.WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR=22]="WEBIM_CONNCTION_GETROOMOCCUPANTS_ERROR",p[p.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR=23]="WEBIM_CONNCTION_LOAD_CHATROOM_ERROR",p[p.WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR=24]="WEBIM_CONNCTION_NOT_SUPPORT_CHATROOM_ERROR",p[p.WEBIM_CONNCTION_JOINCHATROOM_ERROR=25]="WEBIM_CONNCTION_JOINCHATROOM_ERROR",p[p.WEBIM_CONNCTION_QUITCHATROOM_ERROR=26]="WEBIM_CONNCTION_QUITCHATROOM_ERROR",p[p.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR=27]="WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR",p[p.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR=28]="WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR",p[p.WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR=29]="WEBIM_CONNCTION_SESSIONID_NOT_ASSIGN_ERROR",p[p.WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR=30]="WEBIM_CONNCTION_RID_NOT_ASSIGN_ERROR",p[p.WEBIM_CONNCTION_CALLBACK_INNER_ERROR=31]="WEBIM_CONNCTION_CALLBACK_INNER_ERROR",p[p.WEBIM_CONNCTION_CLIENT_OFFLINE=32]="WEBIM_CONNCTION_CLIENT_OFFLINE",p[p.WEBIM_CONNCTION_CLIENT_LOGOUT=33]="WEBIM_CONNCTION_CLIENT_LOGOUT",p[p.WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR=34]="WEBIM_CONNCTION_CLIENT_TOO_MUCH_ERROR",p[p.WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP=35]="WEBIM_CONNECTION_ACCEPT_INVITATION_FROM_GROUP",p[p.WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP=36]="WEBIM_CONNECTION_DECLINE_INVITATION_FROM_GROUP",p[p.WEBIM_CONNECTION_ACCEPT_JOIN_GROUP=37]="WEBIM_CONNECTION_ACCEPT_JOIN_GROUP",p[p.WEBIM_CONNECTION_DECLINE_JOIN_GROUP=38]="WEBIM_CONNECTION_DECLINE_JOIN_GROUP",p[p.WEBIM_CONNECTION_CLOSED=39]="WEBIM_CONNECTION_CLOSED",p[p.WEBIM_CONNECTION_ERROR=40]="WEBIM_CONNECTION_ERROR",p[p.MAX_LIMIT=50]="MAX_LIMIT",p[p.MESSAGE_NOT_FOUND=51]="MESSAGE_NOT_FOUND",p[p.NO_PERMISSION=52]="NO_PERMISSION",p[p.OPERATION_UNSUPPORTED=53]="OPERATION_UNSUPPORTED",p[p.OPERATION_NOT_ALLOWED=54]="OPERATION_NOT_ALLOWED",p[p.LOCAL_DB_OPERATION_FAILED=55]="LOCAL_DB_OPERATION_FAILED",p[p.WEBIM_TOKEN_EXPIRED=56]="WEBIM_TOKEN_EXPIRED",p[p.WEBIM_SERVER_SERVING_DISABLED=57]="WEBIM_SERVER_SERVING_DISABLED",p[p.WEBIM_UPLOADFILE_BROWSER_ERROR=100]="WEBIM_UPLOADFILE_BROWSER_ERROR",p[p.WEBIM_UPLOADFILE_ERROR=101]="WEBIM_UPLOADFILE_ERROR",p[p.WEBIM_UPLOADFILE_NO_LOGIN=102]="WEBIM_UPLOADFILE_NO_LOGIN",p[p.WEBIM_UPLOADFILE_NO_FILE=103]="WEBIM_UPLOADFILE_NO_FILE",p[p.WEBIM_DOWNLOADFILE_ERROR=200]="WEBIM_DOWNLOADFILE_ERROR",p[p.WEBIM_DOWNLOADFILE_NO_LOGIN=201]="WEBIM_DOWNLOADFILE_NO_LOGIN",p[p.WEBIM_DOWNLOADFILE_BROWSER_ERROR=202]="WEBIM_DOWNLOADFILE_BROWSER_ERROR",p[p.PARSE_FILE_ERROR=203]="PARSE_FILE_ERROR",p[p.USER_NOT_FOUND=204]="USER_NOT_FOUND",p[p.MESSAGE_PARAMETER_ERROR=205]="MESSAGE_PARAMETER_ERROR",p[p.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE=206]="WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE",p[p.WEBIM_CONNCTION_USER_REMOVED=207]="WEBIM_CONNCTION_USER_REMOVED",p[p.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD=216]="WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD",p[p.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE=217]="WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE",p[p.USER_MUTED_BY_ADMIN=219]="USER_MUTED_BY_ADMIN",p[p.USER_NOT_FRIEND=221]="USER_NOT_FRIEND",p[p.WEBIM_MESSAGE_REC_TEXT=300]="WEBIM_MESSAGE_REC_TEXT",p[p.WEBIM_MESSAGE_REC_TEXT_ERROR=301]="WEBIM_MESSAGE_REC_TEXT_ERROR",p[p.WEBIM_MESSAGE_REC_EMOTION=302]="WEBIM_MESSAGE_REC_EMOTION",p[p.WEBIM_MESSAGE_REC_PHOTO=303]="WEBIM_MESSAGE_REC_PHOTO",p[p.WEBIM_MESSAGE_REC_AUDIO=304]="WEBIM_MESSAGE_REC_AUDIO",p[p.WEBIM_MESSAGE_REC_AUDIO_FILE=305]="WEBIM_MESSAGE_REC_AUDIO_FILE",p[p.WEBIM_MESSAGE_REC_VEDIO=306]="WEBIM_MESSAGE_REC_VEDIO",p[p.WEBIM_MESSAGE_REC_VEDIO_FILE=307]="WEBIM_MESSAGE_REC_VEDIO_FILE",p[p.WEBIM_MESSAGE_REC_FILE=308]="WEBIM_MESSAGE_REC_FILE",p[p.WEBIM_MESSAGE_SED_TEXT=309]="WEBIM_MESSAGE_SED_TEXT",p[p.WEBIM_MESSAGE_SED_EMOTION=310]="WEBIM_MESSAGE_SED_EMOTION",p[p.WEBIM_MESSAGE_SED_PHOTO=311]="WEBIM_MESSAGE_SED_PHOTO",p[p.WEBIM_MESSAGE_SED_AUDIO=312]="WEBIM_MESSAGE_SED_AUDIO",p[p.WEBIM_MESSAGE_SED_AUDIO_FILE=313]="WEBIM_MESSAGE_SED_AUDIO_FILE",p[p.WEBIM_MESSAGE_SED_VEDIO=314]="WEBIM_MESSAGE_SED_VEDIO",p[p.WEBIM_MESSAGE_SED_VEDIO_FILE=315]="WEBIM_MESSAGE_SED_VEDIO_FILE",p[p.WEBIM_MESSAGE_SED_FILE=316]="WEBIM_MESSAGE_SED_FILE",p[p.WEBIM_MESSAGE_SED_ERROR=317]="WEBIM_MESSAGE_SED_ERROR",p[p.STATUS_INIT=400]="STATUS_INIT",p[p.STATUS_DOLOGIN_USERGRID=401]="STATUS_DOLOGIN_USERGRID",p[p.STATUS_DOLOGIN_IM=402]="STATUS_DOLOGIN_IM",p[p.STATUS_OPENED=403]="STATUS_OPENED",p[p.STATUS_CLOSING=404]="STATUS_CLOSING",p[p.STATUS_CLOSED=405]="STATUS_CLOSED",p[p.STATUS_ERROR=406]="STATUS_ERROR",p[p.SERVER_BUSY=500]="SERVER_BUSY",p[p.MESSAGE_INCLUDE_ILLEGAL_CONTENT=501]="MESSAGE_INCLUDE_ILLEGAL_CONTENT",p[p.MESSAGE_EXTERNAL_LOGIC_BLOCKED=502]="MESSAGE_EXTERNAL_LOGIC_BLOCKED",p[p.SERVER_UNKNOWN_ERROR=503]="SERVER_UNKNOWN_ERROR",p[p.MESSAGE_RECALL_TIME_LIMIT=504]="MESSAGE_RECALL_TIME_LIMIT",p[p.SERVICE_NOT_ENABLED=505]="SERVICE_NOT_ENABLED",p[p.SERVICE_NOT_ALLOW_MESSAGING=506]="SERVICE_NOT_ALLOW_MESSAGING",p[p.SERVICE_NOT_ALLOW_MESSAGING_MUTE=507]="SERVICE_NOT_ALLOW_MESSAGING_MUTE",p[p.MESSAGE_MODERATION_BLOCKED=508]="MESSAGE_MODERATION_BLOCKED",p[p.MESSAGE_CURRENT_LIMITING=509]="MESSAGE_CURRENT_LIMITING",p[p.MESSAGE_WEBSOCKET_DISCONNECTED=510]="MESSAGE_WEBSOCKET_DISCONNECTED",p[p.MESSAGE_SIZE_LIMIT=511]="MESSAGE_SIZE_LIMIT",p[p.GROUP_NOT_EXIST=605]="GROUP_NOT_EXIST",p[p.GROUP_NOT_JOINED=602]="GROUP_NOT_JOINED",p[p.GROUP_MEMBERS_FULL=606]="GROUP_MEMBERS_FULL",p[p.PERMISSION_DENIED=603]="PERMISSION_DENIED",p[p.WEBIM_LOAD_MSG_ERROR=604]="WEBIM_LOAD_MSG_ERROR",p[p.GROUP_ALREADY_JOINED=601]="GROUP_ALREADY_JOINED",p[p.GROUP_MEMBERS_LIMIT=607]="GROUP_MEMBERS_LIMIT",p[p.GROUP_IS_DISABLED=608]="GROUP_IS_DISABLED",p[p.GROUP_MEMBER_ATTRIBUTES_SET_FAILED=609]="GROUP_MEMBER_ATTRIBUTES_SET_FAILED",p[p.REST_PARAMS_STATUS=700]="REST_PARAMS_STATUS",p[p.CHATROOM_NOT_JOINED=702]="CHATROOM_NOT_JOINED",p[p.CHATROOM_MEMBERS_FULL=704]="CHATROOM_MEMBERS_FULL",p[p.CHATROOM_NOT_EXIST=705]="CHATROOM_NOT_EXIST",p[p.SDK_RUNTIME_ERROR=999]="SDK_RUNTIME_ERROR",p[p.PRESENCE_PARAM_EXCEED=1100]="PRESENCE_PARAM_EXCEED",p[p.REACTION_ALREADY_ADDED=1101]="REACTION_ALREADY_ADDED",p[p.REACTION_CREATING=1102]="REACTION_CREATING",p[p.REACTION_OPERATION_IS_ILLEGAL=1103]="REACTION_OPERATION_IS_ILLEGAL",p[p.TRANSLATION_NOT_VALID=1200]="TRANSLATION_NOT_VALID",p[p.TRANSLATION_TEXT_TOO_LONG=1201]="TRANSLATION_TEXT_TOO_LONG",p[p.TRANSLATION_FAILED=1204]="TRANSLATION_FAILED",p[p.THREAD_NOT_EXIST=1300]="THREAD_NOT_EXIST",p[p.THREAD_ALREADY_EXIST=1301]="THREAD_ALREADY_EXIST",p[p.MODIFY_MESSAGE_NOT_EXIST=1302]="MODIFY_MESSAGE_NOT_EXIST",p[p.MODIFY_MESSAGE_FORMAT_ERROR=1303]="MODIFY_MESSAGE_FORMAT_ERROR",p[p.MODIFY_MESSAGE_FAILED=1304]="MODIFY_MESSAGE_FAILED",p[p.CONVERSATION_NOT_EXIST=1400]="CONVERSATION_NOT_EXIST";var v,y,_,E,T,S,O=function(){return O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},O.apply(this,arguments)},R=function(e,t,n,r){var o,a,i,s,c,l,u,p,h,f,m,g,v,y,_,E,T,S,R,b,I,C,N,A=e.response;A&&"string"==typeof A&&(A=JSON.parse(A));var M=e.status,w={elapse:r,httpCode:M,errDesc:null==A?void 0:A.error_description};if(400===M){if(40002===A.error_code)return void t({type:d.THREAD_ALREADY_EXIST,message:null==A?void 0:A.error_description,extraInfo:w});if(40009===A.error_code)return void t({type:d.OPERATION_UNSUPPORTED,message:null==A?void 0:A.error_description,extraInfo:w});if(60005===A.error_code)return void t({type:d.GROUP_MEMBER_ATTRIBUTES_SET_FAILED,message:(null==A?void 0:A.desc)||(null==A?void 0:A.error_description),extraInfo:w});if(60010===A.error_code)return void((null==A?void 0:A.error_description.includes("exceeds chatgroup user metadata single value limit"))?t({type:d.MAX_LIMIT,message:(null==A?void 0:A.desc)||A.error_description,extraInfo:w}):t({type:d.NO_PERMISSION,message:(null==A?void 0:A.desc)||A.error_description,extraInfo:w}));if(60011===A.error_code)return void t({type:d.CHATROOM_NOT_JOINED,message:null==A?void 0:A.desc,extraInfo:w});if(14403===A.error_code)return void t({type:d.WEBIM_UPLOADFILE_ERROR,message:null==A?void 0:A.error_description,data:A,extraInfo:w});if(60006===A.error_code||60007===A.error_code||60009===A.error_code||60012===A.error_code)return void t({type:d.MAX_LIMIT,message:(null==A?void 0:A.desc)||(null==A?void 0:A.error_description),extraInfo:w});if(91104===A.error_code)return void t({type:d.NO_PERMISSION,message:null==A?void 0:A.error_description,extraInfo:w});if(null===(o=A.error_description)||void 0===o?void 0:o.includes("are not members of this group"))return(null===(a=e.responseURL)||void 0===a?void 0:a.includes("chatgroups"))?t({type:d.GROUP_NOT_JOINED,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):t({type:d.CHATROOM_NOT_JOINED,data:e.response||e.responseText,message:A.error_description,extraInfo:w}),void n({type:d.WEBIM_CONNCTION_AJAX_ERROR,message:null==A?void 0:A.error_description,data:e.responseText,extraInfo:w});if("the app not open presence"===(null==A?void 0:A.result))return void t({type:d.SERVICE_NOT_ENABLED,message:null==A?void 0:A.result,extraInfo:w});if(null==A?void 0:A.error_description.includes("remark length must less"))return void t({type:d.MAX_LIMIT,message:null==A?void 0:A.error_description,extraInfo:w});switch(null==A?void 0:A.error_description){case"the user is already operation this message":t({type:d.REACTION_ALREADY_ADDED,message:null==A?void 0:A.error_description,extraInfo:w});break;case"The quantity has exceeded the limit!":t({type:d.MAX_LIMIT,message:null==A?void 0:A.error_description,extraInfo:w});break;case"The user not in this group!":t({type:d.GROUP_NOT_JOINED,message:null==A?void 0:A.error_description,extraInfo:w});break;case"the user operation is illegal!":t({type:d.REACTION_OPERATION_IS_ILLEGAL,message:null==A?void 0:A.error_description,extraInfo:w});break;case"this appKey is not open reaction service!":case"this appKey not open message roaming":t({type:d.SERVICE_NOT_ENABLED,message:null==A?void 0:A.error_description,extraInfo:w});break;case"this message is creating reaction, please try again.":t({type:d.REACTION_CREATING,message:null==A?void 0:A.error_description,extraInfo:w});break;case"groupId can not be null!":t({type:d.GROUP_NOT_EXIST,message:null==A?void 0:A.error_description,extraInfo:w});break;case"The input text is too long.":t({type:d.TRANSLATION_TEXT_TOO_LONG,message:null==A?void 0:A.error_description,extraInfo:w});break;case"The target language is not valid.":t({type:d.TRANSLATION_NOT_VALID,message:null==A?void 0:A.error_description,extraInfo:w});break;case"report failed, get message by id failed":t({type:d.MESSAGE_NOT_FOUND,message:null==A?void 0:A.error_description,extraInfo:w});break;case"ext is too big ":t({type:d.PRESENCE_PARAM_EXCEED,message:null==A?void 0:A.error_description,extraInfo:w});break;case"Request body not readable.Please check content type is correct!":case"param mark must be not empty, please check!":case"param mark illegal, please check it!":case"param pin_msg_id illegal, please check it!":case"param type only allow [groupchat,chatroom]!, please check!":t({type:d.REQUEST_PARAMETER_ERROR,message:null==A?void 0:A.error_description,extraInfo:w});break;case"updateRemark | they are not friends, please add as a friend first.":t({type:d.USER_NOT_FRIEND,message:null==A?void 0:A.error_description,extraInfo:w});break;default:t({type:d.WEBIM_CONNCTION_AJAX_ERROR,message:null==A?void 0:A.error_description,data:e.responseText,extraInfo:w}),n({type:d.WEBIM_CONNCTION_AJAX_ERROR,message:null==A?void 0:A.error_description,data:e.responseText,extraInfo:w})}}else if(401===M)40001===A.error_code||60001===A.error_code||"Unable to authenticate (OAuth)"===A.error_description?t({type:d.NO_PERMISSION,message:null==A?void 0:A.error_description,extraInfo:w}):(n({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:w}),t({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:w}));else if(403===M)4e4===A.error_code||60004===A.error_code||15002===A.error_code?t({type:d.SERVICE_NOT_ENABLED,message:null==A?void 0:A.error_description,extraInfo:w}):40003===A.error_code||40004===A.error_code?t({type:d.THREAD_ALREADY_EXIST,message:null==A?void 0:A.error_description,extraInfo:w}):40005===A.error_code||40007===A.error_code||91002===A.error_code?t({type:d.MAX_LIMIT,message:null==A?void 0:A.error_description,extraInfo:w}):60002===A.error_code?t({type:d.PERMISSION_DENIED,message:null==A?void 0:A.error_description,extraInfo:w}):91101===A.error_code?t({type:d.MAX_LIMIT,message:null==A?void 0:A.error_description,extraInfo:w}):91102===A.error_code&&t({type:d.REQUEST_PARAMETER_ERROR,message:A.error_description,extraInfo:w}),"group member list is full!"===A.error_description?(null===(i=e.responseURL)||void 0===i?void 0:i.includes("chatgroups"))?t({type:d.GROUP_MEMBERS_FULL,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):t({type:d.CHATROOM_MEMBERS_FULL,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):(null===(s=A.error_description)||void 0===s?void 0:s.includes(A.error_description.includes("already in group")))?(null===(c=e.responseURL)||void 0===c?void 0:c.includes("chatgroups"))&&t({type:d.GROUP_ALREADY_JOINED,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):(null===(l=A.error_description)||void 0===l?void 0:l.includes("are not members of this group"))?(null===(u=e.responseURL)||void 0===u?void 0:u.includes("chatgroups"))?t({type:d.GROUP_NOT_JOINED,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):t({type:d.CHATROOM_NOT_JOINED,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):(null===(p=A.error_description)||void 0===p?void 0:p.includes("service not open!"))||(null===(h=A.error_description)||void 0===h?void 0:h.includes("message report not open"))||(null===(f=A.error_description)||void 0===f?void 0:f.includes("messageroaming function not open"))?t({type:d.SERVICE_NOT_ENABLED,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):(null===(m=A.error_description)||void 0===m?void 0:m.includes("members size is greater than max user size !"))?t({type:d.GROUP_MEMBERS_LIMIT,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):(null===(g=A.error_description)||void 0===g?void 0:g.includes("can not operate this group, reason: group is disabled"))?t({type:d.GROUP_IS_DISABLED,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):(null===(v=A.error_description)||void 0===v?void 0:v.includes("Invitee's contact max count"))||(null===(y=A.error_description)||void 0===y?void 0:y.includes("Inviter's contact max count"))?t({type:d.MAX_LIMIT,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):t({type:d.PERMISSION_DENIED,data:e.response||e.responseText,message:"permission denied",extraInfo:O(O({},w),{errDesc:"permission denied"})}),n({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:w});else if(404===M)40011===A.error_code?t({type:d.THREAD_NOT_EXIST,message:null==A?void 0:A.error_description,extraInfo:w}):40012===A.error_code?t({type:d.NO_PERMISSION,message:null==A?void 0:A.error_description,extraInfo:w}):60003===A.error_code||20004===A.error_code?t({type:d.GROUP_NOT_JOINED,message:null==A?void 0:A.error_description,extraInfo:w}):91001===A.error_code&&t({type:d.CONVERSATION_NOT_EXIST,message:null==A?void 0:A.error_description,extraInfo:w}),(null===(_=A.error_description)||void 0===_?void 0:_.includes("do not find this group"))||(null===(E=A.error_description)||void 0===E?void 0:E.includes("does not exist"))?(null===(T=e.responseURL)||void 0===T?void 0:T.includes("chatgroups"))?t({type:d.GROUP_NOT_EXIST,data:e.response||e.responseText,message:"The chat room dose not exist.",extraInfo:O(O({},w),{errDesc:"The chat room dose not exist."})}):t({type:d.CHATROOM_NOT_EXIST,data:e.response||e.responseText,message:"The chat room dose not exist.",extraInfo:O(O({},w),{errDesc:"The chat room dose not exist."})}):(null===(S=A.error_description)||void 0===S?void 0:S.includes("username"))&&(null===(R=A.error_description)||void 0===R?void 0:R.includes("doesn't exist!'"))||(null===(b=A.error_description)||void 0===b?void 0:b.includes("user not found"))||(null===(I=A.error_description)||void 0===I?void 0:I.includes("Service resource not found"))&&"UserNotFoundException"===(null==A?void 0:A.exception)?t({type:d.USER_NOT_FOUND,data:e.response||e.responseText,message:A.error_description,extraInfo:w}):A.error_description.includes("user session pin message not exist")?t({type:d.MESSAGE_NOT_FOUND,message:A.error_description,extraInfo:w}):t({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.response||e.responseText,message:e.responseText,extraInfo:w}),n({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.response||e.responseText,message:e.responseText,extraInfo:w});else if(406===M)90004===A.error_code&&t({type:d.OPERATION_NOT_ALLOWED,message:null==A?void 0:A.error_description,extraInfo:w});else if(429===M||503===M){if(null===(C=A.error_description)||void 0===C?void 0:C.includes("The request has reached the maximum limit"))return void t({type:d.MAX_LIMIT,message:e.responseText,extraInfo:w});t({type:d.SERVER_BUSY,data:e.response||e.responseText,message:"Server is busy.",extraInfo:O(O({},w),{errDesc:"Server is busy."})}),n({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:"Server is busy.",extraInfo:O(O({},w),{errDesc:"Server is busy."})})}else if(500===M){if(40006===A.error_code||40008===A.error_code||40010===A.error_code)return void t({type:d.SERVER_UNKNOWN_ERROR,message:null==A?void 0:A.error_description,extraInfo:w});if(90005===A.error_code||99999===A.error_code)return void t({type:d.REQUEST_UNKNOWN,message:null==A?void 0:A.error_description,extraInfo:w});if(null===(N=A.error_description)||void 0===N?void 0:N.includes("translte failed!"))return void t({type:d.TRANSLATION_FAILED,message:e.responseText,extraInfo:w});t({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:"",extraInfo:w}),n({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:"",extraInfo:w})}else t({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:O(O({},w),{errDesc:"ajax error"})}),n({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:e.responseText,message:e.responseText,extraInfo:O(O({},w),{errDesc:"ajax error"})})};!function(e){e[e.UNKNOWOPERATION=-1]="UNKNOWOPERATION",e[e.REST_GET_SESSION_LIST=1]="REST_GET_SESSION_LIST",e[e.REST_DEL_SESSION=2]="REST_DEL_SESSION",e[e.REST_GET_HISTORY_MESSAGE=3]="REST_GET_HISTORY_MESSAGE",e[e.REST_PIN_CONVERSATION=4]="REST_PIN_CONVERSATION",e[e.REST_MARK_CONVERSATION=5]="REST_MARK_CONVERSATION",e[e.REST_UPLOAD_FILE_IN_PARTS=6]="REST_UPLOAD_FILE_IN_PARTS",e[e.REST_DELETE_MESSAGES_CONVERSATIONS=7]="REST_DELETE_MESSAGES_CONVERSATIONS",e[e.REST_PIN_MESSAGE=8]="REST_PIN_MESSAGE",e[e.REST_FETCH_PINMESSAGES=9]="REST_FETCH_PINMESSAGES",e[e.REST_OPERATE=100]="REST_OPERATE",e[e.MSYNC_SENDMESSAGE=101]="MSYNC_SENDMESSAGE",e[e.MSYNC_RECALLMESSAGE=102]="MSYNC_RECALLMESSAGE",e[e.MSYNC_MODIFYMESSAGE=103]="MSYNC_MODIFYMESSAGE",e[e.MSYNC_OPERATE=200]="MSYNC_OPERATE",e[e.ROSTER_ADD=201]="ROSTER_ADD",e[e.ROSTER_REMOVE=202]="ROSTER_REMOVE",e[e.ROSTER_ACCEPT=203]="ROSTER_ACCEPT",e[e.ROSTER_DECLINE=204]="ROSTER_DECLINE",e[e.ROSTER_BAN=205]="ROSTER_BAN",e[e.ROSTER_ALLOW=206]="ROSTER_ALLOW",e[e.ROSTER_BLACKLIST=207]="ROSTER_BLACKLIST",e[e.ROSTER_CONTACTS=208]="ROSTER_CONTACTS",e[e.ROSTER_GET_ALL_CONTACTS_REMARKS=209]="ROSTER_GET_ALL_CONTACTS_REMARKS",e[e.ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE=210]="ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE",e[e.ROSTER_SET_CONTACT_REMARK=211]="ROSTER_SET_CONTACT_REMARK",e[e.ROSTER_OPERATE=300]="ROSTER_OPERATE",e[e.USER_LOGIN=301]="USER_LOGIN",e[e.USER_CREATE=302]="USER_CREATE",e[e.USER_UPDATE_USERINFO=303]="USER_UPDATE_USERINFO",e[e.USER_FETCH_USERINFO=304]="USER_FETCH_USERINFO",e[e.USER_UPDATE_NICK=305]="USER_UPDATE_NICK",e[e.USER_UPLOAD_PUSH_TOKEN=306]="USER_UPLOAD_PUSH_TOKEN",e[e.USER_LOGGEDIN_OTHER_PLATFORM=307]="USER_LOGGEDIN_OTHER_PLATFORM",e[e.USER_OPERATE=400]="USER_OPERATE",e[e.GROUP_CREATEGROUP=401]="GROUP_CREATEGROUP",e[e.GROUP_BLOCK_MESSAGE=402]="GROUP_BLOCK_MESSAGE",e[e.GROUP_FETCH_PUBLICGROUPS_WITHCURSOR=403]="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",e[e.GROUP_FETCH_USERS_GROUP=404]="GROUP_FETCH_USERS_GROUP",e[e.GROUP_CHANGE_OWNER=405]="GROUP_CHANGE_OWNER",e[e.GROUP_FETCH_SPECIFICATION=406]="GROUP_FETCH_SPECIFICATION",e[e.GROUP_CHANGE_GROUPATTRIBUTE=407]="GROUP_CHANGE_GROUPATTRIBUTE",e[e.GROUP_FETCH_MEMEBERS=408]="GROUP_FETCH_MEMEBERS",e[e.GROUP_GET_ADMIN=409]="GROUP_GET_ADMIN",e[e.GROUP_SET_ADMIN=410]="GROUP_SET_ADMIN",e[e.GROUP_REMOVE_ADMIN=411]="GROUP_REMOVE_ADMIN",e[e.GROUP_DESTOTYGROUP=412]="GROUP_DESTOTYGROUP",e[e.GROUP_LEAVEGROUP=413]="GROUP_LEAVEGROUP",e[e.GROUP_INVITE_TO_GROUP=414]="GROUP_INVITE_TO_GROUP",e[e.GROUP_JOIN_PUBLICGROUP=415]="GROUP_JOIN_PUBLICGROUP",e[e.GROUP_ACCEPT_JOINPUBLICGROUPAPPL=416]="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",e[e.GROUP_DECLINE_JOINPUBLICGROUPAPPL=417]="GROUP_DECLINE_JOINPUBLICGROUPAPPL",e[e.GROUP_ACCEPT_INVITATION=418]="GROUP_ACCEPT_INVITATION",e[e.GROUP_DECLINE_INVITATION=419]="GROUP_DECLINE_INVITATION",e[e.GROUP_REMOVE_MEMBER=420]="GROUP_REMOVE_MEMBER",e[e.GROUP_REMOVE_MEMBERS=421]="GROUP_REMOVE_MEMBERS",e[e.GROUP_MUTE_MEMBERS=422]="GROUP_MUTE_MEMBERS",e[e.GROUP_UNMUTE_MEMBERS=423]="GROUP_UNMUTE_MEMBERS",e[e.GROUP_FETCH_MUTES=424]="GROUP_FETCH_MUTES",e[e.GROUP_BLOCK_MEMBER=425]="GROUP_BLOCK_MEMBER",e[e.GROUP_BLOCK_MEMBERS=426]="GROUP_BLOCK_MEMBERS",e[e.GROUP_UNBLOCK_MEMBER=427]="GROUP_UNBLOCK_MEMBER",e[e.GROUP_UNBLOCK_MEMBERS=428]="GROUP_UNBLOCK_MEMBERS",e[e.GROUP_GET_BLOCK_LIST=429]="GROUP_GET_BLOCK_LIST",e[e.GROUP_MUTE_ALLMEMBERS=430]="GROUP_MUTE_ALLMEMBERS",e[e.GROUP_UNMUTE_ALLMEMBERS=431]="GROUP_UNMUTE_ALLMEMBERS",e[e.GROUP_ADD_WHITELIST=432]="GROUP_ADD_WHITELIST",e[e.GROUP_REMOVE_WHITELIST=433]="GROUP_REMOVE_WHITELIST",e[e.GROUP_FETCH_WHITELIST=434]="GROUP_FETCH_WHITELIST",e[e.GROUP_IS_IN_WHITELIST=435]="GROUP_IS_IN_WHITELIST",e[e.GROUP_GET_READ_USERS=436]="GROUP_GET_READ_USERS",e[e.GROUP_FETCH_ANNOUNCEMENT=437]="GROUP_FETCH_ANNOUNCEMENT",e[e.GROUP_UPDATE_ANNOUNCEMENT=438]="GROUP_UPDATE_ANNOUNCEMENT",e[e.GROUP_UPLOAD_SHAREDFILE=439]="GROUP_UPLOAD_SHAREDFILE",e[e.GROUP_DELETE_SHAREDFILE=440]="GROUP_DELETE_SHAREDFILE",e[e.GROUP_FETCH_SHAREDFILE=441]="GROUP_FETCH_SHAREDFILE",e[e.GROUP_DOWNLOAD_SHAREDFILE=442]="GROUP_DOWNLOAD_SHAREDFILE",e[e.GROUP_MEMBER_SET_META_DATA=443]="GROUP_MEMBER_SET_META_DATA",e[e.GROUP_MEMBER_FETCH_META_DATA=444]="GROUP_MEMBER_FETCH_META_DATA",e[e.GROUP_OPERATE=500]="GROUP_OPERATE",e[e.CHATROOM_FETCH_CHATROOMSWITHPAGE=501]="CHATROOM_FETCH_CHATROOMSWITHPAGE",e[e.CHATROOM_CREATECHATROOM=502]="CHATROOM_CREATECHATROOM",e[e.CHATROOM_DESTORYCHATROOM=503]="CHATROOM_DESTORYCHATROOM",e[e.CHATROOM_FETCH_SPECIFICATION=504]="CHATROOM_FETCH_SPECIFICATION",e[e.CHATROOM_CHANGE_ATTRIBUTE=505]="CHATROOM_CHANGE_ATTRIBUTE",e[e.CHATROOM_REMOVE_MEMBER=506]="CHATROOM_REMOVE_MEMBER",e[e.CHATROOM_REMOVE_MEMBERS=507]="CHATROOM_REMOVE_MEMBERS",e[e.CHATROOM_ADD_MEMBERS=508]="CHATROOM_ADD_MEMBERS",e[e.CHATROOM_JOINCAHTROOM=509]="CHATROOM_JOINCAHTROOM",e[e.CHATROOM_LEAVECAHTROOM=510]="CHATROOM_LEAVECAHTROOM",e[e.CHATROOM_FETCH_MEMBERS=511]="CHATROOM_FETCH_MEMBERS",e[e.CHATROOM_GET_ADMIN=512]="CHATROOM_GET_ADMIN",e[e.CHATROOM_SET_ADMIN=513]="CHATROOM_SET_ADMIN",e[e.CHATROOM_REMOVE_ADMIN=514]="CHATROOM_REMOVE_ADMIN",e[e.CHATROOM_MUTE_USER=515]="CHATROOM_MUTE_USER",e[e.CHATROOM_UNMUTE_USER=516]="CHATROOM_UNMUTE_USER",e[e.CHATROOM_FETCH_MUTES=517]="CHATROOM_FETCH_MUTES",e[e.CHATROOM_BLOCK_USER=518]="CHATROOM_BLOCK_USER",e[e.CHATROOM_BLOCK_USERS=519]="CHATROOM_BLOCK_USERS",e[e.CHATROOM_UNBLOCK_USER=520]="CHATROOM_UNBLOCK_USER",e[e.CHATROOM_UNBLOCK_USERS=521]="CHATROOM_UNBLOCK_USERS",e[e.CHATROOM_FETCH_BANS=522]="CHATROOM_FETCH_BANS",e[e.CHATROOM_MUTE_ALLMEMEBERS=523]="CHATROOM_MUTE_ALLMEMEBERS",e[e.CHATROOM_UNMUTE_ALLMEMEBERS=524]="CHATROOM_UNMUTE_ALLMEMEBERS",e[e.CHATROOM_ADD_WHITELIST=525]="CHATROOM_ADD_WHITELIST",e[e.CHATROOM_REMOVE_WHITELIST=526]="CHATROOM_REMOVE_WHITELIST",e[e.CHATROOM_FETCH_WHITELIST=527]="CHATROOM_FETCH_WHITELIST",e[e.CHATROOM_FETCH_MEMBERIN_WHITELIST=528]="CHATROOM_FETCH_MEMBERIN_WHITELIST",e[e.CHATROOM_FETCH_ANNOUNCEMENT=529]="CHATROOM_FETCH_ANNOUNCEMENT",e[e.CHATROOM_UPDATE_ANNOUNCEMENT=530]="CHATROOM_UPDATE_ANNOUNCEMENT",e[e.CHATROOM_REMOVE_SHARE_FILE=531]="CHATROOM_REMOVE_SHARE_FILE",e[e.CHATROOM_GET_SHARE_FILE_LIST=532]="CHATROOM_GET_SHARE_FILE_LIST",e[e.CHATROOM_UPLOAD_FILE=533]="CHATROOM_UPLOAD_FILE",e[e.CHATROOM_SET_META_DATA=534]="CHATROOM_SET_META_DATA",e[e.CHATROOM_DELETE_META_DATA=535]="CHATROOM_DELETE_META_DATA",e[e.CHATROOM_FETCH_META_DATA=536]="CHATROOM_FETCH_META_DATA",e[e.CHATROOM_FETCH_USER_JOINED_CHATROOM=537]="CHATROOM_FETCH_USER_JOINED_CHATROOM",e[e.CHATROOM_OPERATE=600]="CHATROOM_OPERATE"}(v||(v={})),function(e){e.SDK_INTERNAL="SDK_INTERNAL",e.LOGIN="USER_LOGIN",e.REGISTER="USER_CREATE",e.GET_CHATROOM_LIST="CHATROOM_FETCH_CHATROOMSWITHPAGE",e.CREATE_CHATROOM="CHATROOM_CREATECHATROOM",e.DESTROY_CHATROOM="CHATROOM_DESTORYCHATROOM",e.GET_CHATROOM_DETAIL="CHATROOM_FETCH_SPECIFICATION",e.MODIFY_CHATROOM="CHATROOM_CHANGE_ATTRIBUTE",e.REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBER",e.MULTI_REMOVE_CHATROOM_MEMBER="CHATROOM_REMOVE_MEMBERS",e.ADD_USERS_TO_CHATROOM="CHATROOM_ADD_MEMBERS",e.JOIN_CHATROOM="CHATROOM_JOINCAHTROOM",e.QUIT_CHATROOM="CHATROOM_LEAVECAHTROOM",e.LIST_CHATROOM_MEMBERS="CHATROOM_FETCH_MEMBERS",e.GET_CHATROOM_ADMIN="CHATROOM_GET_ADMIN",e.SET_CHATROOM_ADMIN="CHATROOM_SET_ADMIN",e.REMOVE_CHATROOM_ADMIN="CHATROOM_REMOVE_ADMIN",e.MUTE_CHATROOM_MEMBER="CHATROOM_MUTE_USER",e.REMOVE_MUTE_CHATROOM_MEMBER="CHATROOM_UNMUTE_USER",e.GET_MUTE_CHATROOM_MEMBERS="CHATROOM_FETCH_MUTES",e.SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USER",e.MULTI_SET_CHATROOM_MEMBER_TO_BLACK="CHATROOM_BLOCK_USERS",e.REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USER",e.MULTI_REMOVE_CHATROOM_MEMBER_BLACK="CHATROOM_UNBLOCK_USERS",e.GET_CHATROOM_BLOCK_MEMBERS="CHATROOM_FETCH_BANS",e.DISABLED_CHATROOM_SEND_MSG="CHATROOM_MUTE_ALLMEMEBERS",e.ENABLE_CHATROOM_SEND_MSG="CHATROOM_UNMUTE_ALLMEMEBERS",e.ADD_CHATROOM_WHITE_USERS="CHATROOM_ADD_WHITELIST",e.REMOVE_CHATROOM_WHITE_USERS="CHATROOM_REMOVE_WHITELIST",e.GET_CHATROOM_WHITE_USERS="CHATROOM_FETCH_WHITELIST",e.CHECK_CHATROOM_WHITE_USER="CHATROOM_FETCH_MEMBERIN_WHITELIST",e.GET_CHATROOM_ANN="CHATROOM_FETCH_ANNOUNCEMENT",e.UPDATE_CHATROOM_ANN="CHATROOM_UPDATE_ANNOUNCEMENT",e.DELETE_CHATROOM_FILE="CHATROOM_REMOVE_SHARE_FILE",e.GET_CHATROOM_FILES="CHATROOM_GET_SHARE_FILE_LIST",e.UPLOAD_CHATROOM_FILE="CHATROOM_UPLOAD_FILE",e.SET_CHATROOM_ATTR="CHATROOM_SET_META_DATA",e.DELETE_CHATROOM_ATTR="CHATROOM_DELETE_META_DATA",e.GET_CHATROOM_ATTR="CHATROOM_FETCH_META_DATA",e.GET_USER_JOINED_CHATROOM="CHATROOM_FETCH_USER_JOINED_CHATROOM",e.CREATE_GROUP="GROUP_CREATEGROUP",e.BLOCK_GROUP="GROUP_BLOCK_MESSAGE",e.LIST_GROUP="GROUP_FETCH_PUBLICGROUPS_WITHCURSOR",e.GET_USER_GROUP="GROUP_FETCH_USERS_GROUP",e.CHANGE_OWNER="GROUP_CHANGE_OWNER",e.GET_GROUP_INFO="GROUP_FETCH_SPECIFICATION",e.MODIFY_GROUP="GROUP_CHANGE_GROUPATTRIBUTE",e.LIST_GROUP_MEMBER="GROUP_FETCH_MEMEBERS",e.GET_GROUP_ADMIN="GROUP_GET_ADMIN",e.SET_GROUP_ADMIN="GROUP_SET_ADMIN",e.REMOVE_GROUP_ADMIN="GROUP_REMOVE_ADMIN",e.DISSOLVE_GROUP="GROUP_DESTOTYGROUP",e.QUIT_GROUP="GROUP_LEAVEGROUP",e.INVITE_TO_GROUP="GROUP_INVITE_TO_GROUP",e.JOIN_GROUP="GROUP_JOIN_PUBLICGROUP",e.AGREE_JOIN_GROUP="GROUP_ACCEPT_JOINPUBLICGROUPAPPL",e.REJECT_JOIN_GROUP="GROUP_DECLINE_JOINPUBLICGROUPAPPL",e.AGREE_INVITE_GROUP="GROUP_ACCEPT_INVITATION",e.REJECT_INVITE_GROUP="GROUP_DECLINE_INVITATION",e.REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBER",e.MULTI_REMOVE_GROUP_MEMBER="GROUP_REMOVE_MEMBERS",e.MUTE_GROUP_MEMBER="GROUP_MUTE_MEMBERS",e.UNMUTE_GROUP_MEMBER="GROUP_UNMUTE_MEMBERS",e.GET_GROUP_MUTE_LIST="GROUP_FETCH_MUTES",e.BLOCK_GROUP_MEMBER="GROUP_BLOCK_MEMBER",e.BLOCK_GROUP_MEMBERS="GROUP_BLOCK_MEMBERS",e.UNBLOCK_GROUP_MEMBER="GROUP_UNBLOCK_MEMBER",e.UNBLOCK_GROUP_MEMBERS="GROUP_UNBLOCK_MEMBERS",e.GET_GROUP_BLACK_LIST="GROUP_GET_BLOCK_LIST",e.DISABLED_SEND_GROUP_MSG="GROUP_MUTE_ALLMEMBERS",e.ENABLE_SEND_GROUP_MSG="GROUP_UNMUTE_ALLMEMBERS",e.ADD_USERS_TO_GROUP_WHITE="GROUP_ADD_WHITELIST",e.REMOVE_GROUP_WHITE_MEMBER="GROUP_REMOVE_WHITELIST",e.GET_GROUP_WHITE_LIST="GROUP_FETCH_WHITELIST",e.IS_IN_GROUP_WHITE_LIST="GROUP_IS_IN_WHITELIST",e.GET_GROUP_MSG_READ_USER="GROUP_GET_READ_USERS",e.GET_GROUP_ANN="GROUP_FETCH_ANNOUNCEMENT",e.UPDATE_GROUP_ANN="GROUP_UPDATE_ANNOUNCEMENT",e.UPLOAD_GROUP_FILE="GROUP_UPLOAD_SHAREDFILE",e.DELETE_GROUP_FILE="GROUP_DELETE_SHAREDFILE",e.GET_GROUP_FILE_LIST="GROUP_FETCH_SHAREDFILE",e.DOWN_GROUP_FILE="GROUP_DOWNLOAD_SHAREDFILE",e.SET_GROUP_MEMBER_ATTRS="GROUP_MEMBER_SET_META_DATA",e.GET_GROUP_MEMBER_ATTR="GROUP_MEMBER_FETCH_META_DATA",e.GET_SESSION_LIST="REST_GET_SESSION_LIST",e.DELETE_SESSION="REST_DEL_SESSION",e.GET_HISTORY_MSG="REST_GET_HISTORY_MESSAGE",e.PIN_CONVERSATION="REST_PIN_CONVERSATION",e.REST_UPLOAD_FILE_IN_PARTS="REST_UPLOAD_FILE_IN_PARTS",e.REST_DELETE_MESSAGES_CONVERSATIONS="REST_DELETE_MESSAGES_CONVERSATIONS",e.MARK_CONVERSATION="REST_MARK_CONVERSATION",e.REST_FETCH_PINMESSAGES="REST_FETCH_PINMESSAGES",e.REST_PIN_MESSAGE="REST_PIN_MESSAGE",e.UPDATE_USER_INFO="USER_UPDATE_USERINFO",e.GET_USER_INFO="USER_FETCH_USERINFO",e.UPDATE_USER_NICK="USER_UPDATE_NICK",e.UPLOAD_PUSH_TOKEN="USER_UPLOAD_PUSH_TOKEN",e.USER_LOGGEDIN_OTHER_PLATFORM="USER_LOGGEDIN_OTHER_PLATFORM",e.GET_BLACK_LIST="ROSTER_BLACKLIST",e.GET_CONTACTS="ROSTER_CONTACTS",e.ROSTER_GET_ALL_CONTACTS_REMARKS="ROSTER_GET_ALL_CONTACTS_REMARKS",e.ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE="ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE",e.ROSTER_SET_CONTACT_REMARK="ROSTER_SET_CONTACT_REMARK",e.ROSTER_ADD="ROSTER_ADD",e.ROSTER_REMOVE="ROSTER_REMOVE",e.ROSTER_ACCEPT="ROSTER_ACCEPT",e.ROSTER_DECLINE="ROSTER_DECLINE",e.ROSTER_BAN="ROSTER_BAN",e.ROSTER_ALLOW="ROSTER_ALLOW",e.SEND_MSG="MSYNC_SENDMESSAGE",e.UPLOAD_MSG_ATTACH="UPLOAD_MSG_ATTACH",e.SEND_RECALL_MSG="MSYNC_RECALLMESSAGE",e.MODIFY_MESSAGE="MSYNC_MODIFYMESSAGE"}(y||(y={})),function(e){e.GET_DNS="REST_DNSLIST",e.LOGIN_BY_AGORA_TOKEN="LOGIN_BY_AGORA_TOKEN",e.LOGIN_BY_PWD="LOGIN_BY_PWD",e.RESISTER="REGISTER",e.REST_INIT_UPLOAD_TASK_IN_PARTS="REST_INIT_UPLOAD_TASK_IN_PARTS",e.REST_UPLOAD_PART="REST_UPLOAD_PART",e.REST_COMPLETE_UPLOAD_PART="REST_COMPLETE_UPLOAD_PART",e.REST_ABORT_UPLOAD_PART="REST_ABORT_UPLOAD_PART"}(_||(_={})),function(e){e[e["5G"]=7]="5G",e[e["4G"]=7]="4G",e[e["3G"]=7]="3G",e[e["2G"]=7]="2G",e[e["SLOW-2G"]=7]="SLOW-2G",e[e.WIFI=2]="WIFI",e[e.LAN=1]="LAN",e[e.DISCONNECTED=0]="DISCONNECTED",e[e.NONE=0]="NONE",e[e.UNKNOWN=-1]="UNKNOWN",e[e["WEBIM UNABLE TO GET"]=-2]="WEBIM UNABLE TO GET"}(E||(E={})),function(e){e[e.success=200]="success",e[e.failed=500]="failed",e[e.disconnect=-1]="disconnect",e[e.notFound=404]="notFound",e[e.reachLimit=429]="reachLimit"}(T||(T={})),function(e){e[e.web=0]="web",e[e.native=1]="native"}(S||(S={}));var b=new Map,I=new Map,C=1e3,N=9675,A=-1;function M(){console.log&&(console.log.apply?console.log.apply(console,Array.prototype.slice.call(arguments)):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}var w,k="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),L=function(){},P={};!function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(w||(w={}));var x=function(){function e(e,t,n){this.name=e||"defaultLogger",this.currentLevel=0,this.useCookiePersist=!1,this.storageLogLevelKey="loglevel",this.levels=w,this.consoleLogVisibility=!0,this.logMethods=["trace","debug","info","warn","error"],this.methodFactory=n||this.defaultMethodFactory;var r=this._getPersistedLevel();null==r&&(r=null===t?"WARN":t),this.logs=[],this.config={useCache:!1,maxCache:3145728,color:"",background:""},this.logBytes=0,this.setLevel(r,!1,"")}return e.prototype.setConfig=function(e){this.config=e},e.prototype.getLevel=function(){return this.currentLevel},e.prototype.setLevel=function(e,t,n){if("string"==typeof e&&(e=w[e]),void 0===e&&(e=0),!("number"==typeof e&&e>=0&&e<=this.levels.SILENT))throw Error("log.setLevel() called with invalid level: "+e);if(this.currentLevel=e,!1!==t&&this._persistLevel(e),this.replaceLoggingMethods(e,n||""),"undefined"==typeof console&&e<w.SILENT)throw Error("No console available for logging")},e.prototype.setDefaultLevel=function(e){this._getPersistedLevel()||this.setLevel(e,!1,"")},e.prototype.enableAll=function(e){this.setLevel(this.levels.TRACE,!0,"")},e.prototype.disableAll=function(e){this.setLevel(this.levels.SILENT,!0,"")},e.prototype.getLogs=function(){return this.logs},e.prototype.download=function(){if("undefined"!=typeof window&&"undefined"!=typeof document){var e=this.getLogs().join("\n"),t=new Blob([e],{type:"text/plain;charset=UTF-8"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.style.display="none",r.href=n,r.setAttribute("download","sdklog"),document.body.appendChild(r),r.click()}},e.prototype.setConsoleLogVisibility=function(e){this.consoleLogVisibility=e},e.prototype._bindMethod=function(e,t,n){var r=this,o=e[t],a=this.getTime();if(n)return this._cacheLog;if("function"==typeof o.bind)return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=r.getTime();r.consoleLogVisibility&&o.call.apply(o,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([e,"".concat(i," IM SDK [").concat("log"===t?"debug":t,"]: ")],n,!1)),r.onLog&&r.onLog({time:i,level:"log"===t?"debug":t,logs:n})};try{return Function.prototype.bind.call(o,e,"".concat(a," IM SDK [").concat("log"===t?"debug":t,"]: "))}catch(i){return function(){return Function.prototype.apply.apply(o,[e,arguments])}}},e.prototype.getTime=function(){var e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()},e.prototype._cacheLog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(new Date).toLocaleString()+": ",r="";e.forEach((function(e){r+="object"==typeof e?JSON.stringify(e)+" ":e+" "})),this._cacheLogCall(n+r)},e.prototype._cacheLogCall=function(e){var t=U(e),n=this.logBytes+t,r=this.config.maxCache;if(!(t>=r)){if(n<r)this.logBytes+=t;else for(var o=n-r,a=0;a<o;){var i=this.logs.shift();void 0!==i&&(a+=U(i))}this.logs.push(e)}},e.prototype._getPersistedLevel=function(){var e;if("undefined"==typeof window)return 5;if("undefined"===(e=window&&window.localStorage&&window.localStorage[this.storageLogLevelKey])){var t=window.document.cookie,n=t.indexOf(encodeURIComponent(this.storageLogLevelKey));-1!==n&&(e=/^([^;]+)/.exec(t.slice(n))[1])}return e||5},e.prototype._persistLevel=function(e){var t=this.logMethods[e]||"SILENT";"undefined"!=typeof window&&(window.localStorage&&(window.localStorage[this.storageLogLevelKey]=t),this.useCookiePersist&&(window.document.cookie=encodeURIComponent(this.storageLogLevelKey)+"="+t+";"))},e.prototype.replaceLoggingMethods=function(e,t){for(var n=0;n<this.logMethods.length;n++){var r=this.logMethods[n];this[r]=n<e?L:this.methodFactory(r,e,t)}this.log=this.debug},e.prototype.defaultMethodFactory=function(e,t,n){return this.realMethod(e)||this.enableLoggingWhenConsoleArrives.apply(this,[e,t,n])},e.prototype.realMethod=function(e){return"debug"===e&&(e="log"),"undefined"!=typeof console&&("trace"===e&&k?M:void 0!==console[e]?this._bindMethod(console,e,this.config.useCache):void 0!==console.log?this._bindMethod(console,"log",this.config.useCache):L)},e.prototype.enableLoggingWhenConsoleArrives=function(e,t,n){return function(){"undefined"!=typeof console&&(this.replaceLoggingMethods.call(this,t,n),this[e].apply(this,arguments))}.bind(this)},e}();function U(e){for(var t=e.length,n=0;n<e.length;n++)e.charCodeAt(n)>255&&t++;return t}var D=new x;D.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");return this};var B="undefined"!=typeof window?window.log:void 0;D.noConflict=function(){return"undefined"!=typeof window&&window.log===D&&(window.log=B),D},D.getLoggers=function(){return P};var G=D,j=5242880,F=5242880,H={size:0},W=function(){return W=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},W.apply(this,arguments)};function V(){var e=this.context,t=e.orgName,n=e.appName,r=e.accessToken,o={url:"".concat(this.apiUrl,"/").concat(t,"/").concat(n,"/sdk/chatfiles/part-upload"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+r}};return G.debug("Call multipartInit"),te.call(this,o,y.SDK_INTERNAL).then((function(e){var t=e.entities[0];return{data:{fileMaxSize:t.file_upper_limit,partMinSize:t.part_lower_limit,uuid:t.uuid},extraInfo:e.extraInfo,type:e.type}}))}function $(e){var t=this;return new Promise((function(n,r){var o,a,i=(new Date).getTime(),s=t.context,c=s.orgName,l=s.appName,u=s.accessToken,p=e.uuid,h=e.partNumber,f=e.part,m=e.onProgress,g="".concat(t.apiUrl,"/").concat(c,"/").concat(l,"/sdk/chatfiles/part-upload/").concat(p),v=new XMLHttpRequest;G.debug("Call multipartUpload"),v.upload&&(null===(a=(o=v.upload).addEventListener)||void 0===a||a.call(o,"progress",(function(e){null==m||m(e)}),!1)),v.addEventListener("abort",(function(){r({type:d.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:v,extraInfo:{elapse:(new Date).getTime()-i,httpCode:v.status||-1,errDesc:"Request Abort",url:g}})}),!1),v.addEventListener("error",(function(){r({type:d.WEBIM_UPLOADFILE_ERROR,data:v,extraInfo:{elapse:(new Date).getTime()-i,httpCode:v.status||-1,errDesc:"request error",url:g}})}),!1),v.addEventListener("load",(function(){try{var e=JSON.parse(v.responseText);if(200!==v.status)return r({type:d.WEBIM_UPLOADFILE_ERROR,data:e,extraInfo:{elapse:(new Date).getTime()-i,httpCode:v.status||-1,errDesc:"part upload failed",url:g}}),!1;try{n(W(W({},e),{extraInfo:{elapse:(new Date).getTime()-i,httpCode:v.status||-1,url:g}}))}catch(t){r({type:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:t,extraInfo:{elapse:(new Date).getTime()-i,httpCode:v.status||-1,errDesc:"part upload failed",url:g}})}}catch(t){r({type:d.WEBIM_UPLOADFILE_ERROR,data:v.responseText,extraInfo:{elapse:(new Date).getTime()-i,httpCode:v.status||-1,errDesc:"part upload failed",url:g}})}}),!1);var y=new FormData;y.append("part_file",f),y.append("part_number",h),v.open("PUT",g),v.setRequestHeader("restrict-access","true"),v.setRequestHeader("Accept","*/*"),v.setRequestHeader("Authorization","Bearer "+u),v.send(y)}))}function q(e){var t=e.uuid,n=e.thumbnailHeight,r=e.thumbnailWidth,o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c="".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/sdk/chatfiles/part-upload/").concat(t,"?restrict-access=true");r&&(c+="&thumbnail-width=".concat(r)),n&&(c+="&thumbnail-height=".concat(n));var l={url:c,dataType:"json",type:"POST",headers:{Authorization:"Bearer "+s}};return G.debug("Call multipartComplete"),te.call(this,l,y.SDK_INTERNAL)}function z(e){var t=e.uuid,n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/sdk/chatfiles/part-upload/").concat(t),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+a}};return G.debug("Call multipartAbort"),te.call(this,i,y.SDK_INTERNAL)}var K=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},J=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},X=function(){function e(e,t){var n=this;this.handleUploadProgress=function(e,t){var r,o;if(e.total){n.progressArr[t]=e.loaded;var a=n.progressArr.reduce((function(e,t){return e+t}),0);null===(o=(r=n.options).onFileUploadProgress)||void 0===o||o.call(r,{isTrusted:e.isTrusted,type:e.type,loaded:a>n.file.size?n.file.size:a,total:n.file.size,lengthComputable:e.lengthComputable})}},this.uuid="",this.pool=[],this.progressArr=[],this.connection=e,this.options=t,this.partSize=j,this.file=t.file,this.init(),this.rpt=this.connection.dataReport.geOperateFun({operationName:y.REST_UPLOAD_FILE_IN_PARTS})}return e.prototype.init=function(){var e,t,n,r;return K(this,void 0,void 0,(function(){var o,a,i,s,c,l,u,p,h,f,m,g,v,y,E;return J(this,(function(T){switch(T.label){case 0:return T.trys.push([0,4,,6]),[4,V.call(this.connection)];case 1:return o=T.sent(),a=o.data||{},i=a.fileMaxSize,s=void 0===i?0:i,c=a.partMinSize,l=void 0===c?j:c,u=a.uuid,p=void 0===u?"":u,h=o.extraInfo,g=h.elapse,v=h.httpCode,E=h.url,this.partSize=l,this.uuid=p,H.size=l,G.debug("multipartInit success","uuid: ".concat(p),"fileMaxSize: ".concat(s),"partMinSize: ".concat(l)),this.file.size>s?[4,this.multipartAbort()]:[3,3];case 2:return T.sent(),null===(t=(e=this.options).onFileUploadError)||void 0===t||t.call(e,{code:d.WEBIM_UPLOADFILE_ERROR,message:"The file size exceeds the maximum limit"}),[2];case 3:return this.rpt({data:{requestUrl:E,requestName:_.REST_INIT_UPLOAD_TASK_IN_PARTS,requestElapse:g,requestMethod:"POST",isSuccess:1,code:v}}),this.upload(),[3,6];case 4:return f=T.sent(),m=(null==f?void 0:f.extraInfo)||{},g=m.elapse,v=m.httpCode,y=m.errDesc,E=m.url,this.rpt({data:{requestUrl:E,requestName:_.REST_INIT_UPLOAD_TASK_IN_PARTS,requestElapse:g,requestMethod:"POST",isSuccess:0,codeDesc:y,code:v}}),[4,this.multipartAbort()];case 5:return T.sent(),null===(r=null===(n=this.options)||void 0===n?void 0:n.onInitFail)||void 0===r||r.call(n),[3,6];case 6:return[2]}}))}))},e.prototype.upload=function(){var e,t,n;return K(this,void 0,void 0,(function(){var r,o,a,i,s,c,l=this;return J(this,(function(u){switch(u.label){case 0:(new FileReader).readAsArrayBuffer(this.file),r=this.file.size,o=Math.ceil(r/this.partSize),u.label=1;case 1:u.trys.push([1,7,,9]),a=function(t){var n,o,a,s;return J(this,(function(c){switch(c.label){case 0:return n=t*i.partSize,o=Math.min(r,n+i.partSize),a=null===(e=i.file)||void 0===e?void 0:e.slice(n,o),(s=$.call(i.connection,{uuid:i.uuid,partNumber:"".concat(t+1),part:a,onProgress:function(e){l.handleUploadProgress(e,t)}})).then((function(e){var t=(null==e?void 0:e.extraInfo)||{},n=t.elapse,r=t.httpCode,o=t.url;l.rpt({data:{requestUrl:o,requestName:_.REST_UPLOAD_PART,requestElapse:n,isSuccess:1,requestMethod:"PUT",code:r}}),l.handleTask(s)})),s.catch((function(e){var t=(null==e?void 0:e.extraInfo)||{},n=t.elapse,r=t.httpCode,o=t.url,a=t.errDesc;l.rpt({data:{requestUrl:o,requestName:_.REST_UPLOAD_PART,requestElapse:n,isSuccess:0,requestMethod:"PUT",code:r,codeDesc:a}}),delete e.extraInfo})),i.pool.push(s),4!==i.pool.length?[3,2]:[4,Promise.race(i.pool)];case 1:c.sent(),c.label=2;case 2:return[2]}}))},i=this,s=0,u.label=2;case 2:return s<o?[5,a(s)]:[3,5];case 3:u.sent(),u.label=4;case 4:return s++,[3,2];case 5:return[4,Promise.all(this.pool)];case 6:return u.sent(),this.multipartComplete(),[3,9];case 7:return c=u.sent(),[4,this.multipartAbort()];case 8:return u.sent(),this.rpt({data:{isLastApi:1,isSuccess:0}}),null===(n=(t=this.options).onFileUploadError)||void 0===n||n.call(t,c),[3,9];case 9:return[2]}}))}))},e.prototype.multipartComplete=function(){var e,t,n,r;return K(this,void 0,void 0,(function(){var o,a,i,s,c,l,u,d,p,h,f;return J(this,(function(m){switch(m.label){case 0:return m.trys.push([0,2,,3]),o=this.options.thumbnailInfo||{},a=o.width,i=o.height,[4,q.call(this.connection,{uuid:this.uuid,thumbnailHeight:i,thumbnailWidth:a})];case 1:return s=m.sent(),c=(null==s?void 0:s.extraInfo)||{},d=c.elapse,p=c.httpCode,f=c.url,this.rpt({data:{requestUrl:f,requestName:_.REST_COMPLETE_UPLOAD_PART,requestElapse:d,requestMethod:"POST",isSuccess:1,code:p}}),this.rpt({data:{isLastApi:1,isSuccess:1}}),null===(t=(e=this.options).onFileUploadComplete)||void 0===t||t.call(e,s),[3,3];case 2:return l=m.sent(),u=(null==l?void 0:l.extraInfo)||{},d=u.elapse,p=u.httpCode,h=u.errDesc,f=u.url,this.rpt({data:{requestUrl:f,requestName:_.REST_COMPLETE_UPLOAD_PART,requestElapse:d,requestMethod:"POST",isSuccess:0,codeDesc:h,code:p}}),this.rpt({data:{isLastApi:1,isSuccess:0}}),null===(r=(n=this.options).onFileUploadError)||void 0===r||r.call(n,l),[3,3];case 3:return[2]}}))}))},e.prototype.multipartAbort=function(){return K(this,void 0,void 0,(function(){var e,t,n,r,o,a,i,s;return J(this,(function(c){switch(c.label){case 0:if(!this.uuid)return[2];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,z.call(this.connection,{uuid:this.uuid})];case 2:return e=c.sent(),t=(null==e?void 0:e.extraInfo)||{},o=t.elapse,a=t.httpCode,s=t.url,this.rpt({data:{requestUrl:s,requestName:_.REST_ABORT_UPLOAD_PART,requestElapse:o,requestMethod:"DELETE",isSuccess:1,code:a}}),[3,4];case 3:return n=c.sent(),r=(null==n?void 0:n.extraInfo)||{},o=r.elapse,a=r.httpCode,i=r.errDesc,s=r.url,this.rpt({data:{requestUrl:s,requestName:_.REST_ABORT_UPLOAD_PART,requestElapse:o,requestMethod:"DELETE",isSuccess:0,codeDesc:i,code:a}}),[3,4];case 4:return[2]}}))}))},e.prototype.handleTask=function(e){var t=this.pool.findIndex((function(t){return t===e}));this.pool.splice(t,1)},e}(),Y=X,Q=function(e){var t,n,r=this,o=(new Date).getTime(),a=e.apiUrl,i=e.orgName,s=e.appName,c=e.operateName,l=e.accessToken,u=e.uploadUrl||"".concat(a,"/").concat(i,"/").concat(s,"/chatfiles"),p=function(t){var n=(new Date).getTime()-o;r.dataReport&&c&&[y.UPLOAD_MSG_ATTACH,y.UPLOAD_CHATROOM_FILE,y.UPLOAD_GROUP_FILE].includes(c)&&r.dataReport.geOperateFun({operationName:c})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:c,requestElapse:n,requestUrl:u,code:(null==h?void 0:h.status)||0,codeDesc:"upload file error"}}),e.onFileUploadError&&e.onFileUploadError(t)},h=new XMLHttpRequest;h.upload&&(null===(n=(t=h.upload).addEventListener)||void 0===n||n.call(t,"progress",e.onFileUploadProgress||ee,!1)),h.addEventListener("abort",e.onFileUploadCanceled||ee,!1),h.addEventListener("error",(function(e){p({type:d.WEBIM_UPLOADFILE_ERROR,data:h})}),!1),h.addEventListener("load",(function(t){try{var n=JSON.parse(h.responseText);if(400===h.status)return p({type:d.WEBIM_UPLOADFILE_ERROR,data:n}),!1;try{a=n,i=(new Date).getTime()-o,r.dataReport&&c&&[y.UPLOAD_MSG_ATTACH,y.UPLOAD_CHATROOM_FILE,y.UPLOAD_GROUP_FILE].includes(c)&&r.dataReport.geOperateFun({operationName:c})({isEndApi:!0,data:{isSuccess:(null==a?void 0:a.error)?0:1,requestMethod:"POST",requestName:c,requestElapse:i,requestUrl:u,code:h.status,codeDesc:(null==a?void 0:a.error_description)||""}}),e.onFileUploadComplete&&e.onFileUploadComplete(a)}catch(a){p({type:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,data:a})}}catch(a){p({type:d.WEBIM_UPLOADFILE_ERROR,data:h.responseText})}var a,i}),!1),h.open("POST",u),h.setRequestHeader("restrict-access","true"),h.setRequestHeader("Accept","*/*"),h.setRequestHeader("Authorization","Bearer "+l);var f=new FormData;f.append("file",e.file.data),e.thumbnailWidth&&f.append("thumbnail-width",e.thumbnailWidth+""),e.thumbnailHeight&&f.append("thumbnail-height",e.thumbnailHeight+""),h.send(f)},Z=function(){return Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Z.apply(this,arguments)},ee=function(){};function te(e,t){var n,r=this;return ce().platform===ie.WEB?new Promise((function(t,r){var o=e.dataType||"text",a=e.success||ee,i=e.error||ee,s=new XMLHttpRequest;s.ontimeout=function(){r({type:d.REQUEST_TIMEOUT,message:"Request Timeout",errorType:"timeout_error",xhr:s})},s.onerror=function(){r({type:d.REQUEST_UNKNOWN,message:"Request Unknow Error",errorType:"onerror",xhr:s})},s.onabort=function(){r({type:d.REQUEST_ABORT,message:"Request Abort",errorType:"onabort",xhr:s})},s.onreadystatechange=function(){if(4===s.readyState){var e=(new Date).getTime()-n,c=s.status||0,l={elapse:e,httpCode:c};if(200===c){fe.ajaxUnconventionalErrorTimes=0;try{switch(o){case"text":return a(s.responseText),void t(s.responseText);case"json":var u=JSON.parse(s.responseText);return u.extraInfo=l,a(u),void t(u);case"xml":return s.responseXML&&s.responseXML.documentElement?(a(s.responseXML.documentElement),void t(s.responseXML.documentElement)):(i({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:s.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}),void r({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:s.responseText,message:"XHR.responseXML is null or XHR.responseXML.documentElement is null"}));default:i({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:s.responseText,message:"Invalid dataType"}),r({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:s.responseText,message:"Invalid dataType"})}return t(s.response||s.responseText),void a(s.response||s.responseText,s)}catch(p){r(p)}return}[400,401,403,404,429,500,503].includes(c)||(G.debug("rest api request fail status:",c),fe.ajaxUnconventionalErrorTimes++),R(s,r,i,e)}0===s.readyState&&(i({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:s.responseText,message:"Request not initialized"}),r({type:d.WEBIM_CONNCTION_AJAX_ERROR,data:s.responseText,message:"Request not initialized"}))},e.responseType&&s.responseType&&(s.responseType=e.responseType),e.mimeType&&s.overrideMimeType(e.mimeType);var c=e.type||"POST",l=e.data||null,u="";if("get"===c.toLowerCase()&&l){for(var p in l)l.hasOwnProperty(p)&&(u+=p+"="+l[p]+"&");u=u?u.slice(0,-1):u,e.url+=(e.url.indexOf("?")>0?"&":"?")+(u?u+"&":u)+"_v="+(new Date).getTime(),l=null,u=""}n=(new Date).getTime(),s.open(c,e.url);var h=e.headers||{};for(var f in h["Content-Type"]||(h["Content-Type"]="application/json"),h)h.hasOwnProperty(f)&&s.setRequestHeader(f,h[f]);s.send(l)})).then((function(n){return r.dataReport&&t&&t!==y.SDK_INTERNAL&&r.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:Z({isSuccess:1,requestUrl:e.url,requestName:t,requestMethod:e.type},pe(n.extraInfo))}),t===y.SDK_INTERNAL&&(n.extraInfo.url=e.url),t!==y.SDK_INTERNAL&&delete n.extraInfo,"Object"===ne(n)?Z(Z({},n),{type:d.REQUEST_SUCCESS}):{data:n,type:d.REQUEST_SUCCESS}})).catch((function(n){throw r.dataReport&&t&&t!==y.SDK_INTERNAL&&r.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:Z({isSuccess:0,requestUrl:e.url,requestName:t,requestMethod:e.type},pe(n.extraInfo))}),t===y.SDK_INTERNAL&&(n.extraInfo.url=e.url),t!==y.SDK_INTERNAL&&delete n.extraInfo,n})):re.call(this,e,t)}function ne(e){return Object.prototype.toString.call(e).slice(8,-1)}function re(e,t){var n=this;return new Promise((function(t,n){var r=e.success||ee,o=e.error||ee,a=e.type||"POST",i=e.data||null,s="",c=(new Date).getTime(),l=fe.getEnvInfo();if("get"===a.toLowerCase()&&i){for(var u in i)i.hasOwnProperty(u)&&(s+=u+"="+i[u]+"&");s=s?s.slice(0,-1):s,e.url+=(e.url.indexOf("?")>0?"&":"?")+(s?s+"&":s)+"_v="+(new Date).getTime(),i=null,s=""}var d={url:e.url,data:e.data,method:a,headers:{},success:function(e){var a,i,s,l,u,d={elapse:(new Date).getTime()-c,httpCode:Number((null===(a=e.statusCode)||void 0===a?void 0:a.toString())||(null===(i=e.status)||void 0===i?void 0:i.toString())),errDesc:(null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.error_description)||""};if("200"===(null===(l=e.statusCode)||void 0===l?void 0:l.toString())||"200"===(null===(u=e.status)||void 0===u?void 0:u.toString())){e.data.extraInfo=d;var p=e.data;r(p),t(p)}else e.extraInfo=d,o(p=e),n(p)},complete:function(){},fail:function(e){var t={elapse:(new Date).getTime()-c,httpCode:A,errDesc:"request:fail"};e.extraInfo=t,e.data={error:"request:fail",error_description:"request:fail"},o(e),n(e)}};if("zfb"===l.platform||"dd"===l.platform?d.headers=e.headers:d.header=e.headers,"dd"===l.platform)return dd.httpRequest(d);l.global.request(d)})).then((function(r){return n.dataReport&&t&&t!==y.SDK_INTERNAL&&n.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:Z({isSuccess:1,requestUrl:e.url,requestName:t,requestMethod:e.type},pe(r.extraInfo))}),t!==y.SDK_INTERNAL&&delete r.extraInfo,"Object"===ne(r)?Z(Z({},r),{type:d.REQUEST_SUCCESS}):{data:r,type:d.REQUEST_SUCCESS}})).catch((function(r){throw n.dataReport&&t&&t!==y.SDK_INTERNAL&&n.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:Z({isSuccess:0,requestUrl:e.url,requestName:t,requestMethod:e.type},pe(r.extraInfo))}),t!==y.SDK_INTERNAL&&delete r.extraInfo,r}))}var oe,ae,ie,se=(oe=function(e,t){var n=ce();if(n.platform!==ie.WEB){var r=n.global,o=function(n){n.isConnected?e():t()};r.offNetworkStatusChange&&r.offNetworkStatusChange(o),r.onNetworkStatusChange&&r.onNetworkStatusChange(o)}else"undefined"!=typeof addEventListener&&(window.addEventListener("online",e),window.addEventListener("offline",t))},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!oe)return ae;ae=oe.apply(void 0,e),oe=null});function ce(){return"undefined"!=typeof swan&&le(swan)?{platform:ie.BAIDU,global:swan}:"undefined"!=typeof tt&&le(tt)?{platform:ie.TT,global:tt}:"undefined"!=typeof dd&&le(dd)?{platform:ie.DD,global:dd}:"undefined"!=typeof my&&le(my)?{platform:ie.ZFB,global:my}:"undefined"!=typeof wx&&le(wx)?{platform:ie.WX,global:wx}:"undefined"!=typeof qq&&le(qq)?{platform:ie.QQ,global:qq}:"undefined"!=typeof uni&&le(uni)?{platform:ie.UNI,global:uni}:"undefined"!=typeof window&&window.WebSocket?{platform:ie.WEB,global:window}:{platform:ie.NODE,global:n.g||{}}}function le(e){for(var t=["canIUse","getSystemInfo"],n=0,r=t.length;n<r;n++)if(!e[t[n]])return!1;return!0}function ue(e,t){var n,r,o,a=this,i=e.accessToken,s=e.appKey,c=null===(r=null===(n=null==e?void 0:e.file)||void 0===n?void 0:n.data)||void 0===r?void 0:r.size,l=[],u="",p="";if(i)if(s&&(l=s.split("#"),u=l[0],p=l[1]),u||p)if(c<=0)e.onFileUploadError&&e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,message:"fileSize must be greater than 0"});else if(e.uploadUrl)Q.call(this,Z(Z({},e),{orgName:u,appName:p,operateName:t}));else{var h=H.size||F;this.uploadPartEnable&&c>1.5*h?new Y(this,{file:null===(o=null==e?void 0:e.file)||void 0===o?void 0:o.data,onFileUploadProgress:e.onFileUploadProgress||ee,onFileUploadComplete:e.onFileUploadComplete||ee,onFileUploadError:e.onFileUploadError||ee,onFileUploadCanceled:e.onFileUploadCanceled||ee,onInitFail:function(){Q.call(a,Z(Z({},e),{orgName:u,appName:p,operateName:t}))},thumbnailInfo:{width:e.thumbnailWidth,height:e.thumbnailHeight}}):Q.call(this,Z(Z({},e),{orgName:u,appName:p,operateName:t}))}else e.onFileUploadError&&e.onFileUploadError({type:d.WEBIM_UPLOADFILE_ERROR,message:"AppKey illegal"});else e.onFileUploadError&&e.onFileUploadError({type:d.WEBIM_UPLOADFILE_NO_LOGIN,message:"AccessToken cannot be empty"})}function de(e,t){e.onFileDownloadComplete=e.onFileDownloadComplete||ee,e.onFileDownloadError=e.onFileDownloadError||ee;var n=(new Date).getTime(),r=new XMLHttpRequest,o=this;r.addEventListener("load",(function(a){var i=(new Date).getTime()-n;o.dataReport&&t&&t===y.DOWN_GROUP_FILE&&o.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:{isSuccess:200===r.status?1:0,requestMethod:"POST",requestName:t,requestElapse:i,requestUrl:null==e?void 0:e.url,code:r.status,codeDesc:200===r.status?"":"download file error"}}),e.onFileDownloadComplete&&e.onFileDownloadComplete(r.response)}),!1),r.addEventListener("error",(function(a){var i=(new Date).getTime()-n;o.dataReport&&t&&t===y.DOWN_GROUP_FILE&&o.dataReport.geOperateFun({operationName:t})({isEndApi:!0,data:{isSuccess:0,requestMethod:"POST",requestName:t,requestElapse:i,requestUrl:null==e?void 0:e.url,code:(null==r?void 0:r.status)||0,codeDesc:"download file error"}}),e.onFileDownloadError&&e.onFileDownloadError({type:d.WEBIM_DOWNLOADFILE_ERROR,id:e.id,xhr:r})}),!1);var a=e.method||"GET",i=e.responseType||"blob",s=e.mimeType||"text/plain; charset=x-user-defined";r.open(a,e.url),"undefined"!=typeof Blob?r.responseType=i:r.overrideMimeType(s);var c={"X-Requested-With":"XMLHttpRequest",Accept:"application/octet-stream","share-secret":e.secret,Authorization:"Bearer "+this.context.accessToken},l=e.headers||{};for(var u in l)c[u]=l[u];for(var u in c)c[u]&&r.setRequestHeader(u,c[u]);r.send(null)}function pe(e){void 0===e&&(e={});var t=e.elapse,n=void 0===t?0:t,r=e.httpCode,o=void 0===r?0:r,a=e.errDesc;return{requestElapse:n,code:o,codeDesc:void 0===a?"":a}}!function(e){e.WEB="web",e.WX="wx",e.QQ="qq",e.ZFB="zfb",e.DD="dd",e.TT="tt",e.BAIDU="baidu",e.QUICK_APP="quick_app",e.UNI="uni",e.NODE="node"}(ie||(ie={}));var he="localDeviceInfo",fe={autoIncrement:0,ajaxUnconventionalErrorTimes:0,ajax:te,getUniqueId:function(){this.autoIncrement?this.autoIncrement++:this.autoIncrement=1;var e=new Date,t=new Date(2010,1,1);return(e.getTime()-t.getTime()+this.autoIncrement).toString()},getFileUrl:function(e){var t={url:"",filename:"",filetype:"",data:{}},n="string"==typeof e?document.getElementById(e):e;if(window.URL.createObjectURL){if(!n.files)throw Error("this is not HTMLInputElement");var r=n.files;if(r.length>0){var o=r.item(0);t.data=o,t.url=window.URL.createObjectURL(o),t.filename=(null==o?void 0:o.name)||""}}else{if("string"!=typeof e)throw Error("in IE fileInputId must be string");o=document.getElementById(e).value,t.url=o;var a=o.lastIndexOf("/"),i=o.lastIndexOf("\\"),s=Math.max(a,i);t.filename=s<0?o:o.substring(s+1)}var c=t.filename.lastIndexOf(".");return-1!==c&&(t.filetype=t.filename.substring(c+1).toLowerCase()),t},uploadFile:ue,flow:function(e){for(var t=e.length,n=t;n--;)if("function"!=typeof e[n])throw new TypeError("Expected a function");return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=0,a=t?e[o].apply(this,n):n[0];++o<t;)a=e[o].call(this,a);return a}},listenNetwork:se,getEnvInfo:ce,wxRequest:re,parseDownloadResponse:function(e){if(!window||!window.URL)throw Error("parseDownloadResponse can be used in broswer only");return e&&e.type&&"application/json"===e.type||0>Object.prototype.toString.call(e).indexOf("Blob")?this.url+"?token=":window.URL.createObjectURL(e)},download:de,parseNotify:function(e){for(var t="",n=0;n<e.length;n++)t+="%"+e[n].toString(16);return JSON.parse(decodeURIComponent(t))},getExtraData:pe,formatAttachUrl:function(e){return e&&"string"==typeof e?"".concat(this.apiUrl).concat(e.substr(e.indexOf("/",9))):""},Uint8ArrayToString:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},getLocalDeviceInfo:function(){var e,t=fe.getEnvInfo(),n=t.platform,r="";n!==ie.NODE&&n!==ie.QUICK_APP||(r="");try{n===ie.WEB?r=localStorage.getItem(he)||"":n===ie.WX||n===ie.QQ||n===ie.TT||n===ie.BAIDU||n===ie.UNI?r=t.global.getStorageSync(he)||"":n!==ie.ZFB&&n!==ie.DD||(r=(null===(e=t.global.getStorageSync({key:he}))||void 0===e?void 0:e.data)||"")}catch(o){G.debug("get local deviceInfo failed: ",o)}return G.debug("local devInfo",r),r},setLocalDeviceInfo:function(e){var t=fe.getEnvInfo(),n=t.platform;n!==ie.NODE&&n!==ie.QUICK_APP&&(n===ie.WEB?localStorage.setItem(he,e):t.global.setStorage({key:he,data:e,success:function(e){G.debug("set local deviceInfo success: ",e)},fail:function(e){G.debug("set local deviceInfo failed: ",e)}}))},getDevicePlatform:function(e){return e.platform===ie.WX&&"undefined"!=typeof uni&&le(uni)?ie.UNI:e.platform}},me=n(887),ge=n.n(me),ve=function(){return ve=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ve.apply(this,arguments)},ye={chat:"singleChat",chatroom:"chatRoom",groupchat:"groupChat",singleChat:"singleChat",chatRoom:"chatRoom",groupChat:"groupChat"};function _e(e,t){var n,r,o,a=t||{},i=a.formatCustomExts,s=void 0===i||i,c=a.formatChatType,l=void 0!==c&&c,u=e.id,d=e.payload,p=e.timestamp,h=e.to,f=d.bodies&&d.bodies.length>0?d.bodies[0]:{},m={},g={},v=d.type?d.type:h.indexOf("@conference.easemob.com")>-1?"groupChat":"singleChat";v="chat"===v?"singleChat":v,l&&d.type&&(v=ye[d.type]);var y="";switch(f.type){case"txt":if(Object.prototype.hasOwnProperty.call(f,"subType")&&"sub_combine"===f.subType)y=He.call(this,{remotePath:null==f?void 0:f.url,secret:null==f?void 0:f.secret}),m={id:u,type:"combine",chatType:v,to:d.to,from:d.from,ext:d.ext,time:p,title:f.title||"",summary:f.summary||"",url:y||"",secret:f.secret||"",file_length:f.file_length||0,filename:f.filename||"",compatibleText:f.msg,combineLevel:f.combineLevel||0};else{var _=null===(n=null==d?void 0:d.meta)||void 0===n?void 0:n.edit_msg;if(m={id:u,type:"txt",chatType:v,msg:f.msg||"",to:d.to||"",from:d.from,time:p,ext:d.ext},_){var E=_.edit_time,T=_.operator,S=_.count;m.modifiedInfo={operationTime:E,operatorId:T,operationCount:S}}}break;case"img":y=this.useOwnUploadFun?null==f?void 0:f.url:He.call(this,{remotePath:null==f?void 0:f.url,secret:null==f?void 0:f.secret}),m={id:u,type:"img",chatType:v,to:d.to,from:d.from,time:p,ext:d.ext,width:(null===(r=f.size)||void 0===r?void 0:r.width)||0,height:(null===(o=f.size)||void 0===o?void 0:o.height)||0,thumb:this.useOwnUploadFun?"":"".concat(y,"&thumbnail=true"),thumb_secret:f.secret,secret:f.secret||"",url:y||"",file_length:f.file_length||0,file:{}};break;case"video":y=this.useOwnUploadFun?null==f?void 0:f.url:He.call(this,{remotePath:null==f?void 0:f.url,secret:null==f?void 0:f.secret}),m={id:u,type:"video",chatType:v,from:d.from,to:d.to,thumb:fe.formatAttachUrl.call(this,f.thumb),thumb_secret:f.thumb_secret||"",url:y||"",secret:f.secret||"",filename:f.filename,length:f.length||0,file:{},file_length:f.file_length||0,filetype:d.ext.file_type||"",ext:d.ext,time:p};break;case"loc":m={id:u,type:"loc",chatType:v,from:d.from,to:d.to,buildingName:f.buildingName||"",addr:f.addr,lat:f.lat,lng:f.lng,ext:d.ext,time:p};break;case"audio":y=this.useOwnUploadFun?null==f?void 0:f.url:He.call(this,{remotePath:null==f?void 0:f.url,secret:null==f?void 0:f.secret}),m={id:u,type:"audio",chatType:v,from:d.from,to:d.to,secret:f.secret||"",ext:d.ext,time:p,url:y||"",file:{},filename:f.filename,length:f.length||0,file_length:f.file_length||0,filetype:d.ext.file_type||""};break;case"file":y=this.useOwnUploadFun?null==f?void 0:f.url:He.call(this,{remotePath:null==f?void 0:f.url,secret:null==f?void 0:f.secret}),m={id:u,type:"file",chatType:v,from:d.from,to:d.to,ext:d.ext,time:p,url:y||"",secret:f.secret||"",file:{},filename:f.filename||"",file_length:f.file_length||0,filetype:d.ext.file_type||""};break;case"cmd":m={id:u,type:"cmd",chatType:v,from:d.from,to:d.to,ext:d.ext,time:p,action:f.action||""};break;case"custom":var O=f.customExts||{};s&&f.customExts&&(O={},f.customExts.map((function(e){O=ve(ve({},O),e)}))),m={id:u,type:"custom",chatType:v,from:d.from,to:d.to,ext:d.ext,time:p,customEvent:f.customEvent||"",customExts:O};break;case"combine":y=He.call(this,{remotePath:null==f?void 0:f.url,secret:null==f?void 0:f.secret}),m={id:u,type:"combine",chatType:v,msg:f.msg||"",to:d.to||"",from:d.from,time:p,ext:d.ext,title:f.title||"",summary:f.summary||"",url:y||"",compatibleText:f.text,combineLevel:f.combineLevel||0,secret:f.secret||"",filename:f.filename||"",file_length:f.file_length||0};break;default:G.error("unexpected message: ".concat(e))}if(d.msgConfig&&(g.msgConfig=d.msgConfig),null==d?void 0:d.meta){var R=d.meta;R.thread&&(g.chatThread={messageId:R.thread.msg_parent_id,parentId:R.thread.muc_parent_id,chatThreadName:R.thread.thread_name}),R.reaction&&(g.reactions=R.reaction),R.translations&&(g.translations=R.translations)}return ve(ve({},m),g)}var Ee,Te=function(e){return"".concat(e.conversationType,"-").concat(e.conversationId)},Se=function(e){var t=e.isRecallSelfMsg,n=e.conversation,r=e.recalledMsgTime,o=n.unReadCount,a=void 0===o?0:o,i=n.unreadCountClearTimestamp;return t||(void 0===i?0:i)>r?a:a&&a>0?a-1:0},Oe=function(e){var t,n=0;if(0===e.length)return n;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n},Re=function(){function e(e){var t=e.id;this.id=t,this.type=e.type}return e.prototype.set=function(e){this.body={id:this.id,ackId:e.id,type:"read",to:e.to,from:e.from||"",chatType:e.chatType}},e.create=function(e){return{id:fe.getUniqueId(),chatType:e.chatType,ackId:e.id,type:"read",to:e.to,from:e.from||"",ackContent:e.ackContent,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly}},e}(),be=function(){function e(e){this.id=e.id,this.type=e.type}return e.prototype.set=function(e){this.body={id:this.id,ackId:e.ackId,type:"delivery",to:e.to,from:e.from||""}},e.create=function(e){return{id:fe.getUniqueId(),ackId:e.ackId,type:"delivery",to:e.to,from:e.from||"",isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly}},e}(),Ie=function(){function e(e){var t=e.type,n=e.id;this.id=n,this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"channel",to:e.to,from:e.from||"",time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:fe.getUniqueId(),type:"channel",chatType:e.chatType||"singleChat",to:e.to,from:e.from||"",time:Date.now(),isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly}},e}(),Ce=function(){function e(e){var t=e.type,n=e.id||fe.getUniqueId();this.id=n,this.type=t,this.value=""}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"txt",to:e.to,msg:e.msg,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),isChatThread:e.isChatThread},this.value=e.msg},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){var t,n;return(null===(t=e.msgConfig)||void 0===t?void 0:t.languages)&&Array.isArray(null===(n=e.msgConfig)||void 0===n?void 0:n.languages),{type:"txt",id:fe.getUniqueId(),msg:e.msg,to:e.to,from:e.from||"",chatType:e.chatType,ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),Ne=function(){function e(e){var t=e.type,n=e.id;this.id=n||fe.getUniqueId(),this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"cmd",to:e.to,action:e.action,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:fe.getUniqueId(),type:"cmd",to:e.to,from:e.from||"",chatType:e.chatType||"singleChat",action:e.action,time:Date.now(),ext:e.ext,msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),Ae=function(){function e(e){var t=e.type,n=e.id||fe.getUniqueId();this.id=n,this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"custom",to:e.to,customEvent:e.customEvent,customExts:e.customExts,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:fe.getUniqueId(),chatType:e.chatType||"singleChat",type:"custom",to:e.to,customEvent:e.customEvent,customExts:e.customExts,from:e.from||"",ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),Me=function(){function e(e){var t=e.type,n=e.id;this.id=n||fe.getUniqueId(),this.type=t}return e.prototype.set=function(e){this.body={id:this.id,chatType:e.chatType||"singleChat",type:"loc",to:e.to,addr:e.addr,buildingName:e.buildingName,lat:e.lat,lng:e.lng,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now()}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:fe.getUniqueId(),chatType:e.chatType||"singleChat",type:"loc",to:e.to,addr:e.addr,buildingName:e.buildingName,lat:e.lat,lng:e.lng,from:e.from||"",ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),we=function(){function e(e){var t=e.type,n=e.id||fe.getUniqueId();this.id=n,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&fe.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"img",file:e.file,width:e.width,height:e.height,to:e.to,from:e.from||"",roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:fe.getUniqueId(),chatType:e.chatType,type:"img",url:e.url,width:e.width,height:e.height,file:e.file,to:e.to,from:e.from||"",ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,file_length:e.file_length,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList,thumbnailWidth:e.thumbnailWidth,thumbnailHeight:e.thumbnailHeight}},e}(),ke=function(){function e(e){var t=e.type,n=e.id||fe.getUniqueId();this.id=n,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&fe.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"audio",file:e.file,filename:e.filename,length:e.length,file_length:e.file_length,fileInputId:e.fileInputId,to:e.to,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:fe.getUniqueId(),chatType:e.chatType,type:"audio",filename:e.filename,length:e.length,file:e.file,to:e.to,from:e.from||"",ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,file_length:e.file_length,msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),Le=function(){function e(e){var t=e.type,n=e.id;this.id=n,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&fe.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"video",file:e.file,filename:e.filename,length:e.length,file_length:e.file_length,fileInputId:e.fileInputId,to:e.to,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),apiUrl:e.apiUrl,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:fe.getUniqueId(),chatType:e.chatType||"singleChat",type:"video",file:e.file,filename:e.filename,length:e.length,file_length:e.file_length,fileInputId:e.fileInputId,to:e.to,from:e.from||"",ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),Pe=function(){function e(e){var t=e.type,n=e.id;this.id=n,this.type=t}return e.prototype.set=function(e){e.file=e.file||e.fileInputId&&fe.getFileUrl(e.fileInputId),this.body={id:this.id,chatType:e.chatType||"singleChat",type:"file",file:e.file,filename:e.filename,fileInputId:e.fileInputId,to:e.to,from:e.from,roomType:e.roomType,success:e.success,fail:e.fail,ext:e.ext,time:Date.now(),onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,isChatThread:e.isChatThread}},e.prototype.setChatType=function(e){return!!this.body&&(this.body.chatType=e,!0)},e.prototype.setGroup=function(e){return!!this.body&&(this.body.group=e,!0)},e.create=function(e){return{id:fe.getUniqueId(),chatType:e.chatType||"singleChat",type:"file",file:e.file,filename:e.filename,fileInputId:e.fileInputId,file_length:e.file_length,to:e.to,from:e.from||"",ext:e.ext,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete,onFileUploadProgress:e.onFileUploadProgress,body:e.body,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList}},e}(),xe=function(){function e(e){var t=e.type,n=e.id||fe.getUniqueId();this.id=n,this.type=t,this.value=""}return e.create=function(e){return{type:"combine",id:fe.getUniqueId(),to:e.to,from:e.from||"",chatType:e.chatType,ext:e.ext,time:Date.now(),msgConfig:e.msgConfig,isChatThread:e.isChatThread,priority:e.priority,deliverOnlineOnly:e.deliverOnlineOnly,receiverList:e.receiverList,compatibleText:e.compatibleText,title:e.title,summary:e.summary,messageList:e.messageList,onFileUploadError:e.onFileUploadError,onFileUploadComplete:e.onFileUploadComplete}},e}(),Ue=function(){function e(t,n){return this.type=t,this.id=n||fe.getUniqueId(),e.createOldMsg({type:t,id:this.id})}return e.createOldMsg=function(e){switch(e.type){case"read":return new Re({type:"read",id:e.id});case"delivery":return new be({type:"delivery",id:e.id});case"channel":return new Ie({type:"channel",id:e.id});case"txt":return new Ce({type:"txt",id:e.id});case"cmd":return new Ne({type:"cmd",id:e.id});case"custom":return new Ae({type:"custom",id:e.id});case"loc":return new Me({type:"loc",id:e.id});case"img":return new we({type:"img",id:e.id});case"audio":return new ke({type:"audio",id:e.id});case"video":return new Le({type:"video",id:e.id});case"file":return new Pe({type:"file",id:e.id})}},e.create=function(e){return"txt"!==(n=e).type||"version"in n?"img"!==(t=e).type||"version"in t?function(e){return"cmd"===e.type&&!("version"in e)}(e)?Ne.create(e):function(e){return"file"===e.type&&!("version"in e)}(e)?Pe.create(e):function(e){return"audio"===e.type&&!("version"in e)}(e)?ke.create(e):function(e){return"video"===e.type&&!("version"in e)}(e)?Le.create(e):function(e){return"custom"===e.type&&!("version"in e)}(e)?Ae.create(e):function(e){return"loc"===e.type&&!("version"in e)}(e)?Me.create(e):function(e){return"channel"===e.type&&!("version"in e)}(e)?Ie.create(e):function(e){return"delivery"===e.type&&!("version"in e)}(e)?be.create(e):function(e){return"read"===e.type&&!("version"in e)}(e)?Re.create(e):function(e){return"combine"===e.type&&!("version"in e)}(e)?xe.create(e):{}:we.create(e):Ce.create(e);var t,n},e.prototype.set=function(e){},e}();!function(e){e[e.CREATE=0]="CREATE",e[e.FAIL=1]="FAIL",e[e.INPROGRESS=2]="INPROGRESS",e[e.SUCCESS=3]="SUCCESS"}(Ee||(Ee={}));var De=function(){return De=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},De.apply(this,arguments)},Be=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Ge=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},je={0:"TEXT",1:"IMAGE",2:"VIDEO",3:"LOCATION",4:"VOICE",5:"FILE",6:"COMMAND",7:"CUSTOM",8:"COMBINE"};function Fe(e){for(var t={},n=0;n<e.length;n++)if(8===e[n].type)t[e[n].key]=JSON.parse(e[n].stringValue);else if(7===e[n].type)t[e[n].key]=e[n].stringValue;else if(6===e[n].type)t[e[n].key]=e[n].doubleValue;else if(5===e[n].type)t[e[n].key]=e[n].floatValue;else if(1===e[n].type){var r=e[n].varintValue,o=new(m())(r.low,r.high,r.unsigned).toString();t[e[n].key]=0!==Number(o)}else 2!==e[n].type&&3!==e[n].type&&4!==e[n].type||(r=e[n].varintValue,o=new(m())(r.low,r.high,r.unsigned).toString(),t[e[n].key]=Number(o));return t}function He(e){var t="";return e.remotePath&&(t=fe.formatAttachUrl.call(this,e.remotePath),e.remotePath.includes("?em-redirect")||(t="".concat(t,"?em-redirect=true"),e.secretKey&&(t="".concat(t,"&share-secret=").concat(e.secretKey)))),t}function We(e,t){var n,r,o=t.from&&t.from.name;if(o===this.context.userId){var a=null===(n=null==e?void 0:e.from)||void 0===n?void 0:n.clientResource;o===(null===(r=null==t?void 0:t.to)||void 0===r?void 0:r.name)&&a&&a!==this.clientResource&&(o="".concat(o,"/").concat(a))}return o}function Ve(e,t){var n,r=t.to&&t.to.name;return(null===(n=null==e?void 0:e.to)||void 0===n?void 0:n.clientResource)&&(r="".concat(r,"/").concat(e.to.clientResource)),r}function $e(e){var t,n,r,o,a,i,s,c,l,u,d,p,h,f,m,g,v,y,_,E,T,S,O,R,b,I,C;return Be(this,void 0,void 0,(function(){var N,A,M,w,k,L,P,x,U,D,B,j,F,H,W,V,$,q,z,K,J,X,Y,Q,Z,ee,te,ne,re,oe,ae,ie,se,ce,le,ue,de,pe,he,me,ge,ve,ye,Te,Se,Oe,Re,be,Ie,Ce,Ne,Ae;return Ge(this,(function(Me){switch(Me.label){case 0:switch(N=e.status,A=e.thirdMessage,M=e.msgBody,w=e.msgId,k=e.type,L=e.from,P=e.to,x=e.time,U=e.onlineState,D=e.chatType,B=e.ignoreCallback,j=e.priority,F=e.format,H=e.broadcast,W=void 0!==H&&H,V=e.isContentReplaced,$=void 0!==V&&V,q={},z={},K=N.errorCode>0,J=N.errorCode,X=N.reason,Y={},Q=[],Z=[],ee={},te="",ne=0,re=null,oe=null,A.ext&&(Y=Fe(A.ext)),A.meta&&"string"==typeof A.meta&&((ie=JSON.parse(A.meta)).reaction&&(Q=ie.reaction).forEach((function(e){e.isAddedBySelf=e.state,delete e.state})),ie.translations&&(Z=ie.translations),ie.edit_msg&&(se=ie.edit_msg,ce=se.count,le=se.operator,ue=se.edit_time,de=se.sender,pe=se.send_time,ee={operationTime:ue,operatorId:le,operationCount:ce},te=de,ne=pe),ie.thread&&"{}"!==JSON.stringify(ie.thread)&&(re={messageId:ie.thread.msg_parent_id,parentId:ie.thread.muc_parent_id,chatThreadName:ie.thread.thread_name}),ie.thread_overview&&"{}"!==JSON.stringify(ie.thread_overview)&&(oe={id:ie.thread_overview.id,parentId:ie.thread_overview.muc_parent_id,name:ie.thread_overview.name,lastMessage:ie.thread_overview.last_message&&"{}"!==JSON.stringify(ie.thread_overview.last_message)?_e.call(this,ie.thread_overview.last_message):null,createTimestamp:ie.thread_overview.create_timestamp,updateTimestamp:ie.thread_overview.update_timestamp,messageCount:ie.thread_overview.message_count||0})),M.type){case 0:return[3,1];case 1:return[3,7];case 2:return[3,10];case 3:return[3,13];case 4:return[3,16];case 5:return[3,19];case 6:return[3,22];case 7:return[3,23];case 8:return[3,26]}return[3,27];case 1:return Object.prototype.hasOwnProperty.call(M,"subType")&&0===M.subType?(ae=He.call(this,M),he={id:w,type:"combine",chatType:D,to:P,from:L,ext:Y,time:Number(x),onlineState:U,title:M.title||"",summary:M.summary||"",url:ae||"",secret:M.secretKey||"",file_length:M.fileLength||0,filename:M.displayName||"",compatibleText:M.text,combineLevel:M.combineLevel||0},q.msgConfig&&(he.msgConfig=q.msgConfig),Q.length>0&&(he.reactions=Q),re&&(he.chatThread=re),oe&&(he.chatThreadOverview=oe),"chatRoom"===D&&(he.priority=j,he.broadcast=W),$&&(he.isContentReplaced=$),z=he,B?[3,3]:[4,null===(n=null===(t=this._localCache)||void 0===t?void 0:t.getInstance())||void 0===n?void 0:n.storeMessage(he,Ee.SUCCESS)]):[3,4];case 2:Me.sent(),null===(r=this.eventHandler)||void 0===r||r.dispatch("onCombineMessage",he),Me.label=3;case 3:return[3,28];case 4:return!(q={id:w,type:k,contentsType:je[M.type],from:L,to:P,data:M.text,ext:Y,sourceMsg:M.text,time:x,msgConfig:A.msgConfig,onlineState:U}).msgConfig&&delete A.msgConfig,q.error=K,q.errorText=X,q.errorCode=J,!B&&this.onTextMessage&&this.onTextMessage(q),me={id:w,type:"txt",chatType:D,msg:M.text,to:P,from:L,ext:Y,time:Number(x),onlineState:U},q.msgConfig&&(me.msgConfig=q.msgConfig),Q.length>0&&(me.reactions=Q),re&&(me.chatThread=re),oe&&(me.chatThreadOverview=oe),Z.length>0&&(me.translations=Z),ee.operationCount>0&&(me.modifiedInfo=ee,A.type===st.EDIT&&(me.from=te,me.time=ne)),"chatRoom"===D&&(me.priority=j,me.broadcast=W),$&&(me.isContentReplaced=$),z=me,B?[3,6]:[4,null===(a=null===(o=this._localCache)||void 0===o?void 0:o.getInstance())||void 0===a?void 0:a.storeMessage(me,Ee.SUCCESS)];case 5:Me.sent(),null===(i=this.eventHandler)||void 0===i||i.dispatch("onTextMessage",me),Me.label=6;case 6:return[3,28];case 7:return ge=(null===(s=null==M?void 0:M.size)||void 0===s?void 0:s.width)||0,ve=(null===(c=null==M?void 0:M.size)||void 0===c?void 0:c.height)||0,ae=this.useOwnUploadFun?M.remotePath:He.call(this,M),!(q={id:w,type:k,contentsType:je[M.type],from:L,to:P,url:ae,secret:M.secretKey,filename:M.displayName,thumb:this.useOwnUploadFun?"":"".concat(ae,"&thumbnail=true"),thumb_secret:M.secretKey,file_length:M.fileLength||"",width:ge,height:ve,filetype:M.filetype||"",accessToken:this.token,ext:Y,time:x,msgConfig:A.msgConfig,onlineState:U}).delay&&delete q.delay,!q.msgConfig&&delete A.msgConfig,q.error=K,q.errorText=X,q.errorCode=J,!B&&this.onPictureMessage&&this.onPictureMessage(q),ye={id:w,type:"img",chatType:D,from:L,to:P,url:ae||"",width:ge,height:ve,secret:M.secretKey||"",thumb:this.useOwnUploadFun?"":"".concat(ae,"&thumbnail=true"),thumb_secret:M.secretKey,file_length:M.fileLength||0,ext:Y,time:Number(x),onlineState:U},q.msgConfig&&(ye.msgConfig=q.msgConfig),Q.length>0&&(ye.reactions=Q),re&&(ye.chatThread=re),oe&&(ye.chatThreadOverview=oe),"chatRoom"===D&&(ye.priority=j,ye.broadcast=W),$&&(ye.isContentReplaced=$),z=ye,B?[3,9]:[4,null===(u=null===(l=this._localCache)||void 0===l?void 0:l.getInstance())||void 0===u?void 0:u.storeMessage(ye,Ee.SUCCESS)];case 8:Me.sent(),null===(d=this.eventHandler)||void 0===d||d.dispatch("onImageMessage",ye),Me.label=9;case 9:return[3,28];case 10:return ae=this.useOwnUploadFun?M.remotePath:He.call(this,M),!(q={id:w,type:k,contentsType:je[M.type],from:L,to:P,url:ae,secret:M.secretKey,filename:M.displayName,length:M.duration||"",file_length:M.fileLength||"",filetype:M.filetype||"",accessToken:this.token||"",ext:Y,time:x,msgConfig:A.msgConfig,onlineState:U}).delay&&delete q.delay,!q.msgConfig&&delete A.msgConfig,q.error=K,q.errorText=X,q.errorCode=J,!B&&this.onVideoMessage&&this.onVideoMessage(q),Te={id:w,type:"video",chatType:D,from:L,to:P,url:ae,secret:M.secretKey,thumb:fe.formatAttachUrl.call(this,M.thumbnailRemotePath),thumb_secret:M.thumbnailSecretKey,filename:M.displayName,length:M.duration||0,file:{},file_length:M.fileLength||0,filetype:M.filetype||"",accessToken:this.token||"",ext:Y,time:Number(x),onlineState:U},q.msgConfig&&(Te.msgConfig=q.msgConfig),Q.length>0&&(Te.reactions=Q),re&&(Te.chatThread=re),oe&&(Te.chatThreadOverview=oe),"chatRoom"===D&&(Te.priority=j,Te.broadcast=W),$&&(Te.isContentReplaced=$),z=Te,B?[3,12]:[4,null===(h=null===(p=this._localCache)||void 0===p?void 0:p.getInstance())||void 0===h?void 0:h.storeMessage(Te,Ee.SUCCESS)];case 11:Me.sent(),null===(f=this.eventHandler)||void 0===f||f.dispatch("onVideoMessage",Te),Me.label=12;case 12:return[3,28];case 13:return!(q={id:w,type:k,contentsType:je[M.type],from:L,to:P,addr:M.address,buildingName:M.buildingName,lat:M.latitude,lng:M.longitude,ext:Y,time:x,msgConfig:A.msgConfig,onlineState:U}).delay&&delete q.delay,!q.msgConfig&&delete A.msgConfig,q.error=K,q.errorText=X,q.errorCode=J,!B&&this.onLocationMessage&&this.onLocationMessage(q),Se={id:w,type:"loc",chatType:D,from:L,to:P,buildingName:M.buildingName,addr:M.address,lat:M.latitude,lng:M.longitude,ext:Y,time:Number(x),onlineState:U},q.msgConfig&&(Se.msgConfig=q.msgConfig),Q.length>0&&(Se.reactions=Q),re&&(Se.chatThread=re),oe&&(Se.chatThreadOverview=oe),"chatRoom"===D&&(Se.priority=j,Se.broadcast=W),$&&(Se.isContentReplaced=$),z=Se,B?[3,15]:[4,null===(g=null===(m=this._localCache)||void 0===m?void 0:m.getInstance())||void 0===g?void 0:g.storeMessage(Se,Ee.SUCCESS)];case 14:Me.sent(),null===(v=this.eventHandler)||void 0===v||v.dispatch("onLocationMessage",Se),Me.label=15;case 15:return[3,28];case 16:return ae=this.useOwnUploadFun?M.remotePath:He.call(this,M),!(q={id:w,type:k,contentsType:je[M.type],from:L,to:P,url:ae,secret:M.secretKey,filename:M.displayName,file_length:M.fileLength||"",accessToken:this.token||"",ext:Y,length:M.duration,time:x,msgConfig:A.msgConfig,onlineState:U}).delay&&delete q.delay,!q.msgConfig&&delete A.msgConfig,q.error=K,q.errorText=X,q.errorCode=J,!B&&this.onAudioMessage&&this.onAudioMessage(q),Oe={id:w,type:"audio",chatType:D,from:L,to:P,url:ae,secret:M.secretKey,file:{},filename:M.displayName,length:M.duration||0,file_length:M.fileLength||0,filetype:M.filetype||"",accessToken:this.token||"",ext:Y,time:Number(x),onlineState:U},q.msgConfig&&(Oe.msgConfig=q.msgConfig),Q.length>0&&(Oe.reactions=Q),re&&(Oe.chatThread=re),oe&&(Oe.chatThreadOverview=oe),"chatRoom"===D&&(Oe.priority=j,Oe.broadcast=W),$&&(Oe.isContentReplaced=$),z=Oe,B?[3,18]:[4,null===(_=null===(y=this._localCache)||void 0===y?void 0:y.getInstance())||void 0===_?void 0:_.storeMessage(Oe,Ee.SUCCESS)];case 17:Me.sent(),null===(E=this.eventHandler)||void 0===E||E.dispatch("onAudioMessage",Oe),Me.label=18;case 18:return[3,28];case 19:return ae=this.useOwnUploadFun?M.remotePath:He.call(this,M),!(q={id:w,type:k,contentsType:je[M.type],from:L,to:P,url:ae,secret:M.secretKey,filename:M.displayName,file_length:M.fileLength,accessToken:this.token||"",ext:Y,time:x,msgConfig:A.msgConfig,onlineState:U}).delay&&delete q.delay,!q.msgConfig&&delete A.msgConfig,q.error=K,q.errorText=X,q.errorCode=J,!B&&this.onFileMessage&&this.onFileMessage(q),Re={id:w,type:"file",chatType:D,from:L,to:P,url:ae,secret:M.secretKey,file:{},filename:M.displayName,length:M.duration||0,file_length:M.fileLength||0,filetype:M.filetype||"",accessToken:this.token||"",ext:Y,time:Number(x),onlineState:U},q.msgConfig&&(Re.msgConfig=q.msgConfig),Q.length>0&&(Re.reactions=Q),re&&(Re.chatThread=re),oe&&(Re.chatThreadOverview=oe),"chatRoom"===D&&(Re.priority=j,Re.broadcast=W),$&&(Re.isContentReplaced=$),z=Re,B?[3,21]:[4,null===(S=null===(T=this._localCache)||void 0===T?void 0:T.getInstance())||void 0===S?void 0:S.storeMessage(Re,Ee.SUCCESS)];case 20:Me.sent(),null===(O=this.eventHandler)||void 0===O||O.dispatch("onFileMessage",Re),Me.label=21;case 21:return[3,28];case 22:return!(q={id:w,type:k,contentsType:je[M.type],from:L,to:P,action:M.action,ext:Y,time:x,msgConfig:A.msgConfig,onlineState:U}).msgConfig&&delete A.msgConfig,q.error=K,q.errorText=X,q.errorCode=J,!B&&this.onCmdMessage&&this.onCmdMessage(q),be={id:w,type:"cmd",chatType:D,from:L,to:P,action:M.action,ext:Y,time:Number(x),onlineState:U},q.msgConfig&&(be.msgConfig=q.msgConfig),Q.length>0&&(be.reactions=Q),re&&(be.chatThread=re),oe&&(be.chatThreadOverview=oe),"chatRoom"===D&&(be.priority=j,be.broadcast=W),$&&(be.isContentReplaced=$),z=be,B||null===(R=this.eventHandler)||void 0===R||R.dispatch("onCmdMessage",be),[3,28];case 23:return Ie={},Ce={},A.contents[0].customExts&&(Ie=Fe(A.contents[0].customExts)),A.contents[0].params&&(Ce=Fe(A.contents[0].params)),q={id:w,type:k,contentsType:je[M.type],from:L,to:P,customEvent:M.customEvent,params:Ce,customExts:Ie,ext:Y,time:x,onlineState:U},!B&&this.onCustomMessage&&this.onCustomMessage(q),Ne={id:w,type:"custom",chatType:D,from:L,to:P,customEvent:M.customEvent,params:Ce,customExts:Ie,ext:Y,time:Number(x),onlineState:U},q.msgConfig&&(Ne.msgConfig=q.msgConfig),Q.length>0&&(Ne.reactions=Q),re&&(Ne.chatThread=re),oe&&(Ne.chatThreadOverview=oe),ee.operationCount>0&&(Ne.modifiedInfo=ee,A.type===st.EDIT&&(Ne.from=te,Ne.time=ne)),"chatRoom"===D&&(Ne.priority=j,Ne.broadcast=W),$&&(Ne.isContentReplaced=$),z=Ne,B?[3,25]:[4,null===(I=null===(b=this._localCache)||void 0===b?void 0:b.getInstance())||void 0===I?void 0:I.storeMessage(Ne,Ee.SUCCESS)];case 24:Me.sent(),null===(C=this.eventHandler)||void 0===C||C.dispatch("onCustomMessage",Ne),Me.label=25;case 25:return[3,28];case 26:return ae=He.call(this,M),Ae={id:w,type:"combine",chatType:D,to:P,from:L,ext:Y,time:Number(x),onlineState:U,title:M.title||"",summary:M.summary||"",url:ae||"",secret:M.secretKey||"",file_length:M.fileLength||0,filename:M.displayName||"",compatibleText:M.text,combineLevel:M.combineLevel||0},q.msgConfig&&(Ae.msgConfig=q.msgConfig),Q.length>0&&(Ae.reactions=Q),re&&(Ae.chatThread=re),oe&&(Ae.chatThreadOverview=oe),"chatRoom"===D&&(Ae.priority=j,Ae.broadcast=W),$&&(Ae.isContentReplaced=$),z=Ae,!B&&this.eventHandler&&this.eventHandler.dispatch("onCombineMessage",Ae),[3,28];case 27:return G.error("Unknow message type, message:",M),[3,28];case 28:return F?[2,z]:[2,q]}}))}))}function qe(e,t,n){if(this.delivery&&e!==t){var r=this.getUniqueId(),o=new Ue("delivery",r);o.set({ackId:n,to:e}),G.debug("send delivery ack"),this.send(o.body)}}var ze=function(e,t,n,r){var o,a,i,s,c,l,u,d,p,h,f,g,v,y,_,E,T,S,O,R,b,I,C;return Be(this,void 0,void 0,(function(){var N,A,M,w,k,L,P,x,U,D,B,j,F,H,W,V,$,q,z,K,J,X,Y,Q,Z,ee,te,ne,re,oe,ae,ie,se,ce,le,ue,de,pe,he,me;return Ge(this,(function(ge){switch(ge.label){case 0:if(N=new(m())(e.timestamp.low,e.timestamp.high,e.timestamp.unsigned).toString(),A=this.root.lookup("easemob.pb.MessageBody"),M=A.decode(e.payload),w=3,k=!1,e.meta&&e.meta.length){if(L=fe.parseNotify(e.meta),P=L.is_online,x=L.callback_replace,this.useReplacedMessageContents&&x&&(k=!0),P||0===P)switch(P){case 0:w=0;break;case 1:w=1;break;default:w=2}}else w=3;switch(U=new(m())(e.id.low,e.id.high,e.id.unsigned).toString(),D=M.ackMessageId?new(m())(M.ackMessageId.low,M.ackMessageId.high,M.ackMessageId.unsigned).toString():"",B="",j=We.call(this,e,M),F=Ve.call(this,e,M),G.debug("thirdMessage:",M),M.type){case st.SINGLECHAT:return[3,1];case st.GROUPCHAT:return[3,2];case st.CHATROOM:return[3,3];case st.READ_ACK:return[3,4];case st.DELIVER_ACK:return[3,5];case st.RECALL:return[3,6];case st.CHANNEL_ACK:return[3,15];case st.EDIT:return[3,16]}return[3,20];case 1:return B="chat","agoraToken"===this.grantType&&(B="singleChat"),this.delivery&&!n&&j!==this.context.userId&&qe.call(this,j,F,U),[3,21];case 2:return B="groupchat","agoraToken"===this.grantType&&(B="groupChat"),[3,21];case 3:return B="chatroom","agoraToken"===this.grantType&&(B="chatRoom"),w=1,[3,21];case 4:return B="read_ack",H=void 0,M.ext[0]&&JSON.parse(M.ext[0].stringValue)?(H={id:U,type:"read",from:j,to:F,mid:D,groupReadCount:M.ext[0]&&JSON.parse(M.ext[0].stringValue),ackContent:M.ackContent,onlineState:w},this.onReadMessage&&this.onReadMessage(H),null===(o=this.eventHandler)||void 0===o||o.dispatch("onReadMessage",H),[2]):(H={id:U,type:"read",from:j,to:F,mid:D,onlineState:w},this.onReadMessage&&this.onReadMessage(H),null===(a=this.eventHandler)||void 0===a||a.dispatch("onReadMessage",H),[2]);case 5:return B="deliver_ack",this.onDeliveredMessage&&this.onDeliveredMessage({id:U,type:"delivery",from:j,to:F,mid:D,onlineState:w}),W={id:U,type:"delivery",from:j,to:F,mid:D,onlineState:w},null===(i=this.eventHandler)||void 0===i||i.dispatch("onDeliveredMessage",W),[2];case 6:return B="recall",V="",e.ext&&(V=(null===(s=Fe(e.ext))||void 0===s?void 0:s.recallMessageExtensionInfo)||""),$={id:U,from:j||"admin",to:F,mid:D,ext:V,onlineState:w},q=F===this.user?j:F,[4,null===(l=null===(c=this._localCache)||void 0===c?void 0:c.getInstance())||void 0===l?void 0:l.getMessageByServerMsgId($.mid)];case 7:return(z=ge.sent())?[4,null===(d=null===(u=this._localCache)||void 0===u?void 0:u.getInstance())||void 0===d?void 0:d.removeMsgByServerMsgId($.mid)]:[3,9];case 8:ge.sent(),ge.label=9;case 9:return"singleChat"!==(null==z?void 0:z.chatType)&&"groupChat"!==(null==z?void 0:z.chatType)?[3,14]:(K=(null==z?void 0:z.from)===this.user||""===(null==z?void 0:z.from),[4,null===(h=null===(p=this._localCache)||void 0===p?void 0:p.getInstance())||void 0===h?void 0:h.getConversationLastMessage(q,z.chatType)]);case 10:return J=ge.sent(),[4,null===(g=null===(f=this._localCache)||void 0===f?void 0:f.getInstance())||void 0===g?void 0:g.getConversationBySessionId(Te({conversationId:q,conversationType:z.chatType}))];case 11:return(X=ge.sent())?[4,null===(y=null===(v=this._localCache)||void 0===v?void 0:v.getInstance())||void 0===y?void 0:y.updateLocalConversation(Te({conversationId:q,conversationType:z.chatType}),{lastMessageId:null==J?void 0:J.serverMsgId,unReadCount:Se({conversation:X,isRecallSelfMsg:K,recalledMsgTime:z.time})})]:[3,13];case 12:ge.sent(),ge.label=13;case 13:ge.label=14;case 14:return this.onRecallMessage&&this.onRecallMessage($),null===(_=this.eventHandler)||void 0===_||_.dispatch("onRecallMessage",$),[2];case 15:return this.onChannelMessage&&this.onChannelMessage({id:U,type:"channel",chatType:"singleChat",from:j,to:F,time:Number(N),onlineState:w}),Y={id:U,type:"channel",chatType:"singleChat",from:j,to:F,time:Number(N),onlineState:w},null===(E=this.eventHandler)||void 0===E||E.dispatch("onChannelMessage",Y),[2];case 16:return Q={errorCode:0,reason:""},[4,$e.call(this,{status:Q,thirdMessage:M,msgBody:M.contents[0],msgId:U,type:B,from:j,to:F,time:N,onlineState:w,ignoreCallback:!0,format:!0,isContentReplaced:k})];case 17:return Z=ge.sent(),ee=!!e.to&&-1!==e.to.domain.indexOf("conference"),Z.chatType=ee?"groupChat":"singleChat",te=M.editMessageId&&new(m())(M.editMessageId.low,M.editMessageId.high,M.editMessageId.unsigned).toString(),ne={},"txt"===Z.type?(re=Z.type,oe=Z.chatType,ae=Z.to,ie=Z.from,se=Z.time,ce=Z.modifiedInfo,ne={id:te,type:re,chatType:oe,to:ae,from:ie,time:se,modifiedInfo:ce,msg:Z.msg},Z.translations&&(ne.translations=Z.translations)):"custom"===Z.type&&((ne=Z).id=te,delete ne.onlineState),ne?[4,null===(S=null===(T=this._localCache)||void 0===T?void 0:T.getInstance())||void 0===S?void 0:S.getMessageByServerMsgId(te)]:[3,19];case 18:"txt"===(null==(le=ge.sent())?void 0:le.type)&&"txt"===ne.type?null===(R=null===(O=this._localCache)||void 0===O?void 0:O.getInstance())||void 0===R||R.putMessageToDB(De(De({},le),{msg:ne.msg,modifiedInfo:ne.modifiedInfo,translations:ne.translations})):"custom"===(null==le?void 0:le.type)&&"custom"===ne.type&&(null===(I=null===(b=this._localCache)||void 0===b?void 0:b.getInstance())||void 0===I||I.putMessageToDB(De(De({},le),{modifiedInfo:ne.modifiedInfo,customEvent:ne.customEvent,customExts:ne.customExts,ext:ne.ext}))),ge.label=19;case 19:return"txt"!==Z.type&&"custom"!==Z.type||null===(C=this.eventHandler)||void 0===C||C.dispatch("onModifiedMessage",ne),[2];case 20:return G.error("unexpected message type: ".concat(M.type)),[2];case 21:ue="normal",pe=!1,"chat"===B.toLowerCase()||"singleChat"===B?de="singleChat":"groupchat"===B.toLowerCase()||"groupChat"===B?de="groupChat":(de="chatRoom",w=1,e.ext&&(he=Fe(e.ext),pe=!!(null==he?void 0:he.is_broadcast),ue=0===he.chatroom_msg_tag?"high":2===he.chatroom_msg_tag?"low":"normal")),me=0,ge.label=22;case 22:return me<M.contents.length?[4,$e.call(this,{status:t,thirdMessage:M,msgBody:M.contents[me],msgId:U,type:B,from:j,to:F,time:N,onlineState:w,chatType:de,ignoreCallback:n,priority:ue,format:r,broadcast:pe,isContentReplaced:k})]:[3,25];case 23:return[2,ge.sent()];case 24:return me++,[3,22];case 25:return[2]}}))}))},Ke=["public","members_only","allow_user_invites","invite_need_confirm"],Je={name:"name",title:"name",description:"description",public:"public",members_only:"approval",allow_user_invites:"allowInvites",max_users:"maxUsers",invite_need_confirm:"inviteNeedConfirm",custom:"ext",last_modified:"lastModified"};function Xe(e,t){var n,r,o,a,i,s,c=this,l=this.context,u=l.userId,d=l.jid,p=t.from.name===u&&d.clientResource!==t.from.clientResource;return t.isThread?(o={id:t.mucId.name,name:t.mucName,operation:"",parentId:t.mucParentId.name,operator:t.from.name,userName:t.to.length?t.to[0].name:""},a={chatThreadId:t.mucId.name,chatThreadName:t.mucName,operation:"",parentId:t.mucParentId.name}):(r={type:"",owner:t.from.name,gid:t.mucId.name,from:t.from.name,fromJid:t.from,to:t.to.length?t.to[0].name:"",toJid:t.to,chatroom:t.isChatroom,status:t.status},i={operation:"",id:t.mucId.name,from:t.from.name},t.isChatroom&&(null===(n=null==t?void 0:t.eventInfo)||void 0===n?void 0:n.ext)&&(s=JSON.parse(t.eventInfo.ext))),({45:function(){var e,n,r;i.operation="memberAttributesUpdate";var o=JSON.parse(null===(e=null==t?void 0:t.eventInfo)||void 0===e?void 0:e.ext)||{};i.attributes=o.properties||{},i.userId=o.username||"",p?null===(n=c.eventHandler)||void 0===n||n.dispatch("onMultiDeviceEvent",i):null===(r=c.eventHandler)||void 0===r||r.dispatch("onGroupEvent",i)},44:function(){var e;i.operation="removeChatRoomAttributes",i.attributes=s.result.successKeys,s.result.successKeys.length>0&&(null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomEvent",i))},43:function(){var e;i.operation="updateChatRoomAttributes";var t={};s.result.successKeys.forEach((function(e){t[e]=s.properties[e]})),i.attributes=t,s.result.successKeys.length>0&&(null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomEvent",i))},42:function(){},41:function(){},40:function(){},39:function(){},38:function(){var e;a.operation="chatThreadNameUpdate",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",a)},37:function(){var e;o.operation="userRemove",null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatThreadChange",o)},36:function(){var e;a.operation="chatThreadLeave",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",a)},35:function(){var e;a.operation="chatThreadJoin",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",a)},34:function(){var e;a.operation="chatThreadDestroy",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",a)},33:function(){var e;a.operation="chatThreadCreate",null===(e=c.eventHandler)||void 0===e||e.dispatch("onMultiDeviceEvent",a)},32:function(){var e,n,o,a;r.type=t.isChatroom?"rmChatRoomMute":"rmGroupMute",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="unmuteAllMembers",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},31:function(){var e,n,o,a;r.type=t.isChatroom?"muteChatRoom":"muteGroup",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="muteAllMembers",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},30:function(){var e,n,o,a;r.type=t.isChatroom?"rmUserFromChatRoomWhiteList":"rmUserFromGroupWhiteList",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="removeAllowlistMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},29:function(){var e,n,o,a;r.type=t.isChatroom?"addUserToChatRoomWhiteList":"addUserToGroupWhiteList",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="addUserToAllowlist",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},28:function(){var e,n,o,a;r.type="deleteFile",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="deleteFile",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},27:function(){var e,n,o,a;r.type="uploadFile",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="uploadFile",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},26:function(){var e,n,o,a;r.type="deleteAnnouncement",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="deleteAnnouncement",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},25:function(){var e,n,o,a;r.type="updateAnnouncement",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="updateAnnouncement",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},24:function(){var e,n,o,a;r.type="removeMute",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="unmuteMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},23:function(){var e,n,o,a;r.type="addMute",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="muteMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},22:function(){var e,n,o,a;r.type="removeAdmin",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="removeAdmin",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},21:function(){var e,n,o,a;r.type="addAdmin",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="setAdmin",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},20:function(){var e,n,o,a;r.type="changeOwner",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="changeOwner",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},19:function(){var e,n,o,a;r.type="direct_joined",r.groupName=t.mucName,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="directJoined",i.name=t.mucName,t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},18:function(){var e,n,o,a;r.type=t.isChatroom?"leaveChatRoom":"leaveGroup",c.onPresence&&c.onPresence(r);var s=t.mucMemberCount;s&&(i.memberCount=s),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="memberAbsence",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},17:function(){var e,n,o,a;r.type=t.isChatroom?"memberJoinChatRoomSuccess":"memberJoinPublicGroupSuccess",c.onPresence&&c.onPresence(r);var s=t.mucMemberCount;t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="memberPresence",s&&(i.memberCount=s),t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},16:function(){var e,n;r.type="unblock",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},15:function(){var e,n;r.type="block",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},14:function(){var e,n,o,a,s,l=t.isChatroom;if(!l){var u=JSON.parse((null===(e=null==t?void 0:t.eventInfo)||void 0===e?void 0:e.ext)||"{}",(function(e,t){return"last_modified"===e?Number(t):Ke.includes(e)?"true"===t||!0===t:t}));i.detail=r.detail={},Object.keys(u).forEach((function(e){var t=Je[e];if(t){var n=u[e];i.detail&&(i.detail[t]=n),r.detail&&(r.detail[t]=n)}}))}r.type="update",c.onPresence&&c.onPresence(r),l?null===(n=c.eventHandler)||void 0===n||n.dispatch("onChatroomChange",r):null===(o=c.eventHandler)||void 0===o||o.dispatch("onGroupChange",r),i.operation="updateInfo",l?null===(a=c.eventHandler)||void 0===a||a.dispatch("onChatroomEvent",i):null===(s=c.eventHandler)||void 0===s||s.dispatch("onGroupEvent",i)},13:function(){var e,n,o,a;r.type="allow",r.reason=t.reason,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="unblockMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},12:function(){var e,n;r.type="ban",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},11:function(){var e,n;r.type="getBlackList",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},10:function(){var e,n,o,a;r.type="removedFromGroup",r.kicked=r.to,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="removeMember",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},9:function(){var e,n,o,a;r.type="invite_decline",r.kicked=r.to,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="rejectInvite",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},8:function(){var e,n,o,a;r.type="invite_accept",r.kicked=r.to,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="acceptInvite",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},7:function(){var e,n,o,a;r.type="invite",r.kicked=r.to,r.groupName=t.mucName,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="inviteToJoin",i.name=t.mucName,t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},6:function(){var e,n,o,a;r.type="joinPublicGroupDeclined",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="joinPublicGroupDeclined",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):(i.userId=t.to.length?t.to[0].name:"",null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i))},5:function(){var e,n,o,a;r.type="joinPublicGroupSuccess",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="acceptRequest",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},4:function(){var e,n,o,a;r.type="joinGroupNotifications",r.reason=t.reason,c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="requestToJoin",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},3:function(){var e,n;r.type="leave",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},2:function(){var e,n;r.type="join",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r)},1:function(){var e,n,o,a;r.type="deleteGroupChat",c.onPresence&&c.onPresence(r),t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomChange",r):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupChange",r),i.operation="destroy",t.isChatroom?null===(o=c.eventHandler)||void 0===o||o.dispatch("onChatroomEvent",i):null===(a=c.eventHandler)||void 0===a||a.dispatch("onGroupEvent",i)},0:function(){var e,n;i.operation="create",t.isChatroom?null===(e=c.eventHandler)||void 0===e||e.dispatch("onChatroomEvent",i):null===(n=c.eventHandler)||void 0===n||n.dispatch("onGroupEvent",i)}}[e]||function(){console.error("No match operation ".concat(e))})()}var Ye,Qe=function(e){var t=this.root.lookup("easemob.pb.MUCBody").decode(e.payload),n=t.operation;G.debug("onMucMessage",t),Xe.call(this,n,t)},Ze={handleRosterMsg:function(e){var t,n,r,o,a,i,s=this.root.lookup("easemob.pb.RosterBody").decode(e.payload),c={type:"",to:s.to[0].name,from:s.from.name,status:s.reason};switch(s.operation){case 2:c.type="subscribe",this.onContactInvited&&this.onContactInvited(c),null===(t=this.eventHandler)||void 0===t||t.dispatch("onContactInvited",c);break;case 3:c.type="unsubscribed",this.onContactDeleted&&this.onContactDeleted(c),null===(n=this.eventHandler)||void 0===n||n.dispatch("onContactDeleted",c);break;case 4:c.type="subscribed",this.onContactAdded&&this.onContactAdded(c),null===(r=this.eventHandler)||void 0===r||r.dispatch("onContactAdded",c);break;case 5:c.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(c),null===(o=this.eventHandler)||void 0===o||o.dispatch("onContactRefuse",c);break;case 6:case 7:break;case 8:c.type="subscribed",this.onContactAgreed&&this.onContactAgreed(c),null===(a=this.eventHandler)||void 0===a||a.dispatch("onContactAgreed",c);break;case 9:c.type="unsubscribed",this.onContactRefuse&&this.onContactRefuse(c),null===(i=this.eventHandler)||void 0===i||i.dispatch("onContactRefuse",c);break;default:G.error("handleRosterMsg:",s)}this.onPresence&&c.type&&this.onPresence(c)}},et=function(e){var t,n,r,o,a,i,s=this.root.lookup("easemob.pb.StatisticsBody").decode(e.payload),c=s.operation,l=s.reason;switch(c){case 0:this.onStatisticMessage&&this.onStatisticMessage(s),null===(t=this.eventHandler)||void 0===t||t.dispatch("onStatisticMessage",s);break;case 1:i=g.create({type:d.WEBIM_CONNCTION_USER_REMOVED,message:"user has been removed"}),this.disconnectedReason=i,this.logOut=!0,this.onError&&this.onError(i),null===(n=this.eventHandler)||void 0===n||n.dispatch("onError",i);break;case 2:i=g.create({type:d.WEBIM_CONNCTION_USER_LOGIN_ANOTHER_DEVICE,message:"the user is already logged on another device"}),l&&(i.data={loginInfoCustomExt:s.reason}),this.disconnectedReason=i,this.logOut=!0,this.onError&&this.onError(i),null===(r=this.eventHandler)||void 0===r||r.dispatch("onError",i);break;case 3:i=g.create({type:d.WEBIM_CONNCTION_USER_KICKED_BY_CHANGE_PASSWORD,message:"the user was kicked by changing password"}),this.disconnectedReason=i,this.logOut=!0,this.onError&&this.onError(i),null===(o=this.eventHandler)||void 0===o||o.dispatch("onError",i);break;case 4:i=g.create({type:d.WEBIM_CONNCTION_USER_KICKED_BY_OTHER_DEVICE,message:"the user was kicked by other device"}),this.disconnectedReason=i,this.logOut=!0,this.onError&&this.onError(i),null===(a=this.eventHandler)||void 0===a||a.dispatch("onError",i);break;default:G.error("handleStatisticsMsg:",s)}};function nt(e){var t,n=[],r=[],o=e.data;o&&o.values&&o.values.forEach((function(e){Object.entries(e.status).forEach((function(e){r.push({device:e[0],status:Number(e[1])})})),n.push({userId:e.uid,lastTime:Number(e.last_time),expire:Number(e.expiry),ext:e.ext,statusDetails:r})})),this.onPresenceStatusChange&&this.onPresenceStatusChange(n),null===(t=this.eventHandler)||void 0===t||t.dispatch("onPresenceStatusChange",n)}function rt(e){var t=this;e.data.forEach((function(e){var n,r={from:e.from,to:e.to,chatType:"chat"===e.channel_type?"singleChat":"groupChat",messageId:e.messageId,reactions:e.reactions,ts:e.ts};null===(n=t.eventHandler)||void 0===n||n.dispatch("onReactionChange",r)}))}function ot(e){var t,n,r,o;if(e.data){var a=e.data,i={id:a.id||"",name:a.name||"",parentId:a.muc_parent_id||"",messageId:a.msg_parent_id||"",timestamp:a.timestamp||0,operator:a.from||"",operation:""};switch(a.operation){case"create":i.operation="create",i.createTimestamp=i.timestamp,i.messageCount=0,null===(t=this.eventHandler)||void 0===t||t.dispatch("onChatThreadChange",i);break;case"update_msg":i.operation="update",i.messageCount=a.message_count,a.last_message&&"{}"!==JSON.stringify(a.last_message)?i.lastMessage=_e.call(this,a.last_message):"{}"===JSON.stringify(a.last_message)&&(i.lastMessage={}),null===(n=this.eventHandler)||void 0===n||n.dispatch("onChatThreadChange",i);break;case"update":i.operation="update",i.messageCount=a.message_count,null===(r=this.eventHandler)||void 0===r||r.dispatch("onChatThreadChange",i);break;case"delete":i.operation="destroy",null===(o=this.eventHandler)||void 0===o||o.dispatch("onChatThreadChange",i)}}}function at(e){var t,n=e.data;if(n.resource!==this.clientResource){var r={operation:"deleteRoaming",conversationId:n.to,chatType:"chat"===n.chatType?"singleChat":"groupChat",resource:n.resource};null===(t=this.eventHandler)||void 0===t||t.dispatch("onMultiDeviceEvent",r)}}function it(e){var t,n,r=e.data,o="";if(this.clientResource!==r.res){switch(r.op){case"del":o="deleteConversation";break;case"top":o="pinnedConversation";break;case"not_top":o="unpinnedConversation";break;case"mark":o="markConversation";break;case"mark_delete":o="unMarkConversation";break;case"pin":o="pin";break;case"pin_delete":o="unpin";break;default:return void G.error("unexpected conversation op:",r.op)}if("pin"!==o&&"unpin"!==o){var a={operation:o,conversationId:r.id,conversationType:"chat"===r.type?"singleChat":"groupChat",timestamp:r.ts};"markConversation"!==a.operation&&"unMarkConversation"!==a.operation||r.ext&&(a.conversationMark=Ye[r.ext]),null===(n=this.eventHandler)||void 0===n||n.dispatch("onMultiDeviceEvent",a)}else{var i=r.ext,s=r.from,c=r.id,l=r.type,u=r.ts,d={messageId:i||"",conversationId:c,conversationType:ye[l],operation:o,operatorId:s,time:u};null===(t=this.eventHandler)||void 0===t||t.dispatch("onMessagePinEvent",d)}}}!function(e){e[e.mark_0=0]="mark_0",e[e.mark_1=1]="mark_1",e[e.mark_2=2]="mark_2",e[e.mark_3=3]="mark_3",e[e.mark_4=4]="mark_4",e[e.mark_5=5]="mark_5",e[e.mark_6=6]="mark_6",e[e.mark_7=7]="mark_7",e[e.mark_8=8]="mark_8",e[e.mark_9=9]="mark_9",e[e.mark_10=10]="mark_10",e[e.mark_11=11]="mark_11",e[e.mark_12=12]="mark_12",e[e.mark_13=13]="mark_13",e[e.mark_14=14]="mark_14",e[e.mark_15=15]="mark_15",e[e.mark_16=16]="mark_16",e[e.mark_17=17]="mark_17",e[e.mark_18=18]="mark_18",e[e.mark_19=19]="mark_19"}(Ye||(Ye={}));var st,ct,lt=function(e){var t=fe.parseNotify(e.payload);switch(t.type){case"presence":nt.call(this,t);break;case"reaction":rt.call(this,t);break;case"thread":ot.call(this,t);break;case"roaming_delete":at.call(this,t);break;case"conv":it.call(this,t);break;default:G.error("unexpected notify type: ".concat(t.type))}},ut=2,dt=function(){return dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dt.apply(this,arguments)},pt=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},ht=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},ft=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};!function(e){e[e.NORMAL=0]="NORMAL",e[e.SINGLECHAT=1]="SINGLECHAT",e[e.GROUPCHAT=2]="GROUPCHAT",e[e.CHATROOM=3]="CHATROOM",e[e.READ_ACK=4]="READ_ACK",e[e.DELIVER_ACK=5]="DELIVER_ACK",e[e.RECALL=6]="RECALL",e[e.CHANNEL_ACK=7]="CHANNEL_ACK",e[e.EDIT=8]="EDIT"}(st||(st={})),function(e){e[e.OK=0]="OK",e[e.FAIL=1]="FAIL",e[e.UNAUTHORIZED=2]="UNAUTHORIZED",e[e.MISSING_PARAMETER=3]="MISSING_PARAMETER",e[e.WRONG_PARAMETER=4]="WRONG_PARAMETER",e[e.REDIRECT=5]="REDIRECT",e[e.TOKEN_EXPIRED=6]="TOKEN_EXPIRED",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.NO_ROUTE=8]="NO_ROUTE",e[e.UNKNOWN_COMMAND=9]="UNKNOWN_COMMAND",e[e.PB_PARSER_ERROR=10]="PB_PARSER_ERROR",e[e.BIND_ANOTHER_DEVICE=11]="BIND_ANOTHER_DEVICE",e[e.IM_FORBIDDEN=12]="IM_FORBIDDEN",e[e.TOO_MANY_DEVICES=13]="TOO_MANY_DEVICES",e[e.PLATFORM_LIMIT=14]="PLATFORM_LIMIT",e[e.USER_MUTED=15]="USER_MUTED",e[e.ENCRYPT_DISABLE=16]="ENCRYPT_DISABLE",e[e.ENCRYPT_ENABLE=17]="ENCRYPT_ENABLE",e[e.DECRYPT_FAILURE=18]="DECRYPT_FAILURE",e[e.PERMISSION_DENIED_EXTERNAL=19]="PERMISSION_DENIED_EXTERNAL"}(ct||(ct={}));var mt=["txt","img","video","audio","file","loc","custom","cmd","combine"],gt=fe.getEnvInfo();function vt(){var e="webim",t="",n="",r=[],o=(new Date).valueOf(),a=fe.getDevicePlatform(gt);if(this.isFixedDeviceId){var i=fe.getLocalDeviceInfo();if(i){var s=JSON.parse(i);e=s.deviceId,t=s.deviceName,n=s.deviceUuid}else"webim"===this.deviceId?(n="".concat(a,"_").concat(o.toString()),e="".concat(this.deviceId,"_").concat(n),t=this.deviceId):e=t=n="webim_".concat(a,"_").concat(this.deviceId),fe.setLocalDeviceInfo(JSON.stringify({deviceId:e,deviceName:t,deviceUuid:n}))}else"webim"===this.deviceId?(n="random_".concat(a,"_").concat(o.toString()),e="".concat(this.deviceId,"_").concat(n),t=this.deviceId):e=t=n="webim_".concat(a,"_").concat(this.deviceId);this.context.jid&&(this.context.jid.clientResource=e);var c=this.root.lookup("easemob.pb.Provision"),l=c.decode(r);l.compressType=this.compressType,l.encryptType=this.encryptType,l.osType=this.osType,l.version=this.version,l.deviceName=t,l.resource=e,l.deviceUuid=n,l.authToken='{"token":"$t$'+this.token+'"}',this.loginInfoCustomExt&&(l.reason=this.loginInfoCustomExt),l.actionVersion="v4.0",l=c.encode(l).finish();var u=this.root.lookup("easemob.pb.MSync"),d=u.decode(r);return d.version=this.version,d.guid=this.context.jid,d.auth="$t$"+this.token,d.command=3,d.deviceId=t,d.serviceId=this.dataReport.getServiceId(),d.encryptType=this.encryptType,d.payload=l,u.encode(d).finish()}function yt(e,t){var n=this,r=fe.getEnvInfo();if("web"===r.platform||"zfb"===r.platform||"dd"===r.platform){for(var o="",a=0;a<e.length;a++)o+=String.fromCharCode(e[a]);return o=ge().btoa(o),"web"===r.platform?o:{data:o,isBuffer:!1,complete:function(){},fail:function(e){"sendSocketMessage:fail taskID not exist"!==e.errMsg&&"SocketTast.send:fail SocketTask.readyState is not OPEN"!==e.errMsg||(G.debug("send message fail and reconnect"),n.reconnecting||n.reconnect()),t&&n._msgHash&&n._msgHash[t]&&n._msgHash[t].fail({id:t})}}}var i=e;return{data:i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength),fail:function(e){"sendSocketMessage:fail taskID not exist"!==e.errMsg&&"SocketTast.send:fail SocketTask.readyState is not OPEN"!==e.errMsg||n.reconnecting||n.reconnect(),t&&n._msgHash&&n._msgHash[t]&&n._msgHash[t].fail({id:t})}}}function _t(e,t){var n;return pt(this,void 0,void 0,(function(){var r,o,a,i,s,c;return ht(this,(function(l){switch(l.label){case 0:for(r=[],o=function(n){var o=e[n],i=new(m())(o.id.low,o.id.high,o.id.unsigned).toString(),s=o.from.name,c=o.to?o.to.name:"",l=!!o.to&&-1!==o.to.domain.indexOf("conference");if(a._load_msg_cache.some((function(e){return e.msgId===i})))return"continue";switch(a._load_msg_cache.length<=a.max_cache_length||a._load_msg_cache.shift(),a._load_msg_cache.push({msgId:i,from:s,to:c,isGroup:l}),o.ns){case 0:et.call(a,o);break;case 1:r.push(ze.call(a,o,t,!1,!0));break;case 2:Qe.call(a,o);break;case 3:Ze.handleRosterMsg.call(a,o);break;case 4:a.registerConfrIQHandler&&a.registerConfrIQHandler(o,t,a);break;case 5:lt.call(a,o);break;default:G.error("distributeMeta",o)}},a=this,i=0;i<e.length;i++)o(i);return[4,Promise.all(r)];case 1:return s=l.sent(),(c=s.filter((function(e){return e&&"cmd"!==e.type}))).length>0&&(null===(n=this.eventHandler)||void 0===n||n.dispatch("onMessage",c)),[2]}}))}))}function Et(e,t){_t.call(this,e,t)}function Tt(e){var t=this.root.lookup("easemob.pb.CommUnreadDL");t=t.decode(e.payload);var n=new(m())(t.timestamp.low,t.timestamp.high,t.timestamp.unsigned).toString();if(this.expirationTime&&this.compareTokenExpireTime(Number(n),this.expirationTime),0===t.unread.length)Mt.call(this);else{G.debug("pull unread message",t.unread);for(var r=0;r<t.unread.length;r++){var o=xt(this._queues,t.unread[r].queue),a=xt(this.unSyncQueue,t.unread[r].queue);o||a||this.unSyncQueue.push(t.unread[r].queue)}for(r=0;r<this.unSyncQueue.length;r++)this.unSyncQueue[r].hasSync||Rt.call(this,this.unSyncQueue[r]),this.unSyncQueue[r].hasSync=!0}Mt.call(this)}function St(){var e=[],t=this.root.lookup("easemob.pb.StatisticsBody"),n=t.decode(e);n.operation=0,n=t.encode(n).finish();var r=this.root.lookup("easemob.pb.Meta").decode(e);r.id=(new Date).valueOf(),r.ns=0,r.payload=n;var o=this.root.lookup("easemob.pb.CommSyncUL"),a=o.decode(e);a.meta=r,a=o.encode(a).finish();var i=this.root.lookup("easemob.pb.MSync"),s=i.decode(e);return s.version=this.version,s.encryptType=[0],s.command=0,s.payload=a,i.encode(s).finish()}function Ot(e){var t=[],n=this.root.lookup("easemob.pb.CommSyncUL"),r=n.decode(t);r.queue=e,r=n.encode(r).finish();var o=this.root.lookup("easemob.pb.MSync"),a=o.decode(t);return a.version=this.version,a.encryptType=this.encryptType,a.command=0,a.payload=r,o.encode(a).finish()}function Rt(e){G.debug("sendBackqueue");var t=Ot.call(this,e);Jt.call(this,t)}function bt(e,t){var n=[],r=this.root.lookup("easemob.pb.CommSyncUL"),o=r.decode(n);o.queue=t,o.key=new(m())(e.low,e.high,e.unsigned).toString(),o=r.encode(o).finish();var a=this.root.lookup("easemob.pb.MSync"),i=a.decode(n);return i.version=this.version,i.encryptType=this.encryptType,i.command=0,i.payload=o,a.encode(i).finish()}function It(){var e;this.times=1,this.autoReconnectNumTotal=0,this.onOpened&&this.onOpened(),null===(e=this.eventHandler)||void 0===e||e.dispatch("onConnected"),At.call(this),kt.call(this),wt.call(this),Mt.call(this)}function Ct(e,t){G.debug("sendLastSession",e);var n=bt.call(this,e,t);Jt.call(this,n)}function Nt(e){var t,n,r,o,a,i,s,c=this,l=this.root.lookup("easemob.pb.Provision").decode(e.payload);if(this.context.jid&&(this.context.jid.clientResource=l.resource),this.clientResource=l.resource,l.status.errorCode===ct.OK){if(this.disconnectedReason=void 0,l.authToken){var u=JSON.parse(l.authToken).expires_in;if(!this.tokenExpiredTimer&&!this.tokenWillExpireTimer){var p=Date.now();this.expirationTime=u;var h=this.expirationTime-p;this.expiresIn=h<0?0:h,this.tokenExpireTimeCountDown(this.expiresIn)}}this.reconnecting=!1,this.logOut=!1,"zfb"!==gt.platform&&"dd"!==gt.platform||(this.sock.readyState=1),this._localCache?(null===(t=this._localCache)||void 0===t?void 0:t.getInstance())?It.call(this):this._localCache&&new this._localCache({user:this.user,dbName:"cache_".concat(Math.abs(Oe(this.appKey)),"_").concat(this.user),version:ut,onInit:function(){return pt(c,void 0,void 0,(function(){return ht(this,(function(e){return G.debug("localCache init success"),It.call(this),[2]}))}))}}):It.call(this)}else{var f=void 0,m=l.status,v=m.reason,y=m.errorCode;switch(G.debug("provision errorCode: ",y),G.debug("provision reason: ",v),y){case ct.FAIL:f="Sorry, user register limit"===v?g.create({type:d.MAX_LIMIT,message:"Sorry, the number of user registrations limit has been reached"}):"Sorry, user register rate limit"===v?g.create({type:d.MAX_LIMIT,message:"Sorry, user register rate limit"}):"Sorry, token expired"===v?g.create({type:d.WEBIM_TOKEN_EXPIRED,message:"Sorry, token expired"}):"Sorry, token or password does not match login info"===v?g.create({type:d.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"INVALID_TOKEN"}):"Sorry, user not found"===v?g.create({type:d.USER_NOT_FOUND,message:"User not found"}):g.create({type:d.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),null===(n=this.eventHandler)||void 0===n||n.dispatch("onError",f);break;case ct.WRONG_PARAMETER:f=g.create({type:d.REQUEST_PARAMETER_ERROR,message:"Invalid parameter"}),null===(r=this.eventHandler)||void 0===r||r.dispatch("onError",f);break;case ct.UNAUTHORIZED:f=g.create({type:d.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),null===(o=this.eventHandler)||void 0===o||o.dispatch("onError",f);break;case ct.IM_FORBIDDEN:f=g.create({type:d.WEBIM_SERVER_SERVING_DISABLED,message:"Server serving disabled."}),null===(a=this.eventHandler)||void 0===a||a.dispatch("onError",f);break;case ct.PERMISSION_DENIED:f="Sorry, the app month live count limit"===v?g.create({type:d.MAX_LIMIT,message:"Sorry, the monthly active user limit for this app has been reached"}):"Sorry, the app day live count limit"===v?g.create({type:d.MAX_LIMIT,message:"Sorry, the daily active user limit for this app has been reached"}):"Sorry, the app online count limit"===v?g.create({type:d.MAX_LIMIT,message:"Sorry, the maximum number limit of online users for this app has been reached"}):g.create({type:d.WEBIM_CONNCTION_AUTH_ERROR,message:"Auth failed"}),null===(i=this.eventHandler)||void 0===i||i.dispatch("onError",f);break;default:f=g.create({type:d.WEBIM_CONNCTION_AUTH_ERROR,message:v}),null===(s=this.eventHandler)||void 0===s||s.dispatch("onError",f)}this.disconnectedReason=f}}function At(){var e,t;if((null===(e=this.unMSyncSendMsgMap)||void 0===e?void 0:e.size)>0){for(var n=Array.from(this.unMSyncSendMsgMap.keys()),r=0;r<n.length;r++){var o=this.unMSyncSendMsgMap.get(n[r]);Jt.call(this,o,n[r])}null===(t=this.unMSyncSendMsgMap)||void 0===t||t.clear()}}function Mt(){var e=St.call(this);Jt.call(this,e)}function wt(){G.debug("sendUnreadDeal");var e=Pt.call(this);Jt.call(this,e)}function kt(){var e=this;Lt.call(this),this.heartBeatID=setInterval((function(){(Date.now()-e.lastHeartbeat)/1e3>=30&&(G.debug("send heart beat"),wt.call(e),e.lastHeartbeat=Date.now())}),this.heartBeatWait)}function Lt(){clearInterval(this.heartBeatID)}function Pt(){var e=this.root.lookup("easemob.pb.MSync"),t=e.decode([]);return t.version=this.version,t.encryptType=this.encryptType,t.command=1,e.encode(t).finish()}function xt(e,t){return e.some((function(e){return e.name===t.name}))}function Ut(e){var t=this.root.lookup("easemob.pb.CommNotice"),n=t.decode(e.payload),r=xt(this._queues,n.queue);G.debug("receive notice",t,this._queues);var o=xt(this.unSyncQueue,n.queue);r||o||this.clientResource===n.queue.clientResource&&n.queue.name===this.context.userId||(this._queues.push(n.queue),1===this._queues.length&&Rt.call(this,n.queue))}function Dt(e){if("string"==typeof e){var t=JSON.parse(e);if(Array.isArray(t)){var n=t[0],r=t[1];this.closeInfo={code:n,reason:r}}}}function Bt(e){return pt(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c;return ht(this,(function(l){if(t=fe.getEnvInfo(),n=this.root.lookup("easemob.pb.MSync"),"miniCore"===this.name){try{e.data instanceof ArrayBuffer||(G.debug("received message: ".concat(e.data)),Dt.call(this,e.data)),o=new Uint8Array(e.data),r=n.decode(o)}catch(u){throw new Error("decode message fail.")}return[2,r]}if("web"===t.platform||"zfb"===t.platform||"dd"===t.platform){for('[401,"normal closed"]'===e.data&&(G.debug("received message: ".concat(e.data)),Dt.call(this,e.data)),a=ge().atob(e.data),i=[],s=0,c=a.length;s<c;++s)i.push(a.charCodeAt(s));return[2,n.decode(i)]}try{e.data instanceof ArrayBuffer||(G.debug("received message: ".concat(e.data)),Dt.call(this,e.data)),r=n.decode(e.data)}catch(u){throw new Error("decode message fail.")}return[2,r]}))}))}function Gt(e){var t=this;this.lastHeartbeat=Date.now(),e.then((function(e){if(e)switch(e.command){case 0:jt.call(t,e);break;case 1:Tt.call(t,e);break;case 2:Ut.call(t,e);break;case 3:Nt.call(t,e);break;default:G.error("unexpected msync command: ".concat(e.command))}else G.error("unexpected msync result: ".concat(e))}))}function jt(e){var t,n,r,o,a,i,s,c,l,u,p,h,f,v,y,_,E,S,O,R,C,N,A,M,w,k,L,P,x,U,D,B,j,F,H,W,V,$,q,z,K,J,X,Y,Q;return pt(this,void 0,void 0,(function(){var Z,ee,te,ne,re,oe,ae,ie,se,ce,le,ue,de,pe,he,me,ge,ve,ye,_e,Te,Se,Oe,Re,be,Ie,Ce,Ne,Ae,Me,we,ke,Le,Pe,xe,Ue,De,Be,Ge,je,Fe,He,We,Ve=this;return ht(this,(function($e){switch($e.label){case 0:if(Z=(Z=this.root.lookup("easemob.pb.CommSyncDL")).decode(e.payload),ee=new(m())(Z.serverId.low,Z.serverId.high,Z.serverId.unsigned).toString(),te=new(m())(Z.metaId.low,Z.metaId.high,Z.metaId.unsigned).toString(),!(Number(te)>0))return[3,23];if(!Z.status)return[3,22];if(0!==Z.status.errorCode)return[3,21];if(null==(ne=this._msgHash[te])?void 0:ne.isHandleChatroom){try{re="join"===(null===(t=this._msgHash[te])||void 0===t?void 0:t.operation),(null===(n=this._msgHash[te])||void 0===n?void 0:n.resolve)instanceof Function&&re&&this._msgHash[te].resolve({type:0,data:{action:"apply",id:this._msgHash[te].roomId,result:!0,user:this.context.userId}}),(null===(r=this._msgHash[te])||void 0===r?void 0:r.success)instanceof Function&&re&&this._msgHash[te].success({type:0,data:{action:"apply",id:this._msgHash[te].roomId,result:!0,user:this.context.userId}}),(null===(o=this._msgHash[te])||void 0===o?void 0:o.resolve)instanceof Function&&!re&&this._msgHash[te].resolve({type:0,data:{result:!0}}),(null===(a=this._msgHash[te])||void 0===a?void 0:a.success)instanceof Function&&!re&&this._msgHash[te].success({type:0,data:{result:!0}}),I.has(te)&&(oe=I.get(te),xe=oe.rpt,Ue=oe.requestName,xe({isEndApi:!0,data:{isSuccess:1,requestName:Ue,requestMethod:"WEBSOCKET",requestUrl:this.url,code:T.success}}),I.delete(te))}catch(qe){I.has(te)&&(ae=I.get(te),xe=ae.rpt,Ue=ae.requestName,xe({isEndApi:!0,data:{isSuccess:0,requestName:Ue,requestMethod:"WEBSOCKET",requestUrl:this.url,code:T.failed,codeDesc:"when executing success function error"}}),I.delete(te)),Be=g.create({type:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:qe}),this.onError&&this.onError(Be),null===(i=this.eventHandler)||void 0===i||i.dispatch("onError",Be)}delete this._msgHash[te]}return!ne||ne.isHandleChatroom?[3,20]:(ie=null,se="",ce=0,le=null,this._msgHash[te].thirdMessage?(this._msgHash[te].thirdMessage.id=Z.serverId,this._msgHash[te].thirdMessage.timestamp=Z.timestamp,[4,ze.call(this,this._msgHash[te].thirdMessage,Z.status,!0,!0)]):[3,2]);case 1:le=$e.sent(),$e.label=2;case 2:if(0===Z.metas.length)return[3,13];$e.label=3;case 3:switch($e.trys.push([3,12,,13]),ue=Z.metas[0],de=Z.status,ue.ns){case 1:return[3,4];case 5:return[3,9]}return[3,10];case 4:return this.useReplacedMessageContents?[4,ze.call(this,ue,de,!0,!0)]:[3,8];case 5:return le=$e.sent(),[4,null===(c=null===(s=this._localCache)||void 0===s?void 0:s.getInstance())||void 0===c?void 0:c.getMessageByServerMsgId(te)];case 6:return(pe=$e.sent())?[4,null===(u=null===(l=this._localCache)||void 0===l?void 0:l.getInstance())||void 0===u?void 0:u.putMessageToDB(dt(dt(dt({},pe),le),{id:te}))]:[3,8];case 7:$e.sent(),$e.label=8;case 8:return[3,11];case 9:return(he=fe.parseNotify(Z.metas[0].payload)).edit_msg&&(me=he.edit_msg,ge=me.count,ve=me.operator,ye=me.edit_time,_e=me.sender,Te=me.send_time,ie={operationTime:ye,operatorId:ve,operationCount:ge},se=_e,ce=Number(Te)),[3,11];case 10:return G.error("decode local meta error",ue),[3,11];case 11:return[3,13];case 12:return Se=$e.sent(),Be=g.create({type:d.WEBIM_LOAD_MSG_ERROR,message:"decode local meta message error",data:Se}),this.onError&&this.onError(Be),null===(p=this.eventHandler)||void 0===p||p.dispatch("onError",Be),[3,13];case 13:b.has(te)&&(b.get(te).rpt({isEndApi:!0,data:{isSuccess:1,requestMethod:"WEBSOCKET",requestUrl:this.url,code:T.success,msgId:ee}}),b.delete(te)),$e.label=14;case 14:return $e.trys.push([14,18,,19]),Oe={localMsgId:te,serverMsgId:ee},ie&&(this._msgHash[te].modifiedInfo=ie,Re=this._msgHash[te],be=Re.editMessageId,ke=Re.type,Ie=Re.chatType,Ce=Re.msg,Ne=Re.to,Ae=Re.translations,Me={id:be,type:ke,chatType:Ie,msg:Ce,modifiedInfo:ie,to:Ne,from:se,time:Number(ce)},Ae&&(Me.translations=Ae),Oe.message=Me,null===(v=null===(f=null===(h=this._localCache)||void 0===h?void 0:h.getInstance())||void 0===f?void 0:f.getMessageByServerMsgId(be))||void 0===v||v.then((function(e){var t,n;e&&"txt"===e.type&&(null===(n=null===(t=Ve._localCache)||void 0===t?void 0:t.getInstance())||void 0===n||n.putMessageToDB(dt(dt({},e),{msg:Me.msg,modifiedInfo:Me.modifiedInfo,translations:Me.translations})))}))),le&&(Oe.message=le),[4,null===(_=null===(y=this._localCache)||void 0===y?void 0:y.getInstance())||void 0===_?void 0:_.updateLocalMessage(te,{serverMsgId:ee,status:Ee.SUCCESS})];case 15:return $e.sent(),(null===(E=this._msgHash[te])||void 0===E?void 0:E.success)instanceof Function?[4,this._msgHash[te].success(te,ee)]:[3,17];case 16:$e.sent(),$e.label=17;case 17:return(null===(S=this._msgHash[te])||void 0===S?void 0:S.resolve)instanceof Function&&this._msgHash[te].resolve(Oe),[3,19];case 18:return we=$e.sent(),Be=g.create({type:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing success function error",data:we}),this.onError&&this.onError(Be),null===(O=this.eventHandler)||void 0===O||O.dispatch("onError",Be),[3,19];case 19:this.onReceivedMessage&&this.onReceivedMessage({id:te,mid:ee,to:this._msgHash[te].to,time:0}),null===(R=this.eventHandler)||void 0===R||R.dispatch("onReceivedMessage",{id:te,mid:ee,to:this._msgHash[te].to}),delete this._msgHash[te],$e.label=20;case 20:return[3,22];case 21:if(15===Z.status.errorCode)(null===(C=this._msgHash[te])||void 0===C?void 0:C.fail)instanceof Function&&this._msgHash[te].fail({type:d.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject({type:d.SERVICE_NOT_ALLOW_MESSAGING_MUTE,reason:"you were muted"}),null===(A=null===(N=this._localCache)||void 0===N?void 0:N.getInstance())||void 0===A||A.updateLocalMessage(te,{serverMsgId:ee,status:Ee.FAIL});else if(1===Z.status.errorCode){switch(ke=void 0,Z.status.reason){case"blocked":ke=d.PERMISSION_DENIED;break;case"group not found":ke=d.GROUP_NOT_EXIST;break;case"not in group or chatroom":ke=d.GROUP_NOT_JOINED;break;case"exceed recall time limit":ke=d.MESSAGE_RECALL_TIME_LIMIT;break;case"message recall disabled":ke=d.SERVICE_NOT_ENABLED;break;case"not in group or chatroom white list":ke=d.SERVICE_NOT_ALLOW_MESSAGING;break;case"nonroster":ke=d.USER_NOT_FRIEND,Z.status.reason="not contact";break;case"group is disabled":ke=d.GROUP_IS_DISABLED,Z.status.reason="group is disabled";break;case"limit directed users":ke=d.MAX_LIMIT;break;case"Sorry, edit limit reached":ke=d.MAX_LIMIT,Z.status.reason="Modify message limit reached";break;case"Sorry, message does not exist":ke=d.MODIFY_MESSAGE_NOT_EXIST,Z.status.reason="The message does not exist.";break;case"Sorry, You do not have permission":ke=d.PERMISSION_DENIED,Z.status.reason="You do not have the modified permission.";break;case"Sorry, format is incorrect":ke=d.MODIFY_MESSAGE_FORMAT_ERROR,Z.status.reason="The modify messaged format error.";break;case"Sorry, edit is not available":ke=d.SERVICE_NOT_ENABLED,Z.status.reason="The message modify function is not activated.";break;case"Sorry, edit fail":ke=d.MODIFY_MESSAGE_FAILED,Z.status.reason="Modify message failed.";break;default:Z.status.reason.includes("grpID")&&Z.status.reason.includes("does not exist!")?(ke=d.CHATROOM_NOT_EXIST,Z.status.reason="The chat room dose not exist."):Z.status.reason.includes("username")&&Z.status.reason.includes("doesn't exist!")?ke=d.USER_NOT_FOUND:"group member list is full!"===Z.status.reason?ke=d.CHATROOM_MEMBERS_FULL:Z.status.reason.includes("can not join this group")&&Z.status.reason.includes("is in the blacklist")?(ke=d.PERMISSION_DENIED,Z.status.reason="permission denied"):"can not operate this group, reason: group is disabled"===Z.status.reason?ke=d.GROUP_IS_DISABLED:Z.status.reason.includes("moderation")?ke=d.MESSAGE_MODERATION_BLOCKED:Z.status.reason.includes("group ID illegal, please check it")?(ke=d.REQUEST_PARAMETER_ERROR,Z.status.reason="Invalid parameter"):ke=Z.status.reason.includes("has create too many chatrooms")||Z.status.reason.includes("has joined too many chatrooms")?d.MAX_LIMIT:Z.status.reason.includes("auto create failed")?d.SERVER_BUSY:d.SERVER_UNKNOWN_ERROR}this._msgHash[te]&&((null===(M=this._msgHash[te])||void 0===M?void 0:M.isHandleChatroom)?(De=g.create({type:ke,message:Z.status.reason||"",data:""}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject(De),this._msgHash[te].error instanceof Function&&this._msgHash[te].error(De),I.has(te)&&(Le=T.failed,ke===d.CHATROOM_NOT_EXIST?Le=T.notFound:ke===d.CHATROOM_MEMBERS_FULL&&(Le=T.reachLimit),Pe=I.get(te),xe=Pe.rpt,Ue=Pe.requestName,xe({isEndApi:!0,data:{isSuccess:0,requestName:Ue,requestMethod:"WEBSOCKET",requestUrl:this.url,code:Le,codeDesc:Z.status.reason}}),I.delete(te))):(De=g.create({type:ke,message:Z.status.reason||"",data:{id:te,mid:ee}}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject(De),this._msgHash[te].fail instanceof Function&&this._msgHash[te].fail({type:ke,reason:Z.status.reason?Z.status.reason:"",data:{id:te,mid:ee}}),null===(k=null===(w=this._localCache)||void 0===w?void 0:w.getInstance())||void 0===k||k.updateLocalMessage(te,{serverMsgId:ee,status:Ee.FAIL})),delete this._msgHash[te])}else if(7===Z.status.errorCode)"sensitive words"===Z.status.reason&&this._msgHash[te]?(De=g.create({type:d.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"sensitive words",data:{id:te,mid:ee}}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject(De),this._msgHash[te].fail instanceof Function&&this._msgHash[te].fail({type:d.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:te,mid:ee,reason:"sensitive words"}}),null===(P=null===(L=this._localCache)||void 0===L?void 0:L.getInstance())||void 0===P||P.updateLocalMessage(te,{serverMsgId:ee,status:Ee.FAIL})):"blocked by mod_antispam"===Z.status.reason&&this._msgHash[te]?(De=g.create({type:d.MESSAGE_INCLUDE_ILLEGAL_CONTENT,message:"blocked by mod_antispam",data:{id:te,mid:ee}}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject(De),this._msgHash[te].fail instanceof Function&&this._msgHash[te].fail({type:d.MESSAGE_INCLUDE_ILLEGAL_CONTENT,data:{id:te,mid:ee,reason:"blocked by mod_antispam"}}),null===(U=null===(x=this._localCache)||void 0===x?void 0:x.getInstance())||void 0===U||U.updateLocalMessage(te,{serverMsgId:ee,status:Ee.FAIL})):"user is mute"===Z.status.reason&&this._msgHash[te]?(De=g.create({type:d.USER_MUTED_BY_ADMIN,message:"user is mute",data:{id:te,mid:ee}}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject(De),this._msgHash[te].fail instanceof Function&&this._msgHash[te].fail(De),null===(B=null===(D=this._localCache)||void 0===D?void 0:D.getInstance())||void 0===B||B.updateLocalMessage(te,{serverMsgId:ee,status:Ee.FAIL})):"traffic limit"===Z.status.reason&&this._msgHash[te]?(De=g.create({type:d.MESSAGE_CURRENT_LIMITING,message:"traffic limit",data:{id:te,mid:ee}}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject(De),this._msgHash[te].fail instanceof Function&&this._msgHash[te].fail(De),null===(F=null===(j=this._localCache)||void 0===j?void 0:j.getInstance())||void 0===F||F.updateLocalMessage(te,{serverMsgId:ee,status:Ee.FAIL})):"Sorry, data is too large"===Z.status.reason&&this._msgHash[te]&&(De=g.create({type:d.MESSAGE_SIZE_LIMIT,message:"Sorry, data is too large",data:{id:te,mid:ee}}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject(De),this._msgHash[te].fail instanceof Function&&this._msgHash[te].fail(De),null===(W=null===(H=this._localCache)||void 0===H?void 0:H.getInstance())||void 0===W||W.updateLocalMessage(te,{serverMsgId:ee,status:Ee.FAIL}));else if(19===Z.status.errorCode)this._msgHash[te]&&(b.has(te)&&(b.get(te).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:d.MESSAGE_EXTERNAL_LOGIC_BLOCKED,codeDesc:Z.status.reason||"",msgId:ee}}),b.delete(te)),De=g.create({type:d.MESSAGE_EXTERNAL_LOGIC_BLOCKED,message:Z.status.reason||"",data:{id:te,mid:ee}}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject(De),this._msgHash[te].fail instanceof Function&&this._msgHash[te].fail({type:d.MESSAGE_EXTERNAL_LOGIC_BLOCKED,data:{id:te,mid:ee,reason:Z.status.reason}}),null===($=null===(V=this._localCache)||void 0===V?void 0:V.getInstance())||void 0===$||$.updateLocalMessage(te,{serverMsgId:ee,status:Ee.FAIL}));else if(this._msgHash[te]){b.has(te)&&(b.get(te).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:d.WEBIM_LOAD_MSG_ERROR,codeDesc:(null===(q=Z.status)||void 0===q?void 0:q.reason)||"",msgId:ee}}),b.delete(te));try{De=g.create({type:d.WEBIM_LOAD_MSG_ERROR,message:(null===(z=Z.status)||void 0===z?void 0:z.reason)||"",data:{id:te,mid:ee,reason:Z.status&&Z.status.reason}}),this._msgHash[te].reject instanceof Function&&this._msgHash[te].reject(De),null===(J=null===(K=this._localCache)||void 0===K?void 0:K.getInstance())||void 0===J||J.updateLocalMessage(te,{serverMsgId:ee,status:Ee.FAIL}),this._msgHash[te].fail instanceof Function&&this._msgHash[te].fail({type:d.WEBIM_LOAD_MSG_ERROR,data:{errorCode:Z.status&&Z.status.errorCode,reason:Z.status&&Z.status.reason}})}catch(qe){Be=g.create({type:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"when executing fail function error",data:qe}),this.onError&&this.onError(Be),null===(X=this.eventHandler)||void 0===X||X.dispatch("onError",Be)}delete this._msgHash[te]}else b.has(te)&&(b.get(te).rpt({isEndApi:!0,data:{isSuccess:0,requestMethod:"WEBSOCKET",requestUrl:this.url,code:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,codeDesc:"on message error",msgId:ee}}),b.delete(te)),Be=g.create({type:d.WEBIM_CONNCTION_CALLBACK_INNER_ERROR,message:"on message error"}),this.onError&&this.onError(Be),null===(Y=this.eventHandler)||void 0===Y||Y.dispatch("onError",Be);$e.label=22;case 22:return[2];case 23:if(Z.metas&&0!==Z.metas.length)try{Et.call(this,Z.metas,Z.status)}catch(qe){Be=g.create({type:d.WEBIM_LOAD_MSG_ERROR,message:"decode message error",data:qe}),this.onError&&this.onError(Be),null===(Q=this.eventHandler)||void 0===Q||Q.dispatch("onError",Be)}finally{Z.isLast?(Ge=-1,this._queues.some((function(e,t){return e.name===Z.name&&(Ge=t,!0)}))&&Ge>0&&this._queues.splice(Ge,1),this._queues.length>0&&Rt.call(this,this._queues[0]),je=-1,this.unSyncQueue.some((function(e,t){return e.name===Z.queue.name&&(je=t,!0)}))&&this.unSyncQueue.splice(je,1)):Z.nextKey&&(Fe=new(m())(Z.nextKey.low,Z.nextKey.high,Z.nextKey.unsigned).toString(),G.debug("nexKey",Fe),Fe!==this.nexKey&&(this.nexKey=Fe,Ct.call(this,Z.nextKey,Z.queue)))}else Z.isLast&&(He=-1,this._queues.some((function(e,t){return e.name===Z.queue.name&&(He=t,!0)}))&&this._queues.splice(He,1),this._queues.length>0&&Rt.call(this,this._queues[0]),We=-1,this.unSyncQueue.some((function(e,t){return e.name===Z.queue.name&&(We=t,!0)}))&&this.unSyncQueue.splice(We,1));return[2]}}))}))}function Ft(e){var t=[],n=this.root.lookup("easemob.pb.KeyValue"),r=[];for(var o in e){var a=n.decode(t);a.key=o,void 0!==e[o]&&("object"==typeof e[o]?(a.type=8,a.stringValue=JSON.stringify(e[o])):"string"==typeof e[o]?(a.type=7,a.stringValue=e[o]):"boolean"==typeof e[o]?(a.type=1,a.varintValue=!0===e[o]?1:0):Number.isInteger(e[o])?(a.type=2,a.varintValue=e[o]):(a.type=6,a.doubleValue=e[o]),r.push(a))}return r}function Ht(e){var t,n,r,o,a,i=[];if(this.root){var s,c=this.root.lookup("easemob.pb.MessageBody.Content").decode(i);switch(s=!e.group&&"groupchat"!==(null===(t=null==e?void 0:e.chatType)||void 0===t?void 0:t.toLowerCase())||e.roomType?e.group&&e.roomType||"chatroom"===(null===(n=null==e?void 0:e.chatType)||void 0===n?void 0:n.toLowerCase())?"chatRoom":"singleChat":"groupChat",e.type){case"txt":c.type=0,c.text=e.msg;break;case"img":c.type=1,e.body?(c.displayName=e.body.filename,c.remotePath=e.body.url,c.secretKey=e.body.secret,c.fileLength=e.body.file_length,c.size=e.body.size,c.thumbnailDisplayName=e.body.filename):e.file?(c.displayName=e.file.filename,c.remotePath=e.file.url,c.secretKey=e.file.secret,c.fileLength=e.file.file_length,c.size=e.file.size,c.thumbnailDisplayName=e.file.filename):(c.displayName=e.filename,c.remotePath=e.url,c.secretKey=e.secret,c.fileLength=e.file_length,c.size=e.size,c.thumbnailDisplayName=e.filename),e.isBuildCombinedMsg&&(c.remotePath=e.url,c.secretKey=e.secret,c.size={height:e.height,width:e.width});break;case"video":c.type=2,e.body?(c.displayName=e.body.filename,c.remotePath=e.body.url,c.secretKey=e.body.secret,c.fileLength=e.body.file_length,c.duration=e.body.length,c.thumbnailDisplayName=e.body.filename,c.thumbnailRemotePath=this.useOwnUploadFun?"":"".concat(e.body.url,"?vframe=true"),c.thumbnailSecretKey=this.useOwnUploadFun?"":e.body.secret):e.isBuildCombinedMsg&&(c.displayName=e.filename,c.remotePath=e.url,c.secretKey=e.secret,c.fileLength=e.file_length,c.duration=e.length,c.thumbnailDisplayName=e.filename,c.thumbnailRemotePath=e.thumb,c.thumbnailSecretKey=e.thumb_secret);break;case"loc":c.type=3,c.latitude=e.lat,c.longitude=e.lng,c.address=e.addr,c.buildingName=e.buildingName,c.latitude=e.lat;break;case"audio":c.type=4,e.body?(c.displayName=e.body.filename,c.remotePath=e.body.url,c.secretKey=e.body.secret,c.fileLength=e.body.file_length,c.duration=e.body.length,c.thumbnailDisplayName=e.body.filename):e.isBuildCombinedMsg&&(c.displayName=e.filename,c.remotePath=e.url,c.secretKey=e.secret,c.fileLength=e.file_length,c.duration=e.length,c.thumbnailDisplayName=e.filename);break;case"file":c.type=5,e.body?(c.displayName=e.body.filename,c.remotePath=e.body.url,c.secretKey=e.body.secret,c.fileLength=e.body.file_length,c.thumbnailDisplayName=e.body.filename):e.isBuildCombinedMsg&&(c.displayName=e.filename,c.remotePath=e.url,c.secretKey=e.secret,c.fileLength=e.file_length,c.thumbnailDisplayName=e.filename);break;case"cmd":c.type=6,c.action=e.action;break;case"custom":c.type=7,c.customEvent=e.customEvent,c.customExts=Ft.call(this,e.customExts);break;case"combine":c.type=0,c.subType=0,c.text=e.compatibleText,c.displayName=e.filename,c.remotePath=e.url,c.secretKey=e.secret,c.fileLength=e.file_length,c.title=e.title,c.summary=e.summary,c.combineLevel=e.combineLevel}var l=[];e.ext&&(l=Ft.call(this,e.ext));var u=this.root.lookup("easemob.pb.MessageBody"),p=u.decode(i),h=e.from||this.context.jid.name;p.from={name:e.isBuildCombinedMsg?h:this.context.jid.name};var f=e.to.indexOf("/"),g=f>-1?e.to.substring(0,f):e.to;if(p.to={name:g},"channel"===e.type)p.type=st.CHANNEL_ACK;else if("recall"===e.type)p.type=st.RECALL,p.ackMessageId=e.ackId;else if("delivery"===e.type)p.type=st.DELIVER_ACK,p.ackMessageId=e.ackId;else if("read"===e.type)p.type=st.READ_ACK,p.ackMessageId=e.ackId,"groupChat"===s&&(p.msgConfig={allowGroupAck:!0},p.ackContent=e.ackContent);else if("chatRoom"===s)p.type=st.CHATROOM;else if("groupChat"===s){if(p.type=st.GROUPCHAT,e.msgConfig){var v=e.msgConfig.allowGroupAck;p.msgConfig={allowGroupAck:!!v}}}else"singleChat"===s&&(p.type=st.SINGLECHAT);e.editMessageId&&(p.type=st.EDIT,p.editMessageId=e.editMessageId),p.contents=[c],p.ext=l;var y=(a={},"translations"in(o=e)&&(a.translations=o.translations),"isChatThread"in o&&o.isChatThread&&(a.thread={}),Object.keys(a).length>0?JSON.stringify(a):"");y&&(p.meta=y),p=u.encode(p).finish();var _=this.root.lookup("easemob.pb.Meta"),E=_.decode(i);E.id=e.id;var T="easemob.com";if("chatRoom"!==s&&"groupChat"!==s||(T="conference.easemob.com"),E.to={appKey:this.appKey,name:g,domain:T},f>-1&&(E.to.clientResource=e.to.substring(f+1,e.to.length)),"chatRoom"===s&&(E.ext=Ft.call(this,function(e){return{chatroom_msg_tag:"high"===e.priority?0:"low"===e.priority?2:1}}(e))),"recall"===e.type&&e.metaExt&&(E.ext=Ft.call(this,{recallMessageExtensionInfo:e.metaExt})),E.ns=1,E.payload=p,E.routetype=e.deliverOnlineOnly?1:0,"singleChat"!==s&&Array.isArray(e.receiverList)&&(null===(r=e.receiverList)||void 0===r?void 0:r.length)>0&&(E.directedUsers=e.receiverList,E.routetype=2),e.isBuildCombinedMsg)return E.timestamp=m().fromValue(e.time),_.encode(E).finish();var S=this.root.lookup("easemob.pb.CommSyncUL"),O=S.decode(i);O.meta=E,Vt.call(this,e,E),O=S.encode(O).finish();var R=this.root.lookup("easemob.pb.MSync"),b=R.decode(i);return b.version=this.version,b.encryptType=this.encryptType,b.command=0,b.payload=O,R.encode(b).finish()}e.fail&&e.fail({type:d.WEBIM_CONNCTION_CLIENT_OFFLINE,message:"Not logged in"})}function Wt(e){var t,n,r=this,o=dt({},e);if(e.file)return o.accessToken=this.token,o.appKey=this.appKey,o.apiUrl=this.apiUrl,o.body&&o.body.url?Ht.call(this,o):new Promise((function(t,n){var a=o.onFileUploadComplete;o.onFileUploadComplete=function(t){var n,i,s,c,l,u;if(t.entities[0]["file-metadata"]){var d=t.entities[0]["file-metadata"]["content-length"];o.file_length=d,o.filetype=t.entities[0]["file-metadata"]["content-type"],d>204800&&(o.thumbnail=!0)}var p="".concat(r.apiUrl,"/").concat(r.orgName,"/").concat(r.appName,"/chatfiles/").concat(t.entities[0].uuid);o.body={type:o.type||"file",secret:t.entities[0]["share-secret"],filename:o.file.filename||o.filename,url:p,length:o.length||0,filetype:o.filetype||o.file.filetype,file_length:(null===(i=null===(n=o.file)||void 0===n?void 0:n.data)||void 0===i?void 0:i.size)||0,size:{width:o.width||0,height:o.height||0}},o.file.url=t.uri,e.secret=t.entities[0]["share-secret"],t.url=e.url="".concat(p,"?em-redirect=true&share-secret=").concat(t.entities[0]["share-secret"]),e.file_length=o.file_length=(null===(c=null===(s=o.file)||void 0===s?void 0:s.data)||void 0===c?void 0:c.size)||0,"img"===o.type&&(e.thumb="".concat(e.url,"&thumbnail=true"),t.thumb="".concat(t.url,"&thumbnail=true")),"video"===o.type&&(e.thumb="".concat(e.url,"&vframe=true"),e.thumb_secret=t.entities[0]["share-secret"],t.thumb="".concat(t.url,"&vframe=true")),a instanceof Function&&a(t,o.id);var h=Ht.call(r,o);b.size<=C&&b.set(o.id,{rpt:r.dataReport.geOperateFun({operationName:y.SEND_MSG})}),null===(u=null===(l=r._localCache)||void 0===l?void 0:l.getInstance())||void 0===u||u.storeMessage(e,Ee.INPROGRESS),Jt.call(r,h)},fe.uploadFile.call(r,o,y.UPLOAD_MSG_ATTACH)}));if("combine"===e.type){o.accessToken=this.token,o.appKey=this.appKey,o.apiUrl=this.apiUrl;var a=o.onFileUploadComplete,i=o.onFileUploadError;return new Promise((function(t,n){var s,c,l,u;if((null===(s=e.messageList)||void 0===s?void 0:s.length)>300||0===(null===(c=e.messageList)||void 0===c?void 0:c.length))return r._msgHash[o.id].reject({type:d.MAX_LIMIT,message:"The number of combined messages exceeded the limit."});var p=ft([],e.messageList,!0),h=0;if(p.forEach((function(e){(null==e?void 0:e.combineLevel)>h&&(h=null==e?void 0:e.combineLevel)})),o.combineLevel=h+1,o.combineLevel>10)return r._msgHash[o.id].reject({type:d.MAX_LIMIT,message:"The level of the merged message exceeded the limit."});var f=$t.call(r,p),m=function(t,n){var i,s,c,l,u,d,p="".concat(r.apiUrl,"/").concat(r.orgName,"/").concat(r.appName,"/chatfiles/").concat(t.entities[0].uuid),h=null===(i=t.entities[0])||void 0===i?void 0:i["share-secret"],f=p+"?em-redirect=true";h&&(f="".concat(f,"&share-secret=").concat(h)),a instanceof Function&&a({url:f,secret:h}),e.url=f,e.secret=h,o.url=f,o.secret=t.entities[0]["share-secret"],o.filename=(null===(s=o.file)||void 0===s?void 0:s.filename)||(null==n?void 0:n.fileName),o.file_length=(null===(l=null===(c=o.file)||void 0===c?void 0:c.data)||void 0===l?void 0:l.size)||(null==n?void 0:n.fileLength)||0,null===(d=null===(u=r._localCache)||void 0===u?void 0:u.getInstance())||void 0===d||d.storeMessage(e,Ee.INPROGRESS);var m=Ht.call(r,o);Jt.call(r,m)},g=fe.getEnvInfo();if("web"!==g.platform&&"node"!==g.platform&&"quick_app"!==g.platform&&(null===(u=null===(l=g.global)||void 0===l?void 0:l.canIUse)||void 0===u?void 0:u.call(l,"getFileSystemManager"))){var v=g.global.getFileSystemManager(),_="".concat(r.apiUrl,"/").concat(r.orgName,"/").concat(r.appName,"/chatfiles");v.writeFile({filePath:"".concat(g.global.env.USER_DATA_PATH,"/combine"),data:f.buffer,encoding:"binary",success:function(e){g.global.uploadFile({url:_,filePath:"".concat(g.global.env.USER_DATA_PATH,"/combine"),name:"file",header:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o.accessToken},success:function(e){if(200===e.statusCode){G.debug("upload success",e);var t=JSON.parse(e.data);m(t,{fileName:"combine",fileLength:f.length})}else G.debug("upload fail"),o.onFileUploadError instanceof Function&&o.onFileUploadError(e),this._msgHash[o.id].reject({type:d.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:e})},fail:function(t){G.debug("upload fail"),o.onFileUploadError instanceof Function&&o.onFileUploadError(e),this._msgHash[o.id].reject({type:d.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:t})}})},fail:function(e){G.debug("write file fail",e),this._msgHash[o.id].reject({type:d.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:e})}})}else{var E=new File([f],"combine",{type:"application/octet-stream"}),T={url:URL.createObjectURL(E),filename:o.id,data:E};o.file=T,o.onFileUploadComplete=function(e){m(e)},o.onFileUploadError=function(e){i instanceof Function&&i(e),r._msgHash[o.id].reject({type:d.WEBIM_UPLOADFILE_ERROR,message:"Failed to upload the merge message.Please try again",data:e})},fe.uploadFile.call(r,o,y.UPLOAD_MSG_ATTACH)}}))}"img"===e.type&&(o.body||(o.body=dt(dt({},o),{size:{width:o.width||0,height:o.height||0}}))),null===(n=null===(t=this._localCache)||void 0===t?void 0:t.getInstance())||void 0===n||n.storeMessage(e,Ee.INPROGRESS);var s=Ht.call(this,o);Jt.call(this,s)}function Vt(e,t){e.editMessageId||mt.includes(e.type)&&(this._msgHash[e.id].thirdMessage=t)}function $t(e){for(var t=Uint8Array.from("cm",(function(e){return e.charCodeAt(0)})),n=0;n<e.length;n++){for(var r=e[n],o=dt(dt({},r),{isBuildCombinedMsg:!0}),a=this.mSync.encodeChatMsg.call(this,o),i=a.length,s=new Uint8Array(4),c=0;c<4;c++)s[c]=i>>8*(3-c)&255;G.debug("message length:",s);var l=new Uint8Array(t.length+s.length+a.length);l.set(t),l.set(s,t.length),l.set(a,t.length+s.length),t=l}var u=new Uint8Array(t.length+1),d=0;for(n=2;n<t.length;n++)n%2==1&&(d^=t[n]);return u.set(t),G.debug("checkResult:",d),u[t.length]=d,u}function qt(e,t,n){var r=[],o=this.root.lookup("easemob.pb.MUCBody"),a=o.decode(r);a.mucId={appKey:this.appKey,name:e,domain:"conference.easemob.com"},a.operation="join"===n?2:3,a.from={name:this.context.userId},a.isChatroom=!0,a=o.encode(a).finish();var i=this.root.lookup("easemob.pb.Meta").decode(r);i.id=t,i.from={appKey:this.appKey,name:this.context.userId,domain:"easemob.com",client_resource:this.context.jid.clientResource},i.to={domain:"easemob.com"},i.ns=2,i.payload=a;var s=this.root.lookup("easemob.pb.CommSyncUL"),c=s.decode(r);c.meta=i,c=s.encode(c).finish();var l=this.root.lookup("easemob.pb.MSync"),u=l.decode(r);return u.version=this.version,u.encryptType=this.encryptType,u.command=0,u.payload=c,l.encode(u).finish()}function zt(e,t){var n=fe.getUniqueId(),r=qt.call(this,e.roomId,n,t),o="join"===t?y.JOIN_CHATROOM:y.QUIT_CHATROOM,a=this.dataReport.geOperateFun({operationName:o});return I.size<=C&&I.set(n,{rpt:a,requestName:o}),Jt.call(this,dt(dt({},e),{isHandleChatroom:!0,joinMsg:r,id:n,operation:t}),n)}function Kt(e){var t=this;return new Promise((function(n,r){var o,a,i,s,c,l;if(t.logOut)return r({type:d.WEBIM_CONNECTION_CLOSED,message:"not login"});if(!e.id||"string"!=typeof e.id||""===e.id)return r({type:d.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "id"'});if(!e.to||"string"!=typeof e.to||""===e.to)return r({type:d.MESSAGE_PARAMETER_ERROR,message:'Missing required parameter: "to"'});var u="file"===e.type||"img"===e.type||"audio"===e.type||"video"===e.type,p="delivery"===e.type||"read"===e.type||"channel"===e.type,h="cmd"===e.type,f="recall"===e.type,m=null==e?void 0:e.editMessageId,g=!(p||f||h||m);if(e.id){if(!u&&!p||u&&t.useOwnUploadFun){var v="recall"===e.type?y.SEND_RECALL_MSG:y.SEND_MSG;m&&(v=y.MODIFY_MESSAGE),b.size<=C&&b.set(e.id,{rpt:t.dataReport.geOperateFun({operationName:v})})}g&&(null===(a=null===(o=t._localCache)||void 0===o?void 0:o.getInstance())||void 0===a||a.storeMessage(e,Ee.CREATE)),t._msgHash[e.id]=dt(dt({},e),{resolve:n,reject:r})}if(u||"combine"===e.type)return Wt.call(t,e);if("txt"===e.type&&(null===(i=e.msgConfig)||void 0===i?void 0:i.languages)&&Array.isArray(null===(s=e.msgConfig)||void 0===s?void 0:s.languages)&&e.msgConfig.languages.length>0){var _=t.translateMessage||t.translation.translateMessage;if(!_)throw new Error("there is no method to translate message");_.call(t,{text:e.msg,languages:e.msgConfig.languages}).then((function(n){var r,o,a,i=null===(r=n.data[0])||void 0===r?void 0:r.translations;i=i.map((function(e){return{code:e.to,text:e.text}})),e.translations=i,t._msgHash[e.id].translations=i,null===(a=null===(o=t._localCache)||void 0===o?void 0:o.getInstance())||void 0===a||a.storeMessage(e,Ee.INPROGRESS);var s=Ht.call(t,e);Jt.call(t,s,e.id)})).catch((function(e){r(e)}))}else{g&&(null===(l=null===(c=t._localCache)||void 0===c?void 0:c.getInstance())||void 0===l||l.storeMessage(e,Ee.INPROGRESS));var E=Ht.call(t,e);Jt.call(t,E,e.id)}}))}function Jt(e,t){var n,r,o=this;if(e.isHandleChatroom){if(!this.isOpened()){var a={data:"",type:d.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};if(I.has(e.id)){var i=I.get(e.id);(0,i.rpt)({isEndApi:!0,data:{isSuccess:0,requestName:i.requestName,requestMethod:"WEBSOCKET",requestUrl:this.url,code:T.disconnect,codeDesc:"websocket has been disconnected"}}),I.delete(e.id)}return Promise.reject(a)}return new Promise((function(n,r){var a;o._msgHash[e.id]=dt(dt({},e),{resolve:n,reject:r}),a="miniCore"===o.name?e.joinMsg:yt.call(o,e.joinMsg,t),o.sock.send(a)}))}if(!this.isOpened())return null===(n=this.unMSyncSendMsgMap)||void 0===n||n.set(t,e),!this.logOut&&this.autoReconnectNumTotal<this.autoReconnectNumMax&&(this.autoReconnectNumTotal<=this.socketHost.length&&this.isHttpDNS||!this.isHttpDNS)&&(G.debug("need to reconnect",this.autoReconnectNumTotal,this.autoReconnectNumMax),this.offLineSendConnecting=!0,this.reconnecting||this.reconnect()),void(this.onError&&this.onError({type:d.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"}));r="miniCore"===this.name?e:yt.call(this,e,t),this.sock.send(r)}var Xt=function(e,t){return e.send=Kt,e.sendMsg=Kt,G.debug("init Msync by ".concat(e.name)),{generateProvision:vt.bind(e),base64transform:yt.bind(e),distributeMeta:_t.bind(e),decodeMeta:Et.bind(e),decodeUnreadDL:Tt.bind(e),_rebuild:St.bind(e),_lastsession:bt.bind(e),receiveProvision:Nt.bind(e),isInQueue:xt.bind(e),decodeNotice:Ut.bind(e),decodeMSync:Bt.bind(e),distributeMSync:Gt.bind(e),encodeChatMsg:Ht.bind(e),upLoadFile:Wt.bind(e),send:Kt.bind(e),stopHeartBeat:Lt.bind(e),handleChatRoom:zt.bind(e)}},Yt=function(){function e(e,t,n){this.handlerData={},this.handlerData={},e.addEventHandler=this.addEventHandler.bind(this),e.removeEventHandler=this.removeEventHandler.bind(this)}return e.prototype.addEventHandler=function(e,t){this.handlerData[e]=t},e.prototype.removeEventHandler=function(e){delete this.handlerData[e]},e.prototype.dispatch=function(e,t){for(var n in G.debug("dispatch event: "+e,t||""),this.handlerData){var r=this.handlerData[n][e];r&&r(t)}},e}(),Qt=function(){};function Zt(e){this.onOpened=e.onOpened||Qt,this.onPresence=e.onPresence||Qt,this.onTextMessage=e.onTextMessage||Qt,this.onPictureMessage=e.onPictureMessage||Qt,this.onAudioMessage=e.onAudioMessage||Qt,this.onVideoMessage=e.onVideoMessage||Qt,this.onFileMessage=e.onFileMessage||Qt,this.onLocationMessage=e.onLocationMessage||Qt,this.onCmdMessage=e.onCmdMessage||Qt,this.onCustomMessage=e.onCustomMessage||Qt,this.onReceivedMessage=e.onReceivedMessage||Qt,this.onDeliveredMessage=e.onDeliveredMessage||Qt,this.onReadMessage=e.onReadMessage||Qt,this.onRecallMessage=e.onRecallMessage||Qt,this.onChannelMessage=e.onChannelMessage||Qt,this.onError=e.onError||Qt,this.onOffline=e.onOffline||Qt,this.onOnline=e.onOnline||Qt,this.onStatisticMessage=e.onStatisticMessage||Qt,this.onContactInvited=e.onContactInvited||Qt,this.onContactAgreed=e.onContactAgreed||Qt,this.onContactRefuse=e.onContactRefuse||Qt,this.onContactDeleted=e.onContactDeleted||Qt,this.onContactAdded=e.onContactAdded||Qt,this.onTokenWillExpire=e.onTokenWillExpire||Qt,this.onTokenExpired=e.onTokenExpired||Qt,this.onClosed=e.onClosed||Qt,this.onPresenceStatusChange=e.onPresenceStatusChange||Qt}var en={biz:"",debug:!1,token:""},tn="https://data-reporting.agora.io/report",nn="https://data-reporting.sh.agoralab.co/report",rn=function(e){var t=Number(v[e]);return t===v.USER_LOGIN?"MANUALLOGIN":t===v.MSYNC_SENDMESSAGE?"SENDMESSAGE":t>v.UNKNOWOPERATION&&t<v.REST_OPERATE?"REST":t>v.REST_OPERATE&&t<v.MSYNC_OPERATE?"MESSAGE":t>v.MSYNC_OPERATE&&t<v.ROSTER_OPERATE?"ROSTER":t>v.ROSTER_OPERATE&&t<v.USER_OPERATE?"USER":t>v.USER_OPERATE&&t<v.GROUP_OPERATE?"GROUP":t>v.GROUP_OPERATE&&t<v.CHATROOM_OPERATE?"CHATROOM":"OPERATION"},on=function(){return(new Date).getTime()},an=function(e){return[ie.BAIDU,ie.WX,ie.DD,ie.ZFB,ie.TT,ie.QUICK_APP,ie.UNI].includes(e.platform)},sn=function(){return e=1,t=99999,e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e;var e,t},cn={},ln=1e3,un=function(){function e(e){this.eventQueue=[],this.stock=ln,this.config=e,this.governor()}return e.prototype.add=function(e){this.stock<=0?console.warn("Event Report limit ".concat(ln," per minute")):(this.eventQueue.push(e),this.consume(),this.stock-=1)},e.prototype.consume=function(){var e=this;0!==this.eventQueue.length&&(this.timer&&this.eventQueue.length<=10&&clearTimeout(this.timer),this.timer=setTimeout((function(){var t,n=e.eventQueue.splice(0,10),r=n.filter((function(e){return e.appId===n[0].appId})),o=n.filter((function(e){return e.appId!==n[0].appId}));(t=e.eventQueue).unshift.apply(t,o),e.batchSend(r)}),1e3))},e.prototype.governor=function(){var e=this,t=setInterval((function(){e.stock=ln}),6e4);"undefined"!=typeof addEventListener&&addEventListener("beforeunload",(function(){clearInterval(t)}))},e.prototype.batchSend=function(e){var t,n;if(void 0===e&&(e=[]),0!==e.length)try{var r=e.map((function(e){e.biz,e.appId;var t=e.eventId,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["biz","appId","eventId"]);return{eventId:Number(t),body:n}}));!function(e,t){try{var n=t.biz,r=t.appId,o=t.data,a=t.debug,i=t.onSuccess;if(!n)throw new Error("biz is not defined");cn.global||(cn=fe.getEnvInfo());var s=cn;if(an(s)){var c={url:a?nn:tn,data:o,method:"POST",success:function(){null==i||i()},fail:function(){},complete:function(){}},l={token:e,appid:null!=r?r:"",sendts:"".concat(Math.floor((new Date).getTime()/1e3)),biz:n,debug:"".concat(a)};if("zfb"===s.platform||"dd"===s.platform?c.headers=l:c.header=l,"dd"===s.platform)return s.global.httpRequest(c);s.global.request(c)}else{var u=new XMLHttpRequest;u.onreadystatechange=function(){2===u.readyState&&(null==i||i())},u.open("POST",a?nn:tn),u.setRequestHeader("Content-Type","application/json"),u.setRequestHeader("token",e),u.setRequestHeader("appid",null!=r?r:""),u.setRequestHeader("sendts","".concat(Math.floor((new Date).getTime()/1e3))),u.setRequestHeader("biz",n),u.setRequestHeader("debug","".concat(a)),u.send(JSON.stringify(o))}}catch(d){console.error(d)}}(this.config.token,{biz:null===(t=e[0])||void 0===t?void 0:t.biz,appId:null===(n=e[0])||void 0===n?void 0:n.appId,data:r,debug:this.config.debug,onSuccess:this.consume.bind(this)})}catch(o){console.error(o)}},e}(),dn=function(){return dn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},dn.apply(this,arguments)},pn=new(function(){function e(e){this.inited=!1,this.appId="",this.biz="",this.eventQueue={},this.config=en,e&&this.init(e)}return e.prototype.init=function(e){var t;if(void 0===e&&(e={}),!e.biz||!e.token)throw new Error("Event Report: biz or token is not defined");try{this.appId=null!==(t=e.appId)&&void 0!==t?t:"",this.biz=e.biz,this.config=dn(dn({},en),e),this.eventQueue=new un(this.config),this.log(e),this.inited=!0}catch(n){console.error(n)}},e.prototype.send=function(e,t,n){var r;if(void 0===t&&(t={}),this.inited){var o=dn(dn({},t),{eventId:Number(e),biz:this.biz,appId:null!==(r=null==n?void 0:n.appId)&&void 0!==r?r:this.appId});this.eventQueue.add(o),this.log(o)}else console.error("Event Report: init is not called")},e.prototype.log=function(e){try{if(this.config.debug){var t=e.payload,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["payload"]);console.log("%c Event Report: ".concat(this.config.biz," "),"background: #8A97FC; color: #fff"),console.table(n),t&&(console.info("payload:"),console.table(t))}}catch(r){console.error(r)}},e}()),hn=function(){return hn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},hn.apply(this,arguments)},fn={requestName:"",subrequestid:"1",requestMethod:"GET",requestUrl:"",requestElapse:0,code:0,codeDesc:"",isLastApi:0,isSuccess:1},mn=function(){function e(e){this.platform=fe.getEnvInfo(),this.isReportDt=e.isReport||!1,this.isCollectDt=!0,an(this.platform)&&!this.isReportDt&&(this.isCollectDt=!1),this.eventQueue=[],this.accessChannel="direct",this.options=function(e,t){t.platform||(t=fe.getEnvInfo());var n=e.org,r=e.appkey,o=e.deviceId,a=e.sdkVersion,i=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||"".concat(t.platform,"_mini_program");return{org:n,appkey:r,deviceId:o,sdkServiceId:"sid_".concat(fe.getUniqueId(),"_").concat(sn()),did:i,sdkVersion:a,os:7,sdkProduct:S.web}}(e,this.platform),this.sid=this.options.sdkServiceId,this.init(e)}return e.getInstance=function(){return e.instance},e.prototype.getServiceId=function(){return this.sid||"sid_0"},e.prototype.setIsReportDt=function(e){this.isReportDt=e,e&&this.rptEventQueue()},e.prototype.setIsCollectDt=function(e){this.isCollectDt=e,e||(this.eventQueue=[])},e.prototype.rptEventQueue=function(){var e=this;this.eventQueue.length&&this.eventQueue.forEach((function(t,n){pn.send(t.eventId,t.dt),n>=e.eventQueue.length-1&&(e.eventQueue=[])}))},e.prototype.init=function(t){e.instance||(e.instance=this,pn.init({biz:"im",token:"32f24ab2ddb74f508aa9286c356cec84",appId:t.appkey,debug:!1}),this.reportInit())},e.prototype.reportInit=function(){if(this.isCollectDt){var e=this.options,t=e.did,n=e.os,r=e.sdkVersion,o=e.deviceId;this.reportData(9674,{did:t,os:n,sdkVersion:r,deviceId:o})}},e.prototype.geOperateFun=function(e){var t=this;if(!this.isCollectDt)return function(){};var n=1,r=0,o="",a=on(),i=e.uid,s=e.operationName;i&&(this.uid=i);var c={uid:this.uid,operationId:"opr_".concat(fe.getUniqueId(),"_").concat(sn()),requestid:"req_".concat(fe.getUniqueId(),"_").concat(sn()),operationName:s};return function(e){var i,l,u,d;if(e.data.isSuccess?(r=0,o=""):(0===e.data.code&&(e.data.code=A),r=null!==(i=e.data.code)&&void 0!==i?i:r,o=null!==(l=e.data.codeDesc)&&void 0!==l?l:o),(null===(u=e.data)||void 0===u?void 0:u.accessChannel)&&(t.accessChannel=null===(d=e.data)||void 0===d?void 0:d.accessChannel),e.isRetry?(n++,e.data.subrequestid="".concat(n)):(c.requestid="req_".concat(fe.getUniqueId(),"_").concat(sn()),n=1),e.data.isLastApi){var p=on();e.data.requestElapse=p-a,e.data.requestMethod="",e.data.subrequestid="0",e.data.code=200===r?0:r,e.data.codeDesc=o}else e.data.requestName||(e.data.requestName=s);e.data.requestElapse||(e.data.requestElapse=on()-a),t.reportData.call(t,N,hn(hn(hn(hn({},fn),c),e.data),{accessChannel:t.accessChannel,operationType:rn(s)})),e.isEndApi&&t.reportData.call(t,N,hn(hn(hn({},c),fn),{isSuccess:e.data.isSuccess,isLastApi:1,subrequestid:"0",requestMethod:"",code:200===r?0:r,codeDesc:o,requestElapse:e.data.requestElapse,accessChannel:t.accessChannel,operationType:rn(s)}))}},e.prototype.reportData=function(e,t){return n=this,r=void 0,a=function(){var n,r,o,a,i,s,c,l;return function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),n=on(),r=0,e!==N?[3,2]:[4,(d=this.platform,new Promise((function(e){var t;d.platform||(d=fe.getEnvInfo());var n="";if(d.platform===ie.WEB){var r=navigator.connection;(null==r?void 0:r.type)?(null==r||r.type,n=E.WIFI):(null==r?void 0:r.effectiveType)&&(n=E[r.effectiveType.toLocaleUpperCase()]),e(n)}else d.platform===ie.NODE?(n=E.UNKNOWN,e(n)):null===(t=d.global)||void 0===t||t.getNetworkType({success:function(t){n=E[t.networkType.toLocaleUpperCase()],e(n)}})})))];case 1:r=u.sent(),u.label=2;case 2:return o=this.options,a=o.appkey,i=o.sdkServiceId,s=o.sdkProduct,c=hn({lts:n,net:r,appkey:a,sdkServiceId:i,sdkProduct:s},t),this.isReportDt?pn.send(e,c):this.isCollectDt&&this.eventQueue.push({eventId:e,dt:c}),[3,4];case 3:return l=u.sent(),console.warn(l),[3,4];case 4:return[2]}var d}))},new((o=void 0)||(o=Promise))((function(e,t){function i(e){try{c(a.next(e))}catch(n){t(n)}}function s(e){try{c(a.throw(e))}catch(n){t(n)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(i,s)}c((a=a.apply(n,r||[])).next())}));var n,r,o,a},e}(),gn=mn;function vn(){var e=this.context.appName,t=this.context.orgName;return!(!e||!t)||(this.onError&&this.onError({type:d.WEBIM_CONNCTION_AUTH_ERROR,message:"appName or orgName is illegal"}),!1)}function yn(){var e;if(!this.context.accessToken){var t=g.create({type:d.WEBIM_CONNCTION_TOKEN_NOT_ASSIGN_ERROR,message:"token not assign error"});return this.onError&&this.onError(t),null===(e=this.eventHandler)||void 0===e||e.dispatch("onError",t),!1}return!0}function _n(){return yn.call(this)&&vn.call(this)}function En(e){var t=e.data,n=e.type;return{data:{status:Object.keys(t.errorKeys).length>0?"fail":"success",errorKeys:t.errorKeys,successKeys:t.successKeys},type:n}}function Tn(e){var t=e.data,n=void 0;return Object.keys(t.errorKeys).length>0&&Object.keys(t.errorKeys).forEach((function(e){var r=t.errorKeys[e];n=r.includes("is not part of you")?g.create({type:d.NO_PERMISSION,message:r}):r.includes("size of metadata for this single chatroom exceeds the user defined limit")||r.includes("total size of chatroom metadata for this app exceeds the user defined limit")||r.includes("is exceeding maximum limit")?g.create({type:d.MAX_LIMIT,message:r}):r.includes("is not Legal")?g.create({type:d.REQUEST_PARAMETER_ERROR,message:r}):r.includes("Failed to update userMetadata. Concurrent updates not allowed")?g.create({type:d.OPERATION_NOT_ALLOWED,message:r}):g.create({type:d.WEBIM_CONNCTION_AJAX_ERROR,message:r})})),n}var Sn=function(){return Sn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Sn.apply(this,arguments)},On=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Rn=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},bn={singleChat:"chat",chatRoom:"chatroom",groupChat:"groupchat"};function In(e){if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:this.apiUrl+"/"+r+"/"+o+"/users/"+this.user+"/blocks/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a},success:function(t){t.data.forEach((function(e){})),"function"==typeof(null==e?void 0:e.success)&&e.success(t)},error:function(t){"function"==typeof(null==e?void 0:e.error)&&e.error(t)}};return G.debug("Call getBlocklist"),te.call(this,i,y.GET_BLACK_LIST)}var Cn=In,Nn=An;function An(e){var t=this;if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s={url:this.apiUrl+"/"+o+"/"+a+"/users/"+this.user+"/contacts/users",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+i},success:function(n){var r=[];n.data.forEach((function(e){r.push({name:e,subscription:"both",jid:t.context.jid})})),"function"==typeof(null==e?void 0:e.success)&&e.success(r)},error:function(t){"function"==typeof(null==e?void 0:e.error)&&e.error(t)}};return G.debug("Call getContacts"),te.call(this,s,y.GET_CONTACTS)}function Mn(e){if("string"!=typeof e.deviceId||""===e.deviceId)throw Error('Invalid parameter: "deviceId"');if("string"!=typeof e.deviceToken||""===e.deviceToken)throw Error('Invalid parameter: "deviceToken"');if("string"!=typeof e.notifierName||""===e.notifierName)throw Error('Invalid parameter: "notifierName"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(this.user),type:"PUT",data:JSON.stringify({device_id:e.deviceId,device_token:e.deviceToken,notifier_name:e.notifierName}),dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call uploadPushToken",e),te.call(this,i,y.UPLOAD_PUSH_TOKEN)}var wn=Mn;function kn(e){if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(this.user,"/user_channels"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e&&(null==e?void 0:e.success),error:e&&(null==e?void 0:e.error)};return G.debug("Call getSessionList"),te.call(this,i,y.GET_SESSION_LIST)}function Ln(e){var t=this;if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s=!!(e&&"number"==typeof e.pageNum&&"number"==typeof e.pageSize&&e.pageNum>0&&e.pageSize>0),c={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(this.user,"/user_channels").concat(s?"/page":""),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},success:e&&(null==e?void 0:e.success),error:e&&(null==e?void 0:e.error)};return s&&(c.data={pageNum:e.pageNum,pageSize:e.pageSize}),G.debug("Call getConversationlist"),te.call(this,c,y.GET_SESSION_LIST).then((function(e){return Pn.call(t,e)}))}function Pn(e){var t=this,n=e.data.channel_infos;return null==n||n.forEach((function(e){e.meta&&"{}"!==JSON.stringify(e.meta)?(e.meta.payload=JSON.parse(e.meta.payload),e.lastMessage=_e.call(t,e.meta,{formatCustomExts:!1})):e.lastMessage=e.meta,delete e.meta})),e}function xn(e){if(e&&"string"!=typeof e.channel)throw Error("Invalid parameter channel: ".concat(e.channel));if(e&&"singleChat"!==e.chatType&&"groupChat"!==e.chatType)throw Error("Invalid parameter chatType: ".concat(e.chatType));if(e&&"boolean"!=typeof e.deleteRoam)throw Error("Invalid parameter deleteRoam: ".concat(e.deleteRoam));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n,r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s=r.jid;n="singleChat"===e.chatType?"chat":"groupChat";var c={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/user/").concat(this.user,"/user_channel?resource=").concat(s.clientResource),dataType:"json",type:"DELETE",data:JSON.stringify({channel:e.channel,type:n,delete_roam:e.deleteRoam}),headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call deleteSession",e),te.call(this,c,y.DELETE_SESSION)}var Un=xn;function Dn(e,t){if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s=["nickname","avatarurl","mail","phone","gender","sign","birth","ext"],c={},l=fe.getEnvInfo();if("wx"===l.platform||"qq"===l.platform)if("string"==typeof e&&void 0!==t){if(!s.includes(e))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");c[e]=t}else{if("[object Object]"!==Object.prototype.toString.call(e))throw new Error("illegal params");s.forEach((function(t){s.includes(t)&&void 0!==e[t]&&(c[t]=e[t])}))}else if("string"==typeof e){if(!s.includes(e))throw new Error("illegal key, only these keys: nickname, avatarurl, mail, phone, gender, sign, birth, ext are allowed");c=e+"="+t}else{if("[object Object]"!==Object.prototype.toString.call(e))throw new Error("illegal params");var u=[];s.forEach((function(t){if(s.includes(t)&&void 0!==e[t]){var n=encodeURIComponent(t),r=encodeURIComponent(e[t]);u.push(n+"="+r)}})),c=u.join("&")}var p={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/metadata/user/").concat(this.user),type:"PUT",data:c,dataType:"json",headers:{Authorization:"Bearer "+i,"Content-Type":"application/x-www-form-urlencoded"}};return G.debug("Call updateOwnUserInfo",e),te.call(this,p,y.UPDATE_USER_INFO)}var Bn=Dn;function Gn(e,t){if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var r,o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c=[];if("string"==typeof e)c=[e];else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("illegal params");c=e}r="string"==typeof t?[t]:t&&"[object Array]"===Object.prototype.toString.call(t)?t:["nickname","avatarurl","mail","phone","gender","sign","birth","ext"];var l={url:"".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/metadata/user/get"),type:"POST",data:JSON.stringify({targets:c,properties:r}),dataType:"json",headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"}};return G.debug("Call fetchUserInfoById",e),te.call(this,l,y.GET_USER_INFO)}function jn(e){if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(this.user),type:"PUT",dataType:"json",data:JSON.stringify({nickname:e}),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return G.debug("Call updateCurrentUserNick",e),te.call(this,i)}function Fn(e){if("string"!=typeof e||""===e)throw Error('Invalid parameter: "token"');var t=this.context,n=t.orgName,r=t.appName,o={url:"".concat(this.apiUrl,"/").concat(n,"/").concat(r,"/sdk/users/").concat(this.user,"/token/expires"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}};return G.debug("Call getTokenExpireTimestamp",e),te.call(this,o,y.SDK_INTERNAL)}function Hn(e){var t=this;return new Promise((function(n,r){if(!e.queue)throw Error('Invalid parameter: "specified"');if(!_n.call(t)){var o=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(o)}(function e(t){var o=this,a=t.count||20;Wn.call(this,{count:a,isGroup:!!t.isGroup,queue:t.queue,start:t.start,format:t.format,success:function(r){if(r.msgs.length>=a||r.is_last){var i=r.msgs.splice(0,a).reverse();t.success&&t.success(i),n(i)}else e.call(o,Sn(Sn({},t),{start:null}))},fail:function(e){r(e),t.fail&&t.fail(e)}})}).call(t,e),G.debug("Call fetchHistoryMessages",e)}))}function Wn(e){var t=this,n=e.queue,r=this.mr_cache[n]||(this.mr_cache[n]={msgs:[]}),o=this.context.userId,a=e.start||-1,i=e.count||20;if(r.msgs.length>=i||r.is_last)"function"==typeof e.success&&e.success(r);else{r&&r.next_key&&(a=r.next_key),e.start&&(a=e.start);var s={queue:n+(e.isGroup?"@conference.easemob.com":"@easemob.com"),start:a,end:-1},c=this.context,l=c.orgName,u=c.appName,p={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/users/").concat(o,"/messageroaming"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"},data:JSON.stringify(s),success:function(n){return On(t,void 0,void 0,(function(){var t,o,a,i,s,c,l=this;return Rn(this,(function(u){switch(u.label){case 0:if(t=null==n?void 0:n.data,!n.data.msgs)return"function"==typeof e.success&&e.success(r),r.is_last=!0,r.next_key="",[2];o=t.msgs,a=o.length,r.is_last=t.is_last,r.next_key=t.next_key,i=function(t){return On(l,void 0,void 0,(function(){var n,r,o,a,i;return Rn(this,(function(s){switch(s.label){case 0:for(n=[],t=ge().atob(t),r=0,o=t.length;r<o;++r)n.push(t.charCodeAt(r));return a=(a=this.context.root.lookup("easemob.pb.Meta")).decode(n),i={errorCode:0,reason:""},1!==a.ns?[3,2]:[4,ze.call(this,a,i,!0,e.format)];case 1:return[2,s.sent()];case 2:return[2]}}))}))},s=0,u.label=1;case 1:return s<a?[4,i(o[s].msg)]:[3,4];case 2:(c=u.sent())&&r.msgs.push(c),u.label=3;case 3:return s++,[3,1];case 4:return"function"==typeof e.success&&e.success(r),[2]}}))}))},error:function(e){if(e.error&&e.error_description){var n=g.create({type:d.WEBIM_CONNCTION_AJAX_ERROR,message:"fetch history messages error",data:e});t.onError&&t.onError(n)}}};te.call(this,p,y.GET_HISTORY_MSG).catch((function(t){"function"==typeof e.fail&&e.fail(t)}))}}function Vn(e){var t=this;return new Promise((function(n,r){var o=e.targetId,a=e.cursor,i=void 0===a?-1:a,s=e.pageSize,c=void 0===s?20:s,l=e.chatType,u=e.searchDirection,p=e.searchOptions,h=void 0===p?{}:p,f=h.msgTypes,m=void 0===f?[]:f,v=h.startTime,y=void 0===v?null:v,_=h.endTime,E=void 0===_?null:_,T=h.from,S=void 0===T?null:T;if("string"!=typeof o||""===o)throw Error('"Invalid parameter": "targetId"');if(S&&"string"!=typeof S)throw Error('"Invalid parameter": "searchOptions.from"');if(m&&!Array.isArray(m))throw Error('"Invalid parameter": "searchOptions.msgTypes"');if(y&&"number"!=typeof y)throw Error('"Invalid parameter": "searchOptions.startTime"');if(E&&"number"!=typeof y)throw Error('"Invalid parameter": "searchOptions.endTime"');if(!_n.call(t)){var O=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return r(O)}var R=t.context,b=R.orgName,I=R.appName,C=R.userId,N="singleChat"===e.chatType?"@easemob.com":"@conference.easemob.com",A={queue:"".concat(o).concat(N),start:i,pull_number:c,is_positive:"down"===u,msgType:m.join(",")||"",end:-1,startTime:y,endTime:E,userId:"singleChat"===l?null:S},M={url:"".concat(t.apiUrl,"/").concat(b,"/").concat(I,"/users/").concat(C,"/messageroaming"),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+t.token,"Content-Type":"application/json"},data:JSON.stringify(A),success:function(r){return On(t,void 0,void 0,(function(){var t,o,a,i,s,c,l,u,d=this;return Rn(this,(function(p){switch(p.label){case 0:t=null==r?void 0:r.data,o=t.msgs||[],a=function(e){return On(d,void 0,void 0,(function(){var t,n,r,o,a;return Rn(this,(function(i){switch(i.label){case 0:for(t=[],e=ge().atob(e),n=0,r=e.length;n<r;++n)t.push(e.charCodeAt(n));return o=(o=this.context.root.lookup("easemob.pb.Meta")).decode(t),a={errorCode:0,reason:""},1!==o.ns?[3,2]:[4,ze.call(this,o,a,!0,!0)];case 1:return[2,i.sent()];case 2:return[2]}}))}))},i=[],s=0,p.label=1;case 1:return s<o.length?[4,a(o[s].msg)]:[3,4];case 2:(c=p.sent())&&i.push(c),p.label=3;case 3:return s++,[3,1];case 4:return t.msgs=i,l={cursor:t.next_key,messages:i,isLast:t.is_last},null===(u=e.success)||void 0===u||u.call(e,l),n(l),[2]}}))}))},error:e.fail};te.call(t,M).catch((function(e){r(e)})),G.debug("Call getHistoryMessages",e)}))}function $n(e,t){return On(this,void 0,void 0,(function(){var n,r,o,a,i,s,c;return Rn(this,(function(l){switch(l.label){case 0:if(!_n.call(this))return n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(n)];if("string"!=typeof e||""===e)throw Error('"Invalid parameter": "to"');return G.debug("Call addContact",e,t),r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s=r.jid,c={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(this.user,"/contacts/apply?resource=").concat(s.clientResource),type:"POST",dataType:"json",data:JSON.stringify({usernames:[e],reason:t}),headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}},[4,te.call(this,c,y.ROSTER_ADD)];case 1:return l.sent(),[2]}}))}))}var qn=zn;function zn(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s;return Rn(this,(function(c){switch(c.label){case 0:if(!_n.call(this))return t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if("string"!=typeof e||""===e)throw Error('"Invalid parameter": "to"');return G.debug("Call deleteContact",e),n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(this.user,"/contacts/users/").concat(e,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}},[4,te.call(this,s,y.ROSTER_REMOVE)];case 1:return c.sent(),[2]}}))}))}function Kn(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s;return Rn(this,(function(c){switch(c.label){case 0:if(!_n.call(this))return t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if("string"!=typeof e||""===e)throw Error('"Invalid parameter": "to"');return G.debug("Call acceptInvitation",e),n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(this.user,"/contacts/accept/users/").concat(e,"?resource=").concat(i.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}},[4,te.call(this,s,y.ROSTER_ACCEPT)];case 1:return c.sent(),[2]}}))}))}var Jn=Kn;function Xn(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s;return Rn(this,(function(c){switch(c.label){case 0:if(!_n.call(this))return t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if("string"!=typeof e||""===e)throw Error('"Invalid parameter": "to"');return G.debug("Call declineInvitation",e),n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(this.user,"/contacts/decline/users/").concat(e,"?resource=").concat(i.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}},[4,te.call(this,s,y.ROSTER_DECLINE)];case 1:return c.sent(),[2]}}))}))}var Yn=Xn;function Qn(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l;return Rn(this,(function(u){switch(u.label){case 0:if(!_n.call(this))return t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(n=e.name,r=[],"string"==typeof n){if(""===n)throw Error('"Invalid parameter": "name"');r=[n]}else{if(!Array.isArray(n))throw Error('"Invalid parameter": "name"');r=n}return G.debug("Call addToBlockList",e),o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c=o.jid,l={url:"".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/sdk/user/").concat(this.user,"/blocks?resource=").concat(c.clientResource),type:"POST",dataType:"json",data:JSON.stringify({usernames:r}),headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"}},[4,te.call(this,l,y.ROSTER_BAN).then((function(e){return{type:e.type,data:{userIds:(null==e?void 0:e.data)||[]}}}))];case 1:return[2,u.sent()]}}))}))}var Zn=Qn,er=Qn;function tr(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l;return Rn(this,(function(u){switch(u.label){case 0:if(!_n.call(this))return t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(n=e.name,r=[],"string"==typeof n){if(""===n)throw Error('"Invalid parameter": "name"');r=[n]}else{if(!Array.isArray(n))throw Error('"Invalid parameter": "name"');r=n}return G.debug("Call removeFromBlockList",e),o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c=o.jid,l={url:"".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/sdk/user/").concat(this.user,"/blocks?resource=").concat(c.clientResource),type:"DELETE",dataType:"json",data:JSON.stringify({usernames:r}),headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"}},[4,te.call(this,l,y.ROSTER_ALLOW)];case 1:return u.sent(),[2]}}))}))}var nr=tr,rr=tr;function or(e){var t=this,n=(null==e?void 0:e.ext)||"";if("string"!=typeof n)throw Error('"Invalid parameter": "ext"',n);var r=this.getUniqueId(),o={id:r,to:e.to};this._msgHash[r]=Sn({},o);var a="";void 0!==e.chatType?a=e.chatType:void 0!==e.type&&(a="chat"===e.type?"singleChat":e.type);var i={id:r,type:"recall",chatType:a,ackId:e.mid,to:e.to,isChatThread:e.isChatThread||!1,metaExt:n,success:function(n){return On(t,void 0,void 0,(function(){var t,r,o,i,s,c,l,u,d;return Rn(this,(function(p){switch(p.label){case 0:return p.trys.push([0,5,,6]),"singleChat"!==a&&"groupChat"!==a?[3,4]:[4,null===(o=null===(r=this._localCache)||void 0===r?void 0:r.getInstance())||void 0===o?void 0:o.removeMsgByServerMsgId(e.mid)];case 1:return p.sent(),[4,null===(s=null===(i=this._localCache)||void 0===i?void 0:i.getInstance())||void 0===s?void 0:s.getConversationLastMessage(e.to,a)];case 2:return t=p.sent(),[4,null===(l=null===(c=this._localCache)||void 0===c?void 0:c.getInstance())||void 0===l?void 0:l.updateLocalConversation(Te({conversationId:e.to,conversationType:a}),{lastMessageId:null==t?void 0:t.serverMsgId})];case 3:p.sent(),p.label=4;case 4:return null===(u=null==e?void 0:e.success)||void 0===u||u.call(e,n),[3,6];case 5:return p.sent(),null===(d=null==e?void 0:e.success)||void 0===d||d.call(e,n),[3,6];case 6:return[2]}}))}))},fail:e.fail};return G.debug("Call recallMessage",e),this.mSync.send(i,this)}function ar(e){var t=e||{},n=t.messageId,r=t.modifiedMessage;if(G.debug("Call modifyMessage",n,r),""===n)throw Error('Invalid parameter: "messageId"');if("txt"!==r.type)throw Error('Invalid parameter: "modifiedMessage.type"');return this.mSync.send(Sn({editMessageId:n},r))}function ir(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l;return Rn(this,(function(u){switch(u.label){case 0:if("string"!=typeof e.messageId||!e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if("string"!=typeof e.reaction||!e.reaction)throw Error("Invalid parameter reaction: ".concat(e.reaction));return _n.call(this)?(n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.reaction,s=e.messageId,c={msgId:s,message:i},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/reaction/user/").concat(this.user),type:"POST",data:JSON.stringify(c),dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}},[4,te.call(this,l)]):(t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return u.sent(),[2]}}))}))}function sr(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c;return Rn(this,(function(l){switch(l.label){case 0:if("string"!=typeof e.reaction||!e.reaction)throw Error("Invalid parameter reactionId: ".concat(e.reaction));return _n.call(this)?(n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.messageId,s=e.reaction,c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/reaction/user/").concat(this.user,"?msgId=").concat(i,"&message=").concat(s),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}},[4,te.call(this,c)]):(t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return l.sent(),[2]}}))}))}function cr(e){if("string"!=typeof e.chatType||!e.chatType)throw Error("Invalid parameter chatType: ".concat(e.chatType));if(!e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.chatType,s=e.messageId,c={msgIdList:"string"==typeof s?[s]:s,msgType:"singleChat"===i?"chat":"groupchat",groupId:e.groupId||null},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/reaction/user/").concat(this.user),type:"GET",data:c,dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,l).then((function(e){var t=e.data;return null==t||t.forEach((function(e){null==e||e.reactionList.forEach((function(e){e.isAddedBySelf=e.state,delete e.state,delete e.reactionId}))})),e}))}var lr=cr;function ur(e){if("string"!=typeof e.reaction||!e.reaction)throw Error("Invalid parameter reaction: ".concat(e.reaction));if("string"!=typeof e.messageId||!e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.cursor,s=e.pageSize,c={msgId:e.messageId,message:e.reaction,currentPage:i||null,pageSize:s||20},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/reaction/user/").concat(this.user,"/detail"),type:"GET",data:c,dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,l).then((function(e){return e.data.isAddedBySelf=e.data.state,delete e.data.state,delete e.data.reactionId,e}))}function dr(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l,u,p;return Rn(this,(function(h){switch(h.label){case 0:if("string"!=typeof e.reportType||!e.reportType)throw Error("Invalid parameter reportType: ".concat(e.reportType));if("string"!=typeof e.messageId||!e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if("string"!=typeof e.reportReason||!e.reportReason)throw Error("Invalid parameter messageId: ".concat(e.reportReason));return _n.call(this)?(n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.reportType,s=e.reportReason,c=e.messageId,l={username:this.user,reportType:i,reportReason:s},u="".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/user/").concat(this.user,"/moderation/report/message/").concat(c),p={url:u,type:"POST",data:JSON.stringify(l),dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}},[4,te.call(this,p)]):(t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return h.sent(),[2]}}))}))}function pr(e){var t;return On(this,void 0,void 0,(function(){var n,r,o,a,i,s,c,l,u;return Rn(this,(function(p){switch(p.label){case 0:if("string"!=typeof e.targetId||""===e.targetId)throw Error('"Invalid parameter targetId": '+e.targetId);if(!["singleChat","groupChat"].includes(e.chatType))throw Error('"Invalid parameter chatType": '+e.chatType);if(e.beforeTimeStamp&&("number"!=typeof e.beforeTimeStamp||e.beforeTimeStamp<0||(null===(t=e.beforeTimeStamp)||void 0===t?void 0:t.toString().length)>18))throw Error('"Invalid parameter beforeTimeStamp": '+e.beforeTimeStamp);if(e.messageIds&&!(Array.isArray(e.messageIds)&&e.messageIds.length>0&&e.messageIds.length<=20))throw Error('"Invalid parameter messageIds": '+e.messageIds);if(!e.messageIds&&!e.beforeTimeStamp)throw Error("messageIds or beforeTimeStamp field is required.");return _n.call(this)?(r=this.context,o=r.orgName,a=r.appName,i=r.userId,s="singleChat"===e.chatType?"userId":"groupId",c="singleChat"===e.chatType?"chat":"group",l=e.messageIds?"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/sdk/message/roaming/").concat(c,"/user/").concat(i,"?").concat(s,"=").concat(e.targetId,"&msgIdList=").concat(e.messageIds,"&resource=").concat(this.clientResource):"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/sdk/message/roaming/").concat(c,"/user/").concat(i,"/time?").concat(s,"=").concat(e.targetId,"&delTime=").concat(e.beforeTimeStamp,"&&resource=").concat(this.clientResource),u={url:l,dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+this.token,"Content-Type":"application/json"}},G.debug("Call removeHistoryMessages",e),[4,te.call(this,u)]):(n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(n)]);case 1:return p.sent(),[2]}}))}))}function hr(e){var t=this;if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}if((null==e?void 0:e.pageSize)&&"number"!=typeof e.pageSize)throw Error("Invalid parameter pageSize: ".concat(e.pageSize));if((null==e?void 0:e.cursor)&&"string"!=typeof e.cursor)throw Error("Invalid parameter cursor: ".concat(e.cursor));var r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/sdk/user/").concat(this.user,"/user_channels/list?"),type:"GET",dataType:"json",data:{limit:(null==e?void 0:e.pageSize)||20,cursor:(null==e?void 0:e.cursor)||"",need_mark:!0},headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}};return G.debug("Call getServerConversations",e),new Promise((function(e,n){te.call(t,s,y.GET_SESSION_LIST).then((function(n){return On(t,void 0,void 0,(function(){var t,r=this;return Rn(this,(function(o){switch(o.label){case 0:return t=fr.call(this,n),this._localCache?[4,Promise.all(t.data.conversations.map((function(e){return On(r,void 0,void 0,(function(){var t,n,r=this;return Rn(this,(function(o){return null===(n=null===(t=this._localCache)||void 0===t?void 0:t.getInstance())||void 0===n||n.storeMessage(e.lastMessage,Ee.SUCCESS,!0).then((function(){var t,n;null===(n=null===(t=r._localCache)||void 0===t?void 0:t.getInstance())||void 0===n||n.updateLocalConversation(Te({conversationId:e.conversationId,conversationType:e.conversationType}),{unReadCount:e.unReadCount})})),[2]}))}))})))]:[3,2];case 1:return o.sent(),e(t),[2];case 2:return e(t),[2]}}))}))})).catch((function(e){n(e)}))}))}function fr(e){var t=this,n=e.data,r=n.cursor,o=n.channel_infos,a=[];null==o||o.forEach((function(e){var n=null;(null==e?void 0:e.meta)&&"{}"!==JSON.stringify(e.meta)&&(e.meta.payload=JSON.parse(e.meta.payload),"delivery"!==(n=_e.call(t,e.meta)).type&&"read"!==n.type&&"channel"!==n.type&&(n.chatType=ye[n.chatType]));var r={conversationId:e.session_to,conversationType:"chat"===e.session_type?"singleChat":"groupChat",isPinned:e.is_top,pinnedTime:e.is_top?e.update_top_status_time:0,unReadCount:e.unread_num,lastMessage:n};e.marks&&(r.marks=e.marks.map((function(e){return Ye[e]}))),a.push(r)}));var i={conversations:a,cursor:r||""};return{type:e.type,data:i}}function mr(e){var t=this;if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}if((null==e?void 0:e.pageSize)&&"number"!=typeof e.pageSize)throw Error("Invalid parameter pageSize: ".concat(e.pageSize));if((null==e?void 0:e.cursor)&&"string"!=typeof e.cursor)throw Error("Invalid parameter cursor: ".concat(e.cursor));var r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/sdk/user/").concat(this.user,"/user_channels/list?"),type:"GET",dataType:"json",data:{limit:(null==e?void 0:e.pageSize)||20,cursor:(null==e?void 0:e.cursor)||"",is_top:!0,need_mark:!0},headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}};return G.debug("Call getServerPinnedConversations",e),te.call(this,s,y.GET_SESSION_LIST).then((function(e){return fr.call(t,e)}))}function gr(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l,u,p,h,f,m;return Rn(this,(function(v){if(!_n.call(this))return t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(n=e.conversationId,r=e.conversationType,o=e.isPinned,a="singleChat"===r?"chat":"groupChat","string"!=typeof n||""===n)throw Error("Invalid parameter conversationId: ".concat(n));if(!["singleChat","groupChat"].includes(r))throw Error("Invalid parameter conversationType: ".concat(r));if("boolean"!=typeof o)throw Error("Invalid parameter isPinned: ".concat(o));return i=this.context,s=i.orgName,c=i.appName,l=i.accessToken,u=i.jid,p={type:a,to:n},h=o?"":"type=".concat(a,"&to=").concat(n,"&"),f="".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/sdk/user/").concat(this.user,"/user_channel/top?").concat(h,"resource=").concat(u.clientResource),m={url:f,type:o?"POST":"DELETE",dataType:"json",headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}},o&&(m.data=JSON.stringify(p)),G.debug("Call pinConversation",e),[2,te.call(this,m,y.PIN_CONVERSATION).then((function(e){var t=e.type,n=e.data;return{type:t,data:{isPinned:n.is_top||!1,pinnedTime:n.is_top?n.update_top_status_time:0}}}))]}))}))}function vr(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l,u;return Rn(this,(function(p){switch(p.label){case 0:if(t=e.userId,n=e.remark,!_n.call(this))return r=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(r)];if("string"!=typeof t||""===t)throw Error('Invalid parameter: "userId"');if("string"!=typeof n)throw Error('Invalid parameter: "remark"');return G.debug("Call setContactRemark",e),o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c=o.jid,l="".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/users/").concat(this.context.userId,"/contacts/users/").concat(t,"?resource=").concat(c.clientResource),u={url:l,type:"PUT",data:JSON.stringify({remark:n}),dataType:"json",headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"}},[4,te.call(this,u,y.ROSTER_SET_CONTACT_REMARK)];case 1:return p.sent(),[2]}}))}))}function yr(){if(!_n.call(this)){var e=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,n=t.orgName,r=t.appName,o=t.accessToken,a={url:"".concat(this.apiUrl,"/").concat(n,"/").concat(r,"/users/").concat(this.user,"/contacts/users?needReturnRemark=true"),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+o}};return G.debug("Call getAllContacts"),te.call(this,a,y.ROSTER_GET_ALL_CONTACTS_REMARKS).then((function(e){var t=((null==e?void 0:e.entities)||[]).map((function(e){return{userId:e.username,remark:e.remark}}));return{type:e.type,data:t}}))}function _r(e){if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}G.debug("Call getContactsWithCursor",e);var n=e||{},r=n.pageSize,o=void 0===r?20:r,a=n.cursor,i=void 0===a?"":a;if(o&&"number"!=typeof o)throw Error("Invalid parameter pageSize: ".concat(e.pageSize));var s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/users/").concat(this.user,"/contacts?needReturnRemark=true&limit=").concat(o,"&cursor=").concat(i),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+u}};return te.call(this,p,y.ROSTER_GET_ALL_CONTACTS_REMARKS_FROM_SERVER_BY_PAGE).then((function(e){var t,n,r=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.contacts)||[],o=(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.cursor)||"",a=r.map((function(e){return{userId:e.username,remark:e.remark}}));return{type:e.type,data:{cursor:o,contacts:a}}}))}function Er(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l,u,p,h,f,m,v;return Rn(this,(function(_){switch(_.label){case 0:if(!_n.call(this))return t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(G.debug("Call markConversation",e),r=(n=e||{}).conversations,o=void 0===r?[]:r,a=n.mark,i=n.isMarked,!Array.isArray(o))throw Error("Invalid parameter conversations");if(s=o.map((function(e){if(!e.conversationId||!["singleChat","groupChat"].includes(e.conversationType))throw Error("Invalid parameter conversations");return{to:e.conversationId,type:bn[e.conversationType]}})),"boolean"!=typeof i)throw Error("Invalid parameter isMarked: ".concat(i));if("number"!=typeof a)throw Error("Invalid parameter mark: ".concat(a));return c=this.context,l=c.orgName,u=c.appName,p=c.accessToken,h=c.userId,f=c.jid,m={mark:Ye[a],targets:s},v={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/sdk/user/").concat(h,"/user_channels/mark?resource=").concat(f.clientResource),dataType:"json",data:JSON.stringify(m),type:i?"Post":"Delete",headers:{Authorization:"Bearer "+p}},[4,te.call(this,v,y.MARK_CONVERSATION).then((function(e){var t,n=(null===(t=e.data)||void 0===t?void 0:t.ignore)||[];n&&Array.isArray(n)&&n.length>0&&G.debug("markConversation has ignored conversations",n.map((function(e){return{conversationId:e.to,conversationType:ye[e.type]}})))}))];case 1:return _.sent(),[2]}}))}))}function Tr(e){return On(this,void 0,void 0,(function(){var t,n;return Rn(this,(function(r){return G.debug("Call addConversationMark",e),t=e.conversations,n=e.mark,[2,Er.call(this,{conversations:t,mark:n,isMarked:!0})]}))}))}function Sr(e){return On(this,void 0,void 0,(function(){var t,n;return Rn(this,(function(r){return G.debug("Call removeConversationMark",e),t=e.conversations,n=e.mark,[2,Er.call(this,{conversations:t,mark:n,isMarked:!1})]}))}))}function Or(e){var t,n,r=this;if(!_n.call(this)){var o=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(o)}if(G.debug("Call getServerConversationsByFilter",e),(null==e?void 0:e.pageSize)&&"number"!=typeof e.pageSize)throw Error("Invalid parameter pageSize: ".concat(e.pageSize));if((null==e?void 0:e.cursor)&&"string"!=typeof e.cursor)throw Error("Invalid parameter cursor: ".concat(e.cursor));if("number"!=typeof(null===(t=null==e?void 0:e.filter)||void 0===t?void 0:t.mark))throw Error("Invalid parameter mark: ".concat(null===(n=null==e?void 0:e.filter)||void 0===n?void 0:n.mark));var a=this.context,i=a.orgName,s=a.appName,c=a.accessToken,l="".concat(this.apiUrl,"/").concat(i,"/").concat(s,"/sdk/user/").concat(this.user,"/user_channels/mark/search?"),u=e.pageSize,p=e.cursor,h=((null==e?void 0:e.filter)||{}).mark,f={url:l,type:"GET",dataType:"json",data:{limit:u||10,cursor:p||"",need_mark:!0,mark:Ye[h]},headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}};return te.call(this,f,y.GET_SESSION_LIST).then((function(e){return fr.call(r,e)}))}function Rr(){if(!_n.call(this)){var e=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}G.debug("Call getSelfIdsOnOtherPlatform");var t=this.context,n=t.orgName,r=t.appName,o=t.accessToken,a=t.userId,i=t.jid,s={url:"".concat(this.apiUrl,"/").concat(n,"/").concat(r,"/users/").concat(a,"/resources"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"}};return te.call(this,s,y.USER_LOGGEDIN_OTHER_PLATFORM).then((function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return e.res!==i.clientResource})),r=null==n?void 0:n.map((function(e){return"".concat(a,"/").concat(e.res)}));return{type:e.type,data:r}}))}function br(){var e,t,n,r,o,a;return On(this,void 0,void 0,(function(){var i,s,c,l,u,p,h,f,m;return Rn(this,(function(v){switch(v.label){case 0:return _n.call(this)?(G.debug("Call deleteAllMessagesAndConversations"),s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p=s.userId,h=s.jid,f="".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/sdk/message/roaming/user/").concat(p,"/delete/all?resource=").concat(h.clientResource),m={url:f,type:"POST",dataType:"json",headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"}},[4,te.call(this,m,y.REST_DELETE_MESSAGES_CONVERSATIONS)]):(i=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(i)]);case 1:return v.sent(),null===(t=null===(e=this._localCache)||void 0===e?void 0:e.getInstance())||void 0===t||t.clearConversationMap(),[4,null===(r=null===(n=this._localCache)||void 0===n?void 0:n.getInstance())||void 0===r?void 0:r.clearStoreData("conversationList")];case 2:return v.sent(),[4,null===(a=null===(o=this._localCache)||void 0===o?void 0:o.getInstance())||void 0===a?void 0:a.clearStoreData("message")];case 3:return v.sent(),[2]}}))}))}function Ir(e){return On(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l,u,p,h,f,m,v;return Rn(this,(function(_){switch(_.label){case 0:if(!_n.call(this))return t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)];if(G.debug("Call setMessagePinStatus",e),r=(n=e||{}).conversationId,o=void 0===r?"":r,a=n.conversationType,i=n.messageId,s=n.isPinned,"string"!=typeof o||""===o)throw Error("Invalid parameter conversationId");if("string"!=typeof i||""===i)throw Error("Invalid parameter messageId");if("boolean"!=typeof s)throw Error("Invalid parameter isPinned");return c=this.context,l=c.orgName,u=c.appName,p=c.accessToken,h=c.userId,f=c.jid,m={to:o,type:bn[a],pin_msg_id:i},v={url:"".concat(this.apiUrl,"/").concat(l,"/").concat(u,"/sdk/user/").concat(h,"/user_channel/pin?resource=").concat(f.clientResource),dataType:"json",data:JSON.stringify(m),type:s?"Post":"Delete",headers:{Authorization:"Bearer "+p}},[4,te.call(this,v,y.REST_PIN_MESSAGE)];case 1:return _.sent(),[2]}}))}))}function Cr(e){return On(this,void 0,void 0,(function(){var t,n,r,o;return Rn(this,(function(a){return G.debug("Call pinMessage",e),n=(t=e||{}).conversationType,r=t.conversationId,o=t.messageId,[2,Ir.call(this,{conversationId:r,conversationType:n,messageId:o,isPinned:!0})]}))}))}function Nr(e){return On(this,void 0,void 0,(function(){var t,n,r,o;return Rn(this,(function(a){return G.debug("Call unpinMessage",e),n=(t=e||{}).conversationType,r=t.conversationId,o=t.messageId,[2,Ir.call(this,{conversationId:r,conversationType:n,messageId:o,isPinned:!1})]}))}))}function Ar(e){var t=this;if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}G.debug("Call getServerPinnedMessages",e);var r=e.conversationId,o=e.conversationType,a=e.pageSize,i=e.cursor;if("string"!=typeof r||""===r)throw Error("Invalid parameter conversationId");if(a&&"number"!=typeof a)throw Error("Invalid parameter pageSize: ".concat(a));if(i&&"string"!=typeof i)throw Error("Invalid parameter cursor: ".concat(i));var s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/sdk/user/").concat(this.user,"/user_channel/pin"),type:"GET",dataType:"json",data:{to:r,type:bn[o],limit:a||10,cursor:i||""},headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"}};return te.call(this,p,y.GET_SESSION_LIST).then((function(e){return{type:0,data:{list:e.data.msg_infos.map((function(e){e.message.payload=JSON.parse(e.message.payload);var n=e.message,r=e.pin_opt_at,o=e.pin_operator;return{message:_e.call(t,n,{formatChatType:!0}),pinTime:r,operatorId:o}})),cursor:e.data.cursor||""}}}))}var Mr=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},wr=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function kr(e){if(!e||!e.data)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups?resource=").concat(i.clientResource),dataType:"json",type:"POST",data:JSON.stringify({owner:this.user,groupname:e.data.groupname,desc:e.data.desc,members:e.data.members,public:e.data.public,approval:e.data.approval,allowinvites:e.data.allowinvites,invite_need_confirm:e.data.inviteNeedConfirm,maxusers:e.data.maxusers,custom:e.data.ext}),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:function(t){e.success&&e.success(t)},error:e.error};return G.debug("Call createGroup:",e),te.call(this,s,y.CREATE_GROUP)}var Lr=kr;function Pr(e){var t;if("string"!=typeof e.groupId||""===e.groupId)throw Error("Invalid parameter");if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s=r.jid,c={entities:[(t={},t["notification_ignore_"+e.groupId]=!0,t)]},l={type:"PUT",url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(this.user,"?resource=").concat(s.clientResource),data:JSON.stringify(c),dataType:"json",headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call blockGroupMessages",e),te.call(this,l,y.BLOCK_GROUP)}var xr=Pr;function Ur(e){if("number"!=typeof e.limit)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={limit:e.limit,cursor:e.cursor};e.cursor||delete i.cursor;var s={url:this.apiUrl+"/"+r+"/"+o+"/publicchatgroups",type:"GET",dataType:"json",data:i,headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call listGroups",e),te.call(this,s,y.LIST_GROUP)}var Dr=Ur;function Br(e){if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:this.apiUrl+"/"+r+"/"+o+"/users/"+this.user+"/joined_chatgroups",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e&&(null==e?void 0:e.success),error:e&&(null==e?void 0:e.error)};return G.debug("Call getJoinedGroups",e),te.call(this,i,y.GET_USER_GROUP)}function Gr(e){if("number"!=typeof e.pageNum||"number"!=typeof e.pageSize)throw Error('Invalid parameter: "pageNum or pageSize"');if(e.pageNum<0||e.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.needAffiliations||e.needRole?"/chatgroups/user/".concat(this.user,"?pagenum=").concat(e.pageNum,"&pagesize=").concat(e.pageSize,"&needAffiliations=").concat(e.needAffiliations,"&needRole=").concat(e.needRole):"/users/".concat(this.user,"/joined_chatgroups?pagenum=").concat(e.pageNum,"&pagesize=").concat(e.pageSize),s={url:this.apiUrl+"/"+r+"/"+o+i,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e&&(null==e?void 0:e.success),error:e&&(null==e?void 0:e.error)};return G.debug("Call getGroup",e),te.call(this,s,y.GET_USER_GROUP).then((function(e){var t=e.uri,n=e.entities,r=[];return t.includes("joined_chatgroups")||(n.forEach((function(e){var t={affiliationsCount:e.affiliations_count,groupName:e.name,groupId:e.groupId,role:e.permission,disabled:e.disabled,approval:e.membersonly,allowInvites:e.allowinvites,description:e.description,maxUsers:e.maxusers,public:e.public};r.push(t)})),e.entities=r),e}))}function jr(e){if("string"!=typeof e.groupId||"string"!=typeof e.newOwner)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={newowner:e.newOwner},r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s=r.jid,c={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/chatgroups/").concat(e.groupId,"?resource=").concat(s.clientResource),type:"PUT",dataType:"json",headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},data:JSON.stringify(n),success:e.success,error:e.error};return G.debug("Call changeOwner",e),te.call(this,c,y.CHANGE_OWNER)}var Fr=jr;function Hr(e){if("string"!=typeof e.groupId&&!Array.isArray(e.groupId))throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:this.apiUrl+"/"+r+"/"+o+"/chatgroups/"+e.groupId+"?joined_time=true",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getGroupInfo",e),te.call(this,i,y.GET_GROUP_INFO)}function Wr(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={groupname:e.groupName,description:e.description,custom:e.ext},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"?resource=").concat(i.clientResource),type:"PUT",data:JSON.stringify(c),dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call modifyGroup",e),te.call(this,l,y.MODIFY_GROUP)}function Vr(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(isNaN(e.pageNum)||e.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(e.pageSize)||e.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={pagenum:e.pageNum,pagesize:e.pageSize},r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s={url:this.apiUrl+"/"+o+"/"+a+"/chatgroups/"+e.groupId+"/users",dataType:"json",type:"GET",data:n,headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call listGroupMember",e),te.call(this,s,y.LIST_GROUP_MEMBER)}var $r=Vr;function qr(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.groupId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatgroups/"+i+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getGroupAdmin",e),te.call(this,s,y.GET_GROUP_ADMIN)}function zr(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={newadmin:e.username},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/admin?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call setGroupAdmin",e),te.call(this,l,y.SET_GROUP_ADMIN)}var Kr=zr;function Jr(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c=e.username,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/admin/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call removeAdmin",e),te.call(this,l,y.REMOVE_GROUP_ADMIN)}var Xr=Jr;function Yr(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"?version=v3&resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call destroyGroup",e),te.call(this,c,y.DISSOLVE_GROUP)}var Qr=Yr;function Zr(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/quit?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call quitGroup",e),te.call(this,c,y.QUIT_GROUP)}var eo=Zr;function to(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.users))throw Error('Invalid parameter: "users"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=e.groupId,r={usernames:e.users},o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c=o.jid,l={url:"".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/chatgroups/").concat(n,"/invite?resource=").concat(c.clientResource),type:"POST",data:JSON.stringify(r),dataType:"json",headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call inviteUsersToGroup",e),te.call(this,l,y.INVITE_TO_GROUP)}var no=to;function ro(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(e.groupId,"/apply?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify({message:e.message||""}),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call joinGroup",e),te.call(this,s,y.JOIN_GROUP)}function oo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.applicant||""===e.applicant)throw Error('Invalid parameter: "applicant"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={applicant:e.applicant,verifyResult:!0,reason:"no clue"},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/apply_verify?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call agreeJoinGroup",e),te.call(this,l,y.AGREE_JOIN_GROUP)}var ao=oo;function io(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.applicant||""===e.applicant)throw Error('Invalid parameter: "applicant"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={applicant:e.applicant,verifyResult:!1,reason:e.reason||""},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/apply_verify?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call rejectGroupJoinRequest",e),te.call(this,l,y.REJECT_JOIN_GROUP)}var so=io;function co(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.invitee||""===e.invitee)throw Error('Invalid parameter: "invitee"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={invitee:e.invitee,verifyResult:!0},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/invite_verify?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call acceptGroupInvite",e),te.call(this,l,y.AGREE_INVITE_GROUP)}var lo=co;function uo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.invitee||""===e.invitee)throw Error('Invalid parameter: "invitee"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={invitee:e.invitee,verifyResult:!1},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/invite_verify?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call rejectGroupInvite",e),te.call(this,l,y.REJECT_INVITE_GROUP)}var po=uo;function ho(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=e.groupId,r=e.username,o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c=o.jid,l={url:"".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/chatgroups/").concat(n,"/users/").concat(r,"?resource=").concat(c.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call removeGroupMember",e),te.call(this,l,y.REMOVE_GROUP_MEMBER)}var fo=ho;function mo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.users))throw Error('Invalid parameter: "users"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c=e.users.join(","),l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/users/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call removeGroupMembers",e),te.call(this,l,y.MULTI_REMOVE_GROUP_MEMBER)}var go=mo;function vo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(e.username)||"string"==typeof e.username&&""!==e.username))throw Error('Invalid parameter: "username"');if("number"!=typeof e.muteDuration)throw Error('Invalid parameter: "muteDuration"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={usernames:"string"==typeof e.username?[e.username]:e.username,mute_duration:e.muteDuration},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/mute?resource=").concat(i.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},data:JSON.stringify(c),success:e.success,error:e.error};return G.debug("Call muteGroupMember",e),te.call(this,l,y.MUTE_GROUP_MEMBER)}var yo=vo;function _o(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!(Array.isArray(e.username)||"string"==typeof e.username&&""!==e.username))throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c=e.username,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/mute/").concat(c,"?resource=").concat(i.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call unmuteGroupMember",e),te.call(this,l,y.UNMUTE_GROUP_MEMBER)}var Eo=_o;function To(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.groupId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatgroups/"+i+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getGroupMuteList",e),te.call(this,s,y.GET_GROUP_MUTE_LIST)}var So=To,Oo=To;function Ro(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c=e.username,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/blocks/users/").concat(c,"?resource=").concat(i.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call blockGroupMember",e),te.call(this,l,y.BLOCK_GROUP_MEMBER)}var bo=Ro;function Io(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={usernames:e.usernames},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/blocks/users?resource=").concat(i.clientResource),data:JSON.stringify(c),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call blockGroupMembers",e),te.call(this,l,y.BLOCK_GROUP_MEMBERS)}var Co=Io;function No(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c=e.username,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/blocks/users/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call unblockGroupMember",e),te.call(this,l,y.UNBLOCK_GROUP_MEMBER)}var Ao=No;function Mo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c=e.usernames.join(","),l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/blocks/users/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call unblockGroupMembers",e),te.call(this,l,y.UNBLOCK_GROUP_MEMBERS)}var wo=Mo;function ko(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.groupId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatgroups/"+i+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getGroupBlacklist",e),te.call(this,s,y.GET_GROUP_BLACK_LIST)}var Lo=ko,Po=ko;function xo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/ban?resource=").concat(i.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call disableSendGroupMsg",e),te.call(this,c,y.DISABLED_SEND_GROUP_MSG)}function Uo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/ban?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call enableSendGroupMsg",e),te.call(this,c,y.ENABLE_SEND_GROUP_MSG)}function Do(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(e.users))throw Error('Invalid parameter: "users"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={usernames:e.users},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/white/users?resource=").concat(i.clientResource),type:"POST",data:JSON.stringify(c),dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call addUsersToGroupWhitelist",e),te.call(this,l,y.ADD_USERS_TO_GROUP_WHITE)}var Bo=Do;function Go(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/white/users/").concat(e.userName,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call removeGroupAllowlistMember",e),te.call(this,c,y.REMOVE_GROUP_WHITE_MEMBER)}var jo=Go,Fo=Go;function Ho(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.groupId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatgroups/"+i+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getGroupAllowlist",e),te.call(this,s,y.GET_GROUP_WHITE_LIST)}var Wo=Ho;function Vo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.groupId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatgroups/"+i+"/white/users/"+e.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call isInGroupAllowlist",e),te.call(this,s,y.IS_IN_GROUP_WHITE_LIST)}var $o=Vo,qo=Vo;function zo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "chatRoomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.userId,s={url:this.apiUrl+"/"+r+"/"+o+"/sdk/chatgroups/"+e.groupId+"/mute/"+i,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a}};return G.debug("Call isInGroupMutelist",e),te.call(this,s).then((function(e){return{type:e.type,data:e.data}}))}function Ko(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.msgId||""===e.msgId)throw Error('Invalid parameter: "msgId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:this.apiUrl+"/"+r+"/"+o+"/chatgroups/"+e.groupId+"/acks/"+e.msgId,dataType:"json",type:"GET",data:{limit:500,key:void 0},headers:{Authorization:"Bearer "+a},success:e.success,error:e.error};return G.debug("Call getGroupMsgReadUser",e),te.call(this,i,y.GET_GROUP_MSG_READ_USER)}function Jo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.groupId,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(i,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call fetchGroupAnnouncement",e),te.call(this,s,y.GET_GROUP_ANN)}function Xo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.announcement)throw Error('Invalid parameter: "announcement"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c={announcement:e.announcement},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/announcement?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call updateGroupAnnouncement",e),te.call(this,l,y.UPDATE_GROUP_ANN)}function Yo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("object"!=typeof e.file)throw Error('Invalid parameter: "file"');if(_n.call(this)){var t=this.context,n=t.orgName,r=t.appName,o=t.accessToken,a=t.jid,i=e.groupId;ue.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(n,"/").concat(r,"/chatgroups/").concat(i,"/share_files?resource=").concat(a.clientResource),onFileUploadProgress:e.onFileUploadProgress,onFileUploadComplete:e.onFileUploadComplete,onFileUploadError:e.onFileUploadError,onFileUploadCanceled:e.onFileUploadCanceled,accessToken:o,apiUrl:this.apiUrl,file:e.file,appKey:this.context.appKey},y.UPLOAD_GROUP_FILE),G.debug("Call uploadGroupSharedFile",e)}}function Qo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.fileId||""===e.fileId)throw Error('Invalid parameter: "file"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.groupId,c=e.fileId,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(s,"/share_files/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call deleteGroupSharedFile",e),te.call(this,l,y.DELETE_GROUP_FILE)}function Zo(e){if("string"!=typeof e.groupId||""===e.groupId)throw Error('Invalid parameter: "groupId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.pageNum||1,s=e.pageSize||10,c=e.groupId,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatgroups/").concat(c,"/share_files?pagenum=").concat(i,"&pagesize=").concat(s),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getGroupSharedFilelist",e),te.call(this,l,y.GET_GROUP_FILE_LIST)}var ea=Zo;function ta(e){var t=this.context,n=t.orgName,r=t.appName,o=t.accessToken,a=this.apiUrl,i=e.groupId,s=e.fileId;de.call(this,{url:"".concat(a,"/").concat(n,"/").concat(r,"/chatgroups/").concat(i,"/share_files/").concat(s),onFileDownloadComplete:e.onFileDownloadComplete,onFileDownloadError:e.onFileDownloadError,accessToken:o,id:s,secret:e.secret},y.DOWN_GROUP_FILE),G.debug("Call downloadGroupSharedFile",e)}function na(e){return Mr(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l,u,p;return wr(this,(function(h){switch(h.label){case 0:if(t=e.groupId,n=e.userId,r=e.memberAttributes,"string"!=typeof t||""===t)throw Error('Invalid parameter: "groupId"');if("string"!=typeof n||""===n)throw Error('Invalid parameter: "userId"');if("object"!=typeof r)throw Error('Invalid parameter: "memberAttributes"');return _n.call(this)?(a=this.context,i=a.orgName,s=a.appName,c=a.accessToken,l=a.jid,u={metaData:r},p={url:"".concat(this.apiUrl,"/").concat(i,"/").concat(s,"/sdk/metadata/chatgroup/").concat(t,"/user/").concat(n,"?resource=").concat(l.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(u),headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}},G.debug("Call setGroupMemberAttributes",e),[4,te.call(this,p,y.SET_GROUP_MEMBER_ATTRS)]):(o=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(o)]);case 1:return h.sent(),[2]}}))}))}function ra(e){var t=e.groupId,n=e.userId;return oa.call(this,{groupId:t,userIds:[n]}).then((function(e){var t;return{type:e.type,data:null===(t=e.data)||void 0===t?void 0:t[n]}}))}function oa(e){var t=e.groupId,n=e.userIds,r=e.keys,o=void 0===r?[]:r;if("string"!=typeof t||""===t)throw Error('Invalid parameter: "groupId"');if(!Array.isArray(n)||(null==n?void 0:n.length)<=0)throw Error('Invalid parameter: "userIds"');if(!Array.isArray(o))throw Error('Invalid parameter: "keys"');if(!_n.call(this)){var a=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(a)}var i=this.context,s=i.orgName,c=i.appName,l=i.accessToken,u={targets:n,properties:o},p={url:"".concat(this.apiUrl,"/").concat(s,"/").concat(c,"/sdk/metadata/chatgroup/").concat(t,"/get"),type:"POST",dataType:"json",data:JSON.stringify(u),headers:{Authorization:"Bearer "+l,"Content-Type":"application/json"}};return G.debug("Call getGroupMembersAttributes",e),te.call(this,p,y.GET_GROUP_MEMBER_ATTR).then((function(e){return{type:e.type,data:(null==e?void 0:e.data)||{}}}))}function aa(e){var t=this;if("number"!=typeof e.pagenum||"number"!=typeof e.pagesize)throw Error("Invalid parameter");if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var r={pagenum:e.pagenum||1,pagesize:e.pagesize||20},o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c={url:this.apiUrl+"/"+a+"/"+i+"/chatrooms",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+s},data:r,success:function(t){"function"==typeof e.success&&e.success(t)},error:function(n){n.error&&n.error_description&&t.onError&&t.onError({type:d.WEBIM_CONNCTION_LOAD_CHATROOM_ERROR,message:n.error_description,data:n}),"function"==typeof e.error&&e.error(n)}};return G.debug("Call getChatRooms",e),te.call(this,c,y.GET_CHATROOM_LIST)}function ia(e){if("string"!=typeof e.name)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={name:e.name,description:e.description,maxusers:e.maxusers,owner:this.user,members:e.members},r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s=r.jid,c={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/chatrooms?resource=").concat(s.clientResource),dataType:"json",type:"POST",data:JSON.stringify(n),headers:{Authorization:"Bearer "+(e.token||i),"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call createChatRoom",e),te.call(this,c,y.CREATE_CHATROOM)}function sa(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(e.chatRoomId,"?resource=").concat(i.clientResource,"&version=v3"),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+(e.token||a)},success:e.success,error:e.error};return G.debug("Call destroyChatRoom",e),te.call(this,s,y.DESTROY_CHATROOM)}function ca(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:this.apiUrl+"/"+r+"/"+o+"/chatrooms/"+e.chatRoomId,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getChatRoomDetails",e),te.call(this,i,y.GET_CHATROOM_DETAIL)}function la(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c={groupname:e.chatRoomName,description:e.description,maxusers:e.maxusers},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"?resource=").concat(i.clientResource),type:"PUT",data:JSON.stringify(c),dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call modifyChatRoom",e),te.call(this,l,y.MODIFY_CHATROOM)}function ua(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId||"string"!=typeof e.username)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c=e.username,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/users/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call removeChatRoomMember",e),te.call(this,l,y.REMOVE_CHATROOM_MEMBER)}var da=ua;function pa(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId||!Array.isArray(e.users))throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=e.chatRoomId,r=e.users.join(","),o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c=o.jid,l={url:"".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/chatrooms/").concat(n,"/users/").concat(r,"?resource=").concat(c.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call removeChatRoomMembers",e),te.call(this,l,y.MULTI_REMOVE_CHATROOM_MEMBER)}var ha=pa;function fa(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId||!Array.isArray(e.users))throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=e.chatRoomId,r={usernames:e.users},o=this.context,a=o.orgName,i=o.appName,s=o.accessToken,c=o.jid,l={url:"".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/chatrooms/").concat(n,"/users?resource=").concat(c.clientResource),type:"POST",data:JSON.stringify(r),dataType:"json",headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call addUsersToChatRoom",e),te.call(this,l,y.ADD_USERS_TO_CHATROOM)}function ma(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}return G.debug("Call joinChatRoom",e),this.logOut?Promise.reject({type:d.WEBIM_CONNECTION_CLOSED,message:"not login"}):this.mSync.handleChatRoom(e,"join")}function ga(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error("Invalid parameter");if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}return G.debug("Call leaveChatRoom",e),this.logOut?Promise.reject({type:d.WEBIM_CONNECTION_CLOSED,message:"not login"}):this.mSync.handleChatRoom(e,"leave")}var va=ga;function ya(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(isNaN(e.pageNum)||e.pageNum<=0)throw Error('The parameter "pageNum" should be a positive number');if(isNaN(e.pageSize)||e.pageSize<=0)throw Error('The parameter "pageSize" should be a positive number');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={pagenum:e.pageNum,pagesize:e.pageSize},r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s={url:this.apiUrl+"/"+o+"/"+a+"/chatrooms/"+e.chatRoomId+"/users",dataType:"json",type:"GET",data:n,headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call listChatRoomMembers",e),te.call(this,s,y.LIST_CHATROOM_MEMBERS)}var _a=ya;function Ea(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.chatRoomId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatrooms/"+i+"/admin",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getChatRoomAdmin",e),te.call(this,s,y.GET_CHATROOM_ADMIN)}function Ta(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c={newadmin:e.username},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/admin?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call setChatRoomAdmin",e),te.call(this,l,y.SET_CHATROOM_ADMIN)}function Sa(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c=e.username,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/admin/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call removeChatRoomAdmin",e),te.call(this,l,y.REMOVE_CHATROOM_ADMIN)}function Oa(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "groupId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if("number"!=typeof e.muteDuration)throw Error('Invalid parameter: "muteDuration"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c={usernames:[e.username],mute_duration:e.muteDuration},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/mute?resource=").concat(i.clientResource),dataType:"json",type:"POST",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},data:JSON.stringify(c),success:e.success,error:e.error};return G.debug("Call muteChatRoomMember",e),te.call(this,l,y.MUTE_CHATROOM_MEMBER)}function Ra(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c=e.username,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/mute/").concat(c,"?resource=").concat(i.clientResource),dataType:"json",type:"DELETE",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call unmuteChatRoomMember",e),te.call(this,l,y.REMOVE_MUTE_CHATROOM_MEMBER)}var ba=Ra;function Ia(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.chatRoomId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatrooms/"+i+"/mute",dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getChatRoomMutelist",e),te.call(this,s,y.GET_MUTE_CHATROOM_MEMBERS)}var Ca=Ia,Na=Ia;function Aa(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c=e.username,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/blocks/users/").concat(c,"?resource=").concat(i.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call blockChatRoomMember",e),te.call(this,l,y.SET_CHATROOM_MEMBER_TO_BLACK)}var Ma=Aa;function wa(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c={usernames:e.usernames},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/blocks/users?resource=").concat(i.clientResource),data:JSON.stringify(c),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Chat blockChatRoomMembers:",l),te.call(this,l,y.MULTI_SET_CHATROOM_MEMBER_TO_BLACK)}var ka=wa;function La(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.username||""===e.username)throw Error('Invalid parameter: "username"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c=e.username,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/blocks/users/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call unblockChatRoomMember",e),te.call(this,l,y.REMOVE_CHATROOM_MEMBER_BLACK)}var Pa=La;function xa(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c=e.usernames.join(","),l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/blocks/users/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call unblockChatRoomMembers",e),te.call(this,l,y.MULTI_REMOVE_CHATROOM_MEMBER_BLACK)}var Ua=xa;function Da(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.chatRoomId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatrooms/"+i+"/blocks/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getChatRoomBlocklist",e),te.call(this,s,y.GET_CHATROOM_BLOCK_MEMBERS)}var Ba=Da,Ga=Da;function ja(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/ban?resource=").concat(i.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call disableSendChatRoomMsg",e),te.call(this,c,y.DISABLED_CHATROOM_SEND_MSG)}function Fa(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/ban?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call enableSendChatRoomMsg",e),te.call(this,c,y.ENABLE_CHATROOM_SEND_MSG)}function Ha(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!Array.isArray(e.users))throw Error('Invalid parameter: "users"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c={usernames:e.users},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/white/users?resource=").concat(i.clientResource),type:"POST",data:JSON.stringify(c),dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call addUsersToChatRoomWhitelist",e),te.call(this,l,y.ADD_USERS_TO_CHATROOM)}var Wa=Ha;function Va(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.chatRoomId,c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/white/users/").concat(e.userName,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call removeChatRoomAllowlistMember",e),te.call(this,c,y.REMOVE_CHATROOM_WHITE_USERS)}var $a=Va,qa=Va;function za(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.chatRoomId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatrooms/"+i+"/white/users",type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getChatRoomAllowlist",e),te.call(this,s,y.GET_CHATROOM_WHITE_USERS)}var Ka=za;function Ja(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if("string"!=typeof e.userName||""===e.userName)throw Error('Invalid parameter: "userName"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.chatRoomId,s={url:this.apiUrl+"/"+r+"/"+o+"/chatrooms/"+i+"/white/users/"+e.userName,type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call isInChatRoomAllowlist",e),te.call(this,s,y.CHECK_CHATROOM_WHITE_USER)}var Xa=Ja;function Ya(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error('Invalid parameter: "chatRoomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.userId,s={url:this.apiUrl+"/"+r+"/"+o+"/sdk/chatrooms/"+e.chatRoomId+"/mute/"+i,dataType:"json",type:"GET",headers:{Authorization:"Bearer "+a}};return G.debug("Call isInChatRoomMutelist",e),te.call(this,s).then((function(e){return{type:e.type,data:e.data}}))}function Qa(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.roomId,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(i,"/announcement"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call fetchChatRoomAnnouncement",e),te.call(this,s,y.GET_CHATROOM_ANN)}function Za(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if("string"!=typeof e.announcement)throw Error('Invalid parameter: "announcement"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.roomId,c={announcement:e.announcement},l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/announcement?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call updateChatRoomAnnouncement:",e),te.call(this,l,y.UPDATE_CHATROOM_ANN)}function ei(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if("object"!=typeof e.file)throw Error('Invalid parameter: "file"');if(_n.call(this)){var t=this.context,n=t.orgName,r=t.appName,o=t.accessToken,a=t.jid,i=e.roomId;ue.call(this,{uploadUrl:"".concat(this.apiUrl,"/").concat(n,"/").concat(r,"/chatrooms/").concat(i,"/share_files?resource=").concat(a.clientResource),onFileUploadProgress:e.onFileUploadProgress,onFileUploadComplete:e.onFileUploadComplete,onFileUploadError:e.onFileUploadError,onFileUploadCanceled:e.onFileUploadCanceled,accessToken:o,apiUrl:this.apiUrl,file:e.file,appKey:this.context.appKey},y.UPLOAD_CHATROOM_FILE),G.debug("Call uploadChatRoomSharedFile",e)}}function ti(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if("string"!=typeof e.fileId||""===e.fileId)throw Error('Invalid parameter: "fileId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s=e.roomId,c=e.fileId,l={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(s,"/share_files/").concat(c,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call deleteChatRoomSharedFile",e),te.call(this,l,y.DELETE_CHATROOM_FILE)}function ni(e){if("string"!=typeof e.roomId||""===e.roomId)throw Error('Invalid parameter: "roomId"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=e.roomId,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/chatrooms/").concat(i,"/share_files"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json",accept:"application/json"},success:e.success,error:e.error};return G.debug("Call fetchChatRoomSharedFileList",e),te.call(this,s,y.GET_CHATROOM_FILES)}var ri=ni;function oi(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if(e.attributeKeys&&!Array.isArray(e.attributeKeys))throw Error('"Invalid parameter attributeKeys": '+e.attributeKeys);if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=(n.jid,e.chatRoomId),s={keys:e.attributeKeys},c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/metadata/chatroom/").concat(i),type:"POST",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return G.debug("Call getChatRoomAttributes:",e),te.call(this,c,y.GET_CHATROOM_ATTR).then((function(e){return{data:e.data,type:e.type}}))}function ai(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if("object"!=typeof e.attributes)throw Error("Invalid parameter attributes: "+e.attributes);if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.userId,s=e.chatRoomId,c=e.attributes,l=e.autoDelete,u=void 0===l||l,p=e.isForced?"/forced":"",h={metaData:c,autoDelete:u?"DELETE":"NO_DELETE"},f={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/metadata/chatroom/").concat(s,"/user/").concat(i)+p,type:"PUT",dataType:"json",data:JSON.stringify(h),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return G.debug("Call setChatRoomAttributes:",e),te.call(this,f,y.SET_CHATROOM_ATTR).then((function(e){return En(e)}))}function ii(e){var t;if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if("string"!=typeof e.attributeKey||""===e.attributeKey)throw Error("Invalid parameter attributeKey: "+e.attributeKey);if("string"!=typeof e.attributeValue||""===e.attributeValue)throw Error("Invalid parameter attributeValue: "+e.attributeValue);if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s=r.userId,c=e.chatRoomId,l=e.attributeKey,u=e.attributeValue,p=e.autoDelete,h=void 0===p||p,f=e.isForced?"/forced":"",m={metaData:(t={},t[l]=u,t),autoDelete:h?"DELETE":"NO_DELETE"},v={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/metadata/chatroom/").concat(c,"/user/").concat(s)+f,type:"PUT",dataType:"json",data:JSON.stringify(m),headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}};return G.debug("Call setChatRoomAttribute:",e),te.call(this,v,y.SET_CHATROOM_ATTR).then((function(e){var t=Tn(e);if(t)throw t}))}function si(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if(!Array.isArray(e.attributeKeys))throw Error('"Invalid parameter attributes": '+e.attributeKeys);if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.userId,s=e.chatRoomId,c=e.attributeKeys,l=e.isForced?"/forced":"",u={keys:c},p={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/metadata/chatroom/").concat(s,"/user/").concat(i)+l,type:"DELETE",dataType:"json",data:JSON.stringify(u),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return G.debug("Call removeChatRoomAttributes:",e),te.call(this,p,y.DELETE_CHATROOM_ATTR).then((function(e){return En(e)}))}function ci(e){if("string"!=typeof e.chatRoomId||""===e.chatRoomId)throw Error("Invalid parameter chatRoomId: "+e.chatRoomId);if("string"!=typeof e.attributeKey||""===e.attributeKey)throw Error('"Invalid parameter attributeKey": '+e.attributeKey);if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.userId,s=e.chatRoomId,c=e.attributeKey,l=e.isForced?"/forced":"",u={keys:[c]},p={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/metadata/chatroom/").concat(s,"/user/").concat(i)+l,type:"DELETE",dataType:"json",data:JSON.stringify(u),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return G.debug("Call removeChatRoomAttribute:",e),te.call(this,p,y.DELETE_CHATROOM_ATTR).then((function(e){var t=Tn(e);if(t)throw t}))}function li(e){var t=this,n=e||{},r=n.pageNum,o=n.pageSize;if(isNaN(r)||r<=0)throw Error("Invalid parameter pageNum:".concat(r));if(isNaN(o)||o<=0)throw Error("Invalid parameter pageSize:".concat(o));if(!_n.call(this)){var a=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(a)}var i={pagenum:r,pagesize:o,detail:!0},s=this.context,c=s.orgName,l=s.appName,u=s.accessToken,p={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/users/").concat(this.user,"/joined_chatrooms"),dataType:"json",type:"GET",data:i,headers:{Authorization:"Bearer "+u,"Content-Type":"application/json"}};return G.debug("Call getJoinedChatRooms",e),te.call(this,p,y.GET_USER_JOINED_CHATROOM).then((function(e){var n=(e.data||[]).map((function(e){var n=e.id,r=e.title,o=e.owner,a=e.created,i=e.description,s=e.max_users;return{id:n,name:r,owner:o.split("".concat(t.appKey,"_"))[1],created:a,description:i,maxusers:s}}));return{type:e.type,data:n}}))}var ui=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},di=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function pi(e){return ui(this,void 0,void 0,(function(){var t,n,r,o,a,i,s,c,l;return di(this,(function(u){switch(u.label){case 0:if("string"!=typeof e.description)throw Error('Invalid parameter: "description"');return _n.call(this)?(n=this.context,r=n.accessToken,o=n.orgName,a=n.appName,i=n.userId,s=this.context.jid.clientResource,c={ext:e.description},l={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(i,"/presence/").concat(s,"/1"),type:"POST",dataType:"json",data:JSON.stringify(c),headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},success:e.success,error:e.error},G.debug("Call publishPresence:",e),[4,te.call(this,l)]):(t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return u.sent(),[2]}}))}))}function hi(e){if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!e.usernames.length)throw Error('"usernames" can not be empty');if("number"!=typeof e.expiry)throw Error('Invalid parameter: "expiry"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.userId,i=n.accessToken,s={usernames:e.usernames},c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(a,"/presence/").concat(e.expiry),type:"POST",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call subscribePresence:",e),te.call(this,c).then((function(e){return e.data={result:null==e?void 0:e.result},e}))}function fi(e){return ui(this,void 0,void 0,(function(){var t,n,r,o,a,i,s;return di(this,(function(c){switch(c.label){case 0:if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!e.usernames.length)throw Error('"usernames" can not be empty');return _n.call(this)?(n=this.context,r=n.orgName,o=n.appName,a=n.userId,i=n.accessToken,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(a,"/presence"),type:"DELETE",dataType:"json",data:JSON.stringify(e.usernames),headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},success:e.success,error:e.error},G.debug("Call unsubscribePresence:",e),[4,te.call(this,s)]):(t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return c.sent(),[2]}}))}))}function mi(e){if("number"!=typeof e.pageNum||"number"!=typeof e.pageSize)throw Error('Invalid parameter: "pageNum or pageSize"');if(e.pageNum<0||e.pageSize<0)throw Error('"pageNum" should >= 0 and "pageSize" should >= 0');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.userId,i=n.accessToken,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(a,"/presence/sublist?pageNum=").concat(e.pageNum,"&pageSize=").concat(e.pageSize),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getSubscribedPresenceList:",e),te.call(this,s).then((function(e){return e.data={result:null==e?void 0:e.result},e}))}var gi=mi;function vi(e){if(!Array.isArray(e.usernames))throw Error('Invalid parameter: "usernames"');if(!e.usernames.length)throw Error('"usernames" can not be empty');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={usernames:e.usernames},r=this.context,o=r.orgName,a=r.appName,i=r.userId,s=r.accessToken,c={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(i,"/presence"),type:"POST",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getPresenceStatus:",e),te.call(this,c).then((function(e){return e.data={result:null==e?void 0:e.result},e}))}function yi(e){if(!(e.options instanceof Object))throw Error('Invalid parameter: "options"');var t=e.options.paramType;if("number"!=typeof t||t<0||t>2)throw Error('Invalid parameter: "options of paramType"');if(0===t){if("string"!=typeof e.options.remindType)throw Error('Invalid parameter: "options of remindType"')}else if(1===t){if("number"!=typeof e.options.duration)throw Error('Invalid parameter: "options of duration"')}else if(2===t){var n=e.options,r=n.startTime,o=n.endTime;if(!(r instanceof Object&&Object.keys(r).length))throw Error('Invalid parameter: "options of startTime"');if(!r.hours||"number"!=typeof r.hours||!r.minutes||"number"!=typeof r.minutes)throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(o instanceof Object&&Object.keys(o).length))throw Error('Invalid parameter: "options of endTime"');if(!o.hours||"number"!=typeof o.hours||!o.minutes||"number"!=typeof o.minutes)throw Error('Invalid parameter: "options of endTime of hours or minutes"')}if(!_n.call(this)){var a=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(a)}var i=this.context,s=i.accessToken,c=i.orgName,l=i.appName,u=i.userId,p={};switch(t){case 0:p={type:e.options.remindType};break;case 1:p={ignoreDuration:e.options.duration};break;case 2:var h=e.options;r=h.startTime,o=h.endTime,p={ignoreInterval:"".concat(r.hours,":").concat(r.minutes,"-").concat(o.hours,":").concat(o.minutes)}}var f={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/users/").concat(u,"/notification/user/").concat(u),type:"PUT",dataType:"json",data:JSON.stringify(p),headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call setSilentModeForAll:",e),te.call(this,f)}function _i(e){if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.accessToken,o=n.orgName,a=n.appName,i=n.userId,s={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(i,"/notification/user/").concat(i),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},success:null==e?void 0:e.success,error:null==e?void 0:e.error};return G.debug("Call getSilentModeForAll:",e),te.call(this,s)}function Ei(e){if("string"!=typeof e.conversationId||!e.conversationId)throw Error('Invalid parameter: "conversationId"');if("string"!=typeof e.type||!e.type)throw Error('Invalid parameter: "type"');if(!(e.options instanceof Object))throw Error('Invalid parameter: "options"');var t=e.options.paramType;if("number"!=typeof t||t<0||t>2)throw Error('Invalid parameter: "options of paramType"');if(0===t){if("string"!=typeof e.options.remindType)throw Error('Invalid parameter: "options of remindType"')}else if(1===t){if("number"!=typeof e.options.duration)throw Error('Invalid parameter: "options of duration"')}else if(2===t){var n=e.options,r=n.startTime,o=n.endTime;if(!(r instanceof Object&&Object.keys(r).length))throw Error('Invalid parameter: "options of startTime"');if(!r.hours||"number"!=typeof r.hours||!r.minutes||"number"!=typeof r.minutes)throw Error('Invalid parameter: "options of startTime of hours or minutes"');if(!(o instanceof Object&&Object.keys(o).length))throw Error('Invalid parameter: "options of endTime"');if(!o.hours||"number"!=typeof o.hours||!o.minutes||"number"!=typeof o.minutes)throw Error('Invalid parameter: "options of endTime of hours or minutes"')}if(!_n.call(this)){var a=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(a)}var i=this.context,s=i.accessToken,c=i.orgName,l=i.appName,u=i.userId,p="chatgroup",h={};switch(t){case 0:h={type:e.options.remindType};break;case 1:h={ignoreDuration:e.options.duration};break;case 2:var f=e.options;r=f.startTime,o=f.endTime,h={ignoreInterval:"".concat(r.hours,":").concat(r.minutes,"-").concat(o.hours,":").concat(o.minutes)}}"singleChat"===e.type&&(p="user");var m={url:"".concat(this.apiUrl,"/").concat(c,"/").concat(l,"/users/").concat(u,"/notification/").concat(p,"/").concat(e.conversationId),type:"PUT",dataType:"json",data:JSON.stringify(h),headers:{Authorization:"Bearer "+s,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call setSilentModeForConversation:",e),te.call(this,m)}function Ti(e){if("string"!=typeof e.conversationId||!e.conversationId)throw Error('Invalid parameter: "conversationId"');if("string"!=typeof e.type||!e.type)throw Error('Invalid parameter: "type"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.accessToken,o=n.orgName,a=n.appName,i=n.userId,s="chatgroup";"singleChat"===e.type&&(s="user");var c={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(i,"/notification/").concat(s,"/").concat(e.conversationId),type:"PUT",dataType:"json",data:JSON.stringify({type:"DEFAULT"}),headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call clearRemindTypeForConversation:",e),te.call(this,c)}function Si(e){if("string"!=typeof e.conversationId||!e.conversationId)throw Error('Invalid parameter: "conversationId"');if("string"!=typeof e.type||!e.type)throw Error('Invalid parameter: "type"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.accessToken,o=n.orgName,a=n.appName,i=n.userId,s="chatgroup";"singleChat"===e.type&&(s="user");var c={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(i,"/notification/").concat(s,"/").concat(e.conversationId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getSilentModeForConversation:",e),te.call(this,c)}function Oi(e){if(!Array.isArray(e.conversationList))throw Error('Invalid parameter: "conversationList"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.accessToken,o=n.orgName,a=n.appName,i=n.userId,s=[],c=[];e.conversationList.forEach((function(e){"singleChat"===e.type?s.push(e.id):c.push(e.id)}));var l=s.length?s.join(","):"",u=c.length?c.join(","):"",p={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(i,"/notification?user=").concat(l,"&group=").concat(u),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call getSilentModeForConversations:",e),te.call(this,p)}function Ri(e){if("string"!=typeof e.language||!e.language)throw Error('Invalid parameter: "language"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n={translationLanguage:e.language},r=this.context,o=r.accessToken,a=r.orgName,i=r.appName,s=r.userId,c={url:"".concat(this.apiUrl,"/").concat(a,"/").concat(i,"/users/").concat(s,"/notification/language"),type:"PUT",dataType:"json",data:JSON.stringify(n),headers:{Authorization:"Bearer "+o,"Content-Type":"application/json"},success:e.success,error:e.error};return G.debug("Call setPushPerformLanguage:",e),te.call(this,c)}function bi(e){if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.accessToken,o=n.orgName,a=n.appName,i=n.userId,s={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/users/").concat(i,"/notification/language"),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json"},success:null==e?void 0:e.success,error:null==e?void 0:e.error};return G.debug("Call getPushPerformLanguage:",e),te.call(this,s)}var Ii=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(t){a(t)}}function s(e){try{c(r.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},Ci=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}};function Ni(e){if("string"!=typeof e.name||""===e.name)throw Error("Invalid parameter name: ".concat(e.name));if("string"!=typeof e.messageId||""===e.messageId)throw Error("Invalid parameter messageId: ".concat(e.messageId));if("string"!=typeof e.parentId||""===e.parentId)throw Error("Invalid parameter parentId: ".concat(e.parentId));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={name:e.name,msg_id:e.messageId,group_id:e.parentId,owner:this.user},c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/thread?resource=").concat(i.clientResource),type:"POST",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,c).then((function(e){var t=e.data.thread_id;return e.data={chatThreadId:t},e}))}function Ai(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/thread/").concat(e.chatThreadId,"/user/").concat(this.user,"/join?resource=").concat(i.clientResource),type:"POST",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,s).then((function(e){var t=e.data.detail;return t.messageId=t.msgId,t.parentId=t.groupId,delete t.msgId,delete t.groupId,e}))}function Mi(e){return Ii(this,void 0,void 0,(function(){var t,n,r,o,a,i,s;return Ci(this,(function(c){switch(c.label){case 0:if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));return _n.call(this)?(n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/thread/").concat(e.chatThreadId,"/user/").concat(this.user,"/quit?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}},[4,te.call(this,s)]):(t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return c.sent(),[2]}}))}))}function wi(e){return Ii(this,void 0,void 0,(function(){var t,n,r,o,a,i,s;return Ci(this,(function(c){switch(c.label){case 0:if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));return _n.call(this)?(n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/thread/").concat(e.chatThreadId,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}},[4,te.call(this,s)]):(t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"}),[2,Promise.reject(t)]);case 1:return c.sent(),[2]}}))}))}function ki(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if("string"!=typeof e.name||""===e.name)throw Error("Invalid parameter name: ".concat(e.name));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={name:e.name},c={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/thread/").concat(e.chatThreadId,"?resource=").concat(i.clientResource),type:"PUT",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,c)}function Li(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={limit:e.pageSize||20,cursor:e.cursor||""},s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/thread/").concat(e.chatThreadId,"/users"),type:"GET",dataType:"json",data:i,headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,s)}function Pi(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if("string"!=typeof e.username||""===e.username)throw Error("Invalid parameter username: ".concat(e.username));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i=n.jid,s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/thread/").concat(e.chatThreadId,"/users/").concat(e.username,"?resource=").concat(i.clientResource),type:"DELETE",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,s)}function xi(e){if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={limit:e.pageSize||20,cursor:e.cursor||""},s={url:e.parentId?"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/threads/chatgroups/").concat(e.parentId,"/user/").concat(this.user):"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/threads/user/").concat(this.user),type:"GET",dataType:"json",data:i,headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,s).then((function(e){var t=e.entities;return null==t||t.forEach((function(e){e.parentId=e.groupId,e.messageId=e.msgId,delete e.groupId,delete e.msgId})),e}))}function Ui(e){if("string"!=typeof e.parentId||""===e.parentId)throw Error("Invalid parameter parentId: ".concat(e.parentId));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={cursor:e.cursor||"",limit:e.pageSize||20},s={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/threads/chatgroups/").concat(e.parentId),type:"GET",dataType:"json",data:i,headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,s).then((function(e){var t=e.entities;return null==t||t.forEach((function(e){e.parentId=e.groupId,e.messageId=e.msgId,delete e.groupId,delete e.msgId})),e}))}function Di(e){var t=this;if(!Array.isArray(e.chatThreadIds))throw Error("Invalid parameter chatThreadIds: ".concat(e.chatThreadIds));if(!_n.call(this)){var n=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(n)}var r=this.context,o=r.orgName,a=r.appName,i=r.accessToken,s={threadIds:e.chatThreadIds},c={url:"".concat(this.apiUrl,"/").concat(o,"/").concat(a,"/thread/message"),type:"POST",dataType:"json",data:JSON.stringify(s),headers:{Authorization:"Bearer "+i,"Content-Type":"application/json"}};return te.call(this,c).then((function(e){return Bi.call(t,e)}))}function Bi(e){var t=this,n=e.entities;return null==n||n.forEach((function(e){e.chatThreadId=e.thread_id,e.last_message&&"{}"!==JSON.stringify(e.last_message)?e.lastMessage=_e.call(t,e.last_message):e.lastMessage=e.last_message,delete e.thread_id,delete e.last_message})),e}function Gi(e){if("string"!=typeof e.chatThreadId||""===e.chatThreadId)throw Error("Invalid parameter chatThreadId: ".concat(e.chatThreadId));if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i={url:"".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/thread/").concat(e.chatThreadId),type:"GET",dataType:"json",headers:{Authorization:"Bearer "+a,"Content-Type":"application/json"}};return te.call(this,i).then((function(e){return e.data.affiliationsCount=e.data.affiliations_count,e.data.messageId=e.data.msgId,e.data.parentId=e.data.groupId,delete e.data.affiliations_count,delete e.data.msgId,delete e.data.groupId,e}))}function ji(){if(!_n.call(this)){var e=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(e)}var t=this.context,n=t.orgName,r=t.appName,o=t.accessToken,a={url:"".concat(this.apiUrl,"/").concat(n,"/").concat(r,"/users/").concat(this.user,"/translate/support/language"),dataType:"json",type:"GET",headers:{Authorization:"Bearer "+o}};return G.debug("Call getSupportedLanguages"),te.call(this,a)}function Fi(e){if("string"!=typeof e.text||""===e.text)throw Error('Invalid parameter: "text"');if(!Array.isArray(e.languages))throw Error('Invalid parameter: "language"');if(!_n.call(this)){var t=g.create({type:d.REST_PARAMS_STATUS,message:"appkey or token error"});return Promise.reject(t)}var n=this.context,r=n.orgName,o=n.appName,a=n.accessToken,i="".concat(this.apiUrl,"/").concat(r,"/").concat(o,"/users/").concat(this.user,"/translate"),s={text:e.text,to:e.languages},c={url:i,dataType:"json",type:"POST",data:JSON.stringify(s),headers:{Authorization:"Bearer "+a}};return G.debug("Call translateMessage"),te.call(this,c)}var Hi=function(){return Hi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Hi.apply(this,arguments)},Wi=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(c){s=[6,c],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},Vi=fe.getEnvInfo(),$i="web"===Vi.platform,qi=function(){},zi={CLOSED:3,CLOSING:2,CONNECTING:0,OPEN:1},Ki=function(){function n(r){var l,u;if(this.name="connection",this.max_cache_length=100,this.unSyncQueue=[],this.lastHeartbeat=Date.now(),this.isDebug=r.isDebug||!1,this.isReport=!1,this.uploadPartEnable=!0,this.isHttpDNS=void 0===r.isHttpDNS?$i:r.isHttpDNS,this.heartBeatWait=r.heartBeatWait||3e4,this.autoReconnectNumMax=r.autoReconnectNumMax||5,this.refreshDNSIntervals=this.autoReconnectNumMax<5?this.autoReconnectNumMax:5,this.delivery=r.delivery||!1,this.disconnectedReason=void 0,this.loginInfoCustomExt=void 0,this.dnsArr=["https://rs.easemob.com","https://rs.chat.agora.io","http://59.110.89.59","http://39.97.193.190","http://39.97.193.187"],this.dnsIndex=0,this.dnsTotal=this.dnsArr.length,this.restHosts=[],this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.socketHost=[],this.hostTotal=0,this.times=1,this.autoReconnectNumTotal=0,this.domain="easemob.com",this.appKey=r.appKey,this.appName="",this.orgName="",this.token="",this.grantType="",this.apiUrl=r.apiUrl||"",this.url=r.url||"",this.https=r.https||"undefined"!=typeof window&&"https:"===(null===(l=window.location)||void 0===l?void 0:l.protocol),this.version="4.7.0",this.deviceId=r.deviceId||"webim",this.isFixedDeviceId=null===(u=r.isFixedDeviceId)||void 0===u||u,this.osType=16,this.useOwnUploadFun=r.useOwnUploadFun||!1,this.compressType=[0],this.encryptType=[0],this.clientResource="",this.expiresIn=0,this.expirationTime=0,this.useReplacedMessageContents=r.useReplacedMessageContents||!1,this.logOut=!0,this.context={jid:{appKey:"",clientResource:"",domain:"easemob.com",name:""},userId:"",appKey:"",status:0,restTokenData:"",appName:"",orgName:"",root:{},accessToken:""},this._msgHash={},this._msgPromiseHash={},this._queues=[],this._load_msg_cache=[],this.unMSyncSendMsgMap=new Map,this.mr_cache={},this.closeInfo=null,this.reconnecting=!1,"string"!=typeof this.appKey||2!==this.appKey.split("#").length)throw Error("Illegal appKey: ".concat(this.appKey));this.devInfos=this.appKey.split("#"),this.orgName=this.devInfos[0],this.appName=this.devInfos[1],this.listen=Zt.bind(this),this.mSync=this.usePlugin(Xt),this.eventHandler=this.usePlugin(Yt),Object.assign(n.prototype,e),Object.assign(n.prototype,t),Object.assign(n.prototype,o),Object.assign(n.prototype,a),Object.assign(n.prototype,i),Object.assign(n.prototype,s),Object.assign(n.prototype,c),this.dataReport=new gn({appkey:this.appKey,org:this.orgName,sdkVersion:this.version,deviceId:this.deviceId,isReport:this.isReport});var d=0,p=this;Object.defineProperty(fe,"ajaxUnconventionalErrorTimes",{set:function(e){0!==e&&(G.debug("rest api request fail times: ".concat(e)),(d=e)%5==0&&p.isHttpDNS&&(G.debug("refresh dns config when rest request fail."),ns.call(p,"refresh",{},{})))},get:function(){return d}})}return n.prototype.usePlugin=function(e,t){if(!t)return new e(this);this[t]=new e(this)},n.prototype.listen=function(e){},n.prototype.addEventHandler=function(e,t){},n.prototype.removeEventHandler=function(e){},n.prototype.registerUser=function(e){var t=this;return new Promise((function(n,r){var o=t.dataReport.geOperateFun({uid:e.username,operationName:y.REGISTER});if(t.isHttpDNS){t.dnsIndex=0;var a=Hi(Hi({},e),{user:e.username,pwd:e.password,promise:{resolve:n,reject:r}});ns.call(t,"signup",a,{rpt:o})}else a=Hi(Hi({},e),{promise:{resolve:n,reject:r}}),Ji.call(t,a,{rpt:o})}))},n.prototype.open=function(e){var t=this;return G.debug("open",e.user),new Promise((function(n,r){if(es.call(t,e)){e.accessToken&&(t.token=e.accessToken);var o=Hi(Hi({},e),{promise:{resolve:n,reject:r}}),a=t.dataReport.geOperateFun({uid:e.user,operationName:y.LOGIN});t.isHttpDNS?ns.call(t,"login",o,{rpt:a}):Xi.call(t,o,{rpt:a})}}))},n.prototype.isOpened=function(){return this.sock&&this.sock.readyState===zi.OPEN||!1},n.prototype.close=function(){var e,t,n;this.logOut=!0,this.disconnectedReason=void 0,this.reconnecting=!1,this.context.status=d.STATUS_CLOSING,this.sock&&this.sock.close(),null===(e=this.unMSyncSendMsgMap)||void 0===e||e.clear(),this.stopHeartBeat(),this.rejectMessage(),this.context.status=d.STATUS_CLOSED,this._load_msg_cache=[],this._queues=[],this.unSyncQueue=[],this._msgHash={},this.mr_cache={},this.token="",this.context.accessToken="",this.clearTokenTimeout(),null===(n=null===(t=null==this?void 0:this._localCache)||void 0===t?void 0:t.getInstance())||void 0===n||n.close()},n.prototype.downloadAndParseCombineMessage=function(e){var t=this,n=e.url,r=e.secret;return new Promise((function(e,o){var a,i,s=fe.getEnvInfo(),c="web"!==s.platform&&"node"!==s.platform&&"quick_app"!==s.platform&&(null===(i=null===(a=s.global)||void 0===a?void 0:a.canIUse)||void 0===i?void 0:i.call(a,"getFileSystemManager")),l=function(n){var r=function(e){o({type:d.PARSE_FILE_ERROR,message:"Read file failed",data:e})},a=function(n){return r=t,a=void 0,s=function(){var t,r,a,i,s,l,u,p,h,f,m,g,v;return Wi(this,(function(y){switch(y.label){case 0:for(t=c?new Uint8Array(n.data):new Uint8Array(n.target.result),r=0,a=0,i=2,s=t.subarray(r,r+i),l=fe.Uint8ArrayToString(s),G.debug("file header:",l),a+=i,u=0,p=2;p<t.length-1;p++)p%2==1&&(u^=t[p]);if(h=t.subarray(t.length-1,t.length),G.debug("checkResult:",u,h[0]===u),h[0]!==u)return[2,o({type:d.PARSE_FILE_ERROR,message:"File verification failed"})];if("cm"!==l)return[3,7];y.label=1;case 1:y.trys.push([1,5,,6]),f=[],m=function(){var e,n,o,s;return Wi(this,(function(c){switch(c.label){case 0:return r+=i,a+=i=4,e=t.subarray(r,r+i),r+=i,i=e.reduce((function(t,n,r){return t+(n<<8*(e.length-r-1))}),0),a+=i,n=t.subarray(r,r+i),o=(o=g.root.lookup("easemob.pb.Meta")).decode(n),[4,ze.call(g,o,0,!0,!0)];case 1:return s=c.sent(),f.push(s),[2]}}))},g=this,y.label=2;case 2:return a<t.length-1?[5,m()]:[3,4];case 3:return y.sent(),[3,2];case 4:return[2,e(f)];case 5:return v=y.sent(),o({type:d.PARSE_FILE_ERROR,message:"Parse file failed",data:v}),[3,6];case 6:return[3,8];case 7:return[2,o({type:d.PARSE_FILE_ERROR,message:"File verification failed"})];case 8:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{c(s.next(e))}catch(n){t(n)}}function o(e){try{c(s.throw(e))}catch(n){t(n)}}function c(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,o)}c((s=s.apply(r,a||[])).next())}));var r,a,i,s};if(c){var i=s.global.getFileSystemManager(),l=n.tempFilePath;i.readFile({filePath:l,success:a,fail:r})}else if(n instanceof Blob){var u=new FileReader;u.readAsArrayBuffer(n),u.onerror=r,u.onload=a}},u=function(e){o({type:d.WEBIM_DOWNLOADFILE_ERROR,message:"Download failed, please try again",data:e})};c?s.global.downloadFile({url:n,success:l,fail:u}):fe.download.call(t,{url:n,headers:{Accept:"application/json"},onFileDownloadComplete:l,onFileDownloadError:u,secret:r,accessToken:t.context.accessToken})}))},n.prototype.stopHeartBeat=function(){clearInterval(this.heartBeatID)},n.prototype.clear=function(){this.restTotal=0,this.restIndex=0,this.hostIndex=0,this.hostTotal=0},n.prototype.heartBeat=function(){},n.prototype.renewToken=function(e){var t=this;return this.isOpened()?this.getTokenExpireTimestamp(e).then((function(n){var r=n.expire_timestamp,o=Date.now();return t.expirationTime=r,t.expiresIn=r-o,t.token=e,t.context.accessToken=e,t.clearTokenTimeout(),t.tokenExpireTimeCountDown(t.expiresIn),{status:!0,token:e,expire:r}})):Promise.reject({status:!1})},n.prototype.clearTokenTimeout=function(){G.info("clearTokenTimeout"),this.tokenWillExpireTimer&&clearTimeout(this.tokenWillExpireTimer),this.tokenExpiredTimer&&clearTimeout(this.tokenExpiredTimer),this.tokenWillExpireTimer=null,this.tokenExpiredTimer=null},n.prototype.tokenExpireTimeCountDown=function(e){var t=this;G.info("tokenExpireTimeCountDown",e),e>Math.pow(2,31)-1&&(e=Math.pow(2,31)-1),this.tokenWillExpireTimer=setTimeout((function(){var n;t.onTokenWillExpire&&t.onTokenWillExpire(),null===(n=t.eventHandler)||void 0===n||n.dispatch("onTokenWillExpire"),G.info("onTokenWillExpire",Math.floor(e/2))}),e/2),this.tokenExpiredTimer=setTimeout((function(){var e;G.info("onTokenExpired",0),t.onTokenExpired&&t.onTokenExpired(),null===(e=t.eventHandler)||void 0===e||e.dispatch("onTokenExpired"),t.close()}),e)},n.prototype.compareTokenExpireTime=function(e,t){var n,r=Number(t)-Number(e);G.debug("compareTokenExpireTime",r),r<=this.expiresIn/2&&r>0?(this.onTokenWillExpire&&this.onTokenWillExpire(),null===(n=this.eventHandler)||void 0===n||n.dispatch("onTokenWillExpire"),G.info("onTokenWillExpire",r)):r<=0&&(this.closeByTokenExpired(),G.info("closeByTokenExpired",r))},n.prototype.closeByTokenExpired=function(){var e;G.info("closed By TokenExpired"),this.onTokenExpired&&this.onTokenExpired(),null===(e=this.eventHandler)||void 0===e||e.dispatch("onTokenExpired"),this.close()},n.prototype.rejectMessage=function(){var e=this,t=Object.keys(this._msgHash);if(t.length>0){var n=g.create({type:d.MESSAGE_WEBSOCKET_DISCONNECTED,message:"websocket disconnected"});t.forEach((function(t){var r,o,a;(null===(r=e.unMSyncSendMsgMap)||void 0===r?void 0:r.has(t))||(e._msgHash[t].reject instanceof Function&&e._msgHash[t].reject(n),null===(a=null===(o=e._localCache)||void 0===o?void 0:o.getInstance())||void 0===a||a.updateLocalMessage(t,{serverMsgId:t,status:Ee.FAIL}),e._msgHash[t].fail instanceof Function&&e._msgHash[t].fail(n),delete e._msgHash[t])}))}},n.prototype.resetConnState=function(){this.mSync.stopHeartBeat(),this.times=1,this.autoReconnectNumTotal=0,this.hostIndex=0},n.prototype.reconnect=function(){var e,t=this;this.sock.readyState!==zi.CONNECTING&&this.sock.readyState!==zi.OPEN&&(G.info("reconnect: time",this.times),G.info("reconnect sock.readyState: ",this.sock.readyState),!1===this.reconnecting&&(this.reconnecting=!0),null===(e=this.eventHandler)||void 0===e||e.dispatch("onReconnecting"),this.rejectMessage(),this.isHttpDNS&&(this.hostIndex<this.socketHost.length-1?this.hostIndex++:this.hostIndex=this.socketHost.length-1),setTimeout((function(){t.sock.readyState!==zi.OPEN&&(G.info("login sock.readyState: ",t.sock.readyState),t.sock.close(),Zi.call(t,{access_token:t.context.accessToken}),t.times++)}),500*this.times),this.autoReconnectNumTotal++)},n.prototype.send=function(e){return Promise.resolve(null)},n.prototype.setLoginInfoCustomExt=function(e){if(G.debug("setLoginInfoCustomExt","params:",e),e){if("string"!=typeof e)throw new Error("ext must be a string");if(e.length>1024)throw new Error("ext length must be less than 1024")}this.loginInfoCustomExt=e},n._getSock=function(){},n}();function Ji(e,t){var n=this,r=t.rpt,o=t.isRetry,a=e.promise,i=this.apiUrl+"/"+this.orgName+"/"+this.appName+"/users",s={requestName:_.RESISTER,requestUrl:i},c=e.error||qi;if(!this.orgName&&!this.appName){var l=g.create({type:d.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR,message:"signup error"});c(l)}var u={headers:{"Content-type":"application/json"},url:i,dataType:"json",data:JSON.stringify({username:e.username,password:e.password,nickname:e.nickname||""}),success:function(t){e.success&&e.success(t);var n=Hi(Hi({},t),{type:d.REQUEST_SUCCESS});a.resolve&&a.resolve(n);var i=t.extraInfo,c=i.httpCode,l=i.elapse;r({isEndApi:!0,isRetry:o,data:Hi(Hi({},{requestElapse:l,isSuccess:1,code:c}),s)})},error:function(t){var i=t.extraInfo,l=i.elapse,u=i.httpCode,d=i.errDesc;return r({isRetry:o,data:Hi(Hi({},{requestElapse:l,isSuccess:0,code:u,codeDesc:d}),s)}),n.isHttpDNS&&n.restIndex+1<n.restTotal?(n.restIndex++,rs.call(n),Ji.call(n,e,{rpt:r,isRetry:o}),Promise.reject(t)):(r({data:{isLastApi:1,isSuccess:0}}),n.clear(),a.reject&&a.reject(t),c(t))}};return fe.ajax(u).catch((function(e){a.reject&&a.reject(e)}))}function Xi(e,t){var n=this;if(es.call(this,e)&&!this.isOpened()){var r=t.rpt,o=t.isRetry;ts.call(this,e),this.user=e.user;var a=e.promise,i=this.context.appName,s=this.context.orgName,c=this.apiUrl+"/"+s+"/"+i+"/token";if(e.accessToken)this.grantType="accessToken",this.token=e.accessToken,this.context.accessToken=e.accessToken,this.context.restTokenData=e.accessToken,a.resolve({accessToken:e.accessToken}),Zi.call(this,e,r);else if(e.agoraToken)this.grantType="agoraToken",this.token=e.agoraToken,this.context.accessToken=e.agoraToken,this.context.restTokenData=e.agoraToken,a.resolve({accessToken:e.agoraToken}),Zi.call(this,e,r);else{this.grantType="password";var l={grant_type:"password",username:e.user,password:e.pwd,timestamp:+new Date},u=JSON.stringify(l),p={headers:{"Content-type":"application/json"},url:c,dataType:"json",data:u,success:function(t){"function"==typeof e.success&&e.success(t),n.token=t.access_token,n.context.restTokenData=t.access_token,n.context.accessToken=t.access_token,n.expiresIn=t.expires_in,a.resolve({accessToken:t.access_token,duration:t.expires_in});var i=t.extraInfo,s=i.httpCode,l=i.elapse,u={requestName:_.LOGIN_BY_PWD,requestElapse:l,requestUrl:c,isSuccess:1,code:s};r({isRetry:o,data:u}),Zi.call(n,t,r)},error:function(t){var i,s=t.extraInfo,l=s.elapse,u=s.httpCode,p=s.errDesc,h={requestName:_.LOGIN_BY_PWD,requestElapse:l,requestUrl:c,isSuccess:0,code:u,codeDesc:p};if(r({isRetry:o,data:h}),n.isHttpDNS&&n.restIndex+1<n.restTotal)return n.restIndex++,rs.call(n),void Xi.call(n,e,{rpt:r,isRetry:!0});r({data:{isLastApi:1,isSuccess:0}}),n.clear(),t.error&&t.error_description?(i=g.create({type:d.WEBIM_CONNCTION_OPEN_USERGRID_ERROR,message:t.error_description,data:t}),n.onError&&n.onError(i)):(i=g.create({type:d.WEBIM_CONNCTION_OPEN_ERROR,message:t.error_description,data:t}),n.onError&&n.onError(i)),"function"==typeof e.error&&e.error(i),a.reject(i)},version:"4.3.0"};fe.ajax(p).catch((function(e){console.warn(e)}))}fe.listenNetwork(Yi.bind(this),Qi.bind(this))}}function Yi(){var e;G.debug("online"),this.onOnline&&this.onOnline(),null===(e=this.eventHandler)||void 0===e||e.dispatch("onOnline"),this.sock&&1!==this.sock.readyState&&(G.debug("sock.readyState:",this.sock.readyState),this.logOut||this.reconnecting||this.reconnect())}function Qi(){var e,t;G.debug("offline"),null===(e=this.sock)||void 0===e||e.close(),this.onOffline&&this.onOffline(),null===(t=this.eventHandler)||void 0===t||t.dispatch("onOffline")}function Zi(e,t){var n=this,r=this._getSock();this.sock=r;var o=function(){var e;G.debug("websocket onOpen"),t&&t({data:{isLastApi:1,isSuccess:1,accessChannel:null===(e=n.socketHost[n.hostIndex])||void 0===e?void 0:e.channel}});var o=fe.flow([n.mSync.generateProvision,n.mSync.base64transform])();try{r.send(o)}catch(i){var a=g.create({type:d.SDK_RUNTIME_ERROR,message:"send message error",data:i});n.onError&&n.onError(a)}},a=function(e){setTimeout((function(){var t,r,o,a,i,s,c,l,u,p,h,f;G.debug("websocket onClose"),"zfb"!==Vi.platform&&"dd"!==Vi.platform||(n.sock.readyState=zi.CLOSED);var m=401===(null==e?void 0:e.code)||401===(null===(t=n.closeInfo)||void 0===t?void 0:t.code);if(n.logOut)n.clear(),n.resetConnState(),m&&(G.debug("websocket provision error"),n.closeInfo=null),null===(o=null===(r=null==n?void 0:n._localCache)||void 0===r?void 0:r.getInstance())||void 0===o||o.close(),n.onClosed&&n.onClosed(),null===(a=n.eventHandler)||void 0===a||a.dispatch("onDisconnected",n.disconnectedReason);else if(m){G.debug("websocket provision error");var v={type:d.WEBIM_CONNECTION_ERROR,message:"provision error",data:e};n.closeInfo=null,n.onError&&n.onError(v),null===(i=n.eventHandler)||void 0===i||i.dispatch("onError",v),null===(c=null===(s=null==n?void 0:n._localCache)||void 0===s?void 0:s.getInstance())||void 0===c||c.close(),n.onClosed&&n.onClosed(),null===(l=n.eventHandler)||void 0===l||l.dispatch("onDisconnected",n.disconnectedReason),n.resetConnState()}else if(n.autoReconnectNumTotal<n.autoReconnectNumMax){n.reconnect();var y={type:d.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};n.onError&&n.onError(y),n.autoReconnectNumTotal%n.refreshDNSIntervals==0&&"web"===Vi.platform&&n.isHttpDNS&&(G.debug("refresh dns config when websocket close"),ns.call(n,"refresh",{},{}))}else null===(u=n.unMSyncSendMsgMap)||void 0===u||u.clear(),n.rejectMessage(),y={type:d.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"},n.disconnectedReason=g.create({type:d.WEBIM_CONNCTION_DISCONNECTED,message:"reconnection failed"}),n.onError&&n.onError(y),null===(h=null===(p=null==n?void 0:n._localCache)||void 0===p?void 0:p.getInstance())||void 0===h||h.close(),n.onClosed&&n.onClosed(),null===(f=n.eventHandler)||void 0===f||f.dispatch("onDisconnected",n.disconnectedReason),n.resetConnState(),n.reconnecting=!1,G.debug("reconnect fail")}),0)},i=function(e){var t=n.mSync,r=t.decodeMSync,o=t.distributeMSync;fe.flow([r,o])(e)};"web"===Vi.platform?(r.onopen=o,r.onclose=a,r.onmessage=i):(r.onOpen(o),r.onMessage(i),r.onClose(a),"undefined"!=typeof window&&window.WebSocket||r.onError((function(e){var r,o,a,i,s;if(G.debug("mini program sock on error",e),n.sock.readyState!==zi.CLOSED&&(n.sock=Hi(Hi({},n.sock),{close:n.sock.close,send:n.sock.send,readyState:zi.CLOSED})),n.onError&&n.onError({type:d.WEBIM_CONNECTION_ERROR,message:"on socket error",data:e}),!n.logOut)if(n.autoReconnectNumTotal<n.autoReconnectNumMax)G.debug("sock.onError reconnect",n.autoReconnectNumTotal,n.autoReconnectNumMax),n.reconnect(),n.autoReconnectNumTotal%n.refreshDNSIntervals==0&&"web"===Vi.platform&&n.isHttpDNS&&(G.debug("refresh dns config when websocket error"),ns.call(n,"refresh",{},{}));else{var c={type:d.WEBIM_CONNCTION_DISCONNECTED,message:"websocket has been disconnected"};n.disconnectedReason=g.create({type:d.WEBIM_CONNCTION_DISCONNECTED,message:"reconnection failed"}),null===(r=n.unMSyncSendMsgMap)||void 0===r||r.clear(),n.rejectMessage(),n.onError&&n.onError(c),null===(a=null===(o=null==n?void 0:n._localCache)||void 0===o?void 0:o.getInstance())||void 0===a||a.close(),n.onClosed&&n.onClosed(),null===(i=n.eventHandler)||void 0===i||i.dispatch("onDisconnected",n.disconnectedReason),n.resetConnState(),n.reconnecting=!1,G.debug("reconnect fail")}t&&t({data:{isLastApi:1,isSuccess:0,accessChannel:null===(s=n.socketHost[n.hostIndex])||void 0===s?void 0:s.channel}})})))}function es(e){if(!e.user||"string"!=typeof e.user){var t=g.create({type:d.WEBIM_CONNCTION_USER_NOT_ASSIGN_ERROR,message:"the user cannot be empty"});return G.debug("open params error",t),this.onError&&this.onError(t),!1}return!(2!==this.devInfos.length||!this.orgName||!this.appName)||(t=g.create({type:d.WEBIM_CONNCTION_APPKEY_NOT_ASSIGN_ERROR,message:"the appKey is illegal"}),G.debug("open params error",t),this.onError&&this.onError(t),!1)}function ts(e){this.context.jid={appKey:this.appKey,name:e.user,domain:this.domain,clientResource:this.clientResource},this.context.root=this.root,this.context.userId=e.user,this.context.appKey=this.appKey,this.context.appName=this.appName,this.context.orgName=this.orgName}function ns(e,t,n){var r=this,o=n.rpt,a=n.isRetry,i=this.dnsArr[this.dnsIndex]+"/easemob/server.json",s={url:i,dataType:"json",type:"GET",data:{app_key:encodeURIComponent(this.appKey)},success:function(n){var s=n.extraInfo,c=s.elapse,l=s.httpCode,u={requestUrl:i,requestName:_.GET_DNS,requestElapse:c,isSuccess:1,code:l};"true"===(null==n?void 0:n.enableDataReport)?(r.dataReport.setIsCollectDt(!0),r.dataReport.setIsReportDt(!0)):(r.dataReport.setIsReportDt(!1),r.dataReport.setIsCollectDt(!1)),"false"===(null==n?void 0:n.uploadinparts_enable)&&(r.uploadPartEnable=!1),o&&o({isRetry:a,data:u});var d=n.rest.hosts,p=r.https?"https":"http";if(G.info("httpType: "+p),!d)return Promise.reject(!1);for(var h=d.filter((function(e){if(e.protocol===p)return e})),f=0;f<h.length;f++)if(h[f].protocol===p){var m=h[f];h.splice(f,1),h.unshift(m)}r.restHosts=h,r.restTotal=h.length;var g=n["msync-ws"].hosts;if(!g)return Promise.reject(!1);var v=g.filter((function(e){return e.protocol===p&&e}));r.socketHost=v,r.hostTotal=v.length,rs.call(r),"refresh"!==e&&("login"===e?Xi.call(r,t,{rpt:o}):Ji.call(r,t,{rpt:o}))},error:function(n){var s=n.extraInfo,c=s.elapse,l=s.httpCode,u=s.errDesc,d={requestUrl:i,requestName:_.GET_DNS,isSuccess:0,code:l,codeDesc:u,requestElapse:c};o&&o({isRetry:a,data:d}),G.debug("getHttpDNS fail: "+r.dnsIndex),r.dnsIndex++,r.dnsIndex<r.dnsTotal&&ns.call(r,e,t,{rpt:o,isRetry:!0})}};return fe.ajax(s).catch((function(e){console.warn(e)}))}function rs(){var e,t;if(this.restIndex>this.restTotal)return G.debug("restIndex > restTotal"),"";var n="",r=this.restHosts[this.restIndex],o=r.domain,a=r.ip,i=r.port,s=this.https?"https:":"http:";return a&&"undefined"!=typeof window&&"http:"===(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.protocol)?n=s+"//"+a+":"+i:(n=s+"//"+o,i&&"80"!==i&&"443"!==i&&(n+=":".concat(i)),"undefined"==typeof window||window.location||(n="https://"+o),"undefined"!=typeof window&&window.location&&"file:"===(null===(t=window.location)||void 0===t?void 0:t.protocol)&&(n="https://"+o)),"undefined"==typeof window&&(n=s+"//"+o),this.apiUrl=n,n}var os=fe.getEnvInfo(),as=os.global;h.util.Long=m(),h.configure();var is=h.Root.fromJSON({nested:{easemob:{nested:{pb:{nested:{MessageBody:{fields:{type:{type:"Type",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},contents:{rule:"repeated",type:"Content",id:4},ext:{rule:"repeated",type:"KeyValue",id:5},ackMessageId:{type:"uint64",id:6},msgConfig:{type:"MessageConfig",id:7},ackContent:{type:"string",id:8},meta:{type:"string",id:9},editMessageId:{type:"uint64",id:11}},nested:{Content:{fields:{type:{type:"Type",id:1},text:{type:"string",id:2},latitude:{type:"double",id:3},longitude:{type:"double",id:4},address:{type:"string",id:5},displayName:{type:"string",id:6},remotePath:{type:"string",id:7},secretKey:{type:"string",id:8},fileLength:{type:"int32",id:9},action:{type:"string",id:10},params:{rule:"repeated",type:"KeyValue",id:11},duration:{type:"int32",id:12},size:{type:"Size",id:13},thumbnailRemotePath:{type:"string",id:14},thumbnailSecretKey:{type:"string",id:15},thumbnailDisplayName:{type:"string",id:16},thumbnailFileLength:{type:"int32",id:17},thumbnailSize:{type:"Size",id:18},customEvent:{type:"string",id:19},customExts:{rule:"repeated",type:"KeyValue",id:20},buildingName:{type:"string",id:21},subType:{type:"SubType",id:22},title:{type:"string",id:23},summary:{type:"string",id:24},combineLevel:{type:"int32",id:25}},nested:{Type:{values:{TEXT:0,IMAGE:1,VIDEO:2,LOCATION:3,VOICE:4,FILE:5,COMMAND:6,CUSTOM:7,COMBINE:8}},Size:{fields:{width:{type:"double",id:1},height:{type:"double",id:2}}},SubType:{values:{COMBINE:0}}}},Type:{values:{NORMAL:0,CHAT:1,GROUPCHAT:2,CHATROOM:3,READ_ACK:4,DELIVER_ACK:5,RECALL:6,CHANNEL_ACK:7,EDIT:8}},MessageConfig:{fields:{allowGroupAck:{type:"bool",id:1}}}}},KeyValue:{oneofs:{value:{oneof:["varintValue","floatValue","doubleValue","stringValue"]}},fields:{key:{type:"string",id:1},type:{type:"ValueType",id:2},varintValue:{type:"int64",id:3},floatValue:{type:"float",id:4},doubleValue:{type:"double",id:5},stringValue:{type:"string",id:6}},nested:{ValueType:{values:{BOOL:1,INT:2,UINT:3,LLINT:4,FLOAT:5,DOUBLE:6,STRING:7,JSON_STRING:8}}}},JID:{fields:{appKey:{type:"string",id:1},name:{type:"string",id:2},domain:{type:"string",id:3},clientResource:{type:"string",id:4}}},ConferenceBody:{fields:{sessionId:{type:"string",id:1},operation:{type:"Operation",id:2},conferenceId:{type:"string",id:3},type:{type:"Type",id:4},content:{type:"string",id:5},network:{type:"string",id:6},version:{type:"string",id:7},identity:{type:"Identity",id:8},duration:{type:"string",id:9},peerName:{type:"string",id:10},endReason:{type:"EndReason",id:11},status:{type:"Status",id:12},isDirect:{type:"bool",id:13},controlType:{type:"StreamControlType",id:14},routeFlag:{type:"int32",id:15},routeKey:{type:"string",id:16}},nested:{Status:{fields:{errorCode:{type:"int32",id:1}}},Operation:{values:{JOIN:0,INITIATE:1,ACCEPT_INITIATE:2,ANSWER:3,TERMINATE:4,REMOVE:5,STREAM_CONTROL:6,MEDIA_REQUEST:7}},Type:{values:{VOICE:0,VIDEO:1}},Identity:{values:{CALLER:0,CALLEE:1}},EndReason:{values:{HANGUP:0,NORESPONSE:1,REJECT:2,BUSY:3,FAIL:4,UNSUPPORTED:5,OFFLINE:6}},StreamControlType:{values:{PAUSE_VOICE:0,RESUME_VOICE:1,PAUSE_VIDEO:2,RESUME_VIDEO:3}}}},MSync:{fields:{version:{type:"Version",id:1,options:{default:"MSYNC_V1"}},guid:{type:"JID",id:2},auth:{type:"string",id:3},compressAlgorimth:{type:"uint32",id:4},crypto:{type:"uint32",id:5},userAgent:{type:"string",id:6},pov:{type:"uint64",id:7},command:{type:"Command",id:8},deviceId:{type:"uint32",id:10},encryptType:{rule:"repeated",type:"EncryptType",id:11,options:{packed:!1}},encryptKey:{type:"string",id:12},payload:{type:"bytes",id:9}},nested:{Version:{values:{MSYNC_V1:0,MSYNC_V2:1}},Command:{values:{SYNC:0,UNREAD:1,NOTICE:2,PROVISION:3}}}},EncryptType:{values:{ENCRYPT_NONE:0,ENCRYPT_AES_128_CBC:1,ENCRYPT_AES_256_CBC:2}},CommSyncUL:{fields:{meta:{type:"Meta",id:1},key:{type:"uint64",id:2},queue:{type:"JID",id:3},isRoam:{type:"bool",id:4},lastFullRoamKey:{type:"uint64",id:5}}},CommSyncDL:{fields:{status:{type:"Status",id:1},metaId:{type:"uint64",id:2},serverId:{type:"uint64",id:3},metas:{rule:"repeated",type:"Meta",id:4},nextKey:{type:"uint64",id:5},queue:{type:"JID",id:6},isLast:{type:"bool",id:7},timestamp:{type:"uint64",id:8},isRoam:{type:"bool",id:9}}},CommNotice:{fields:{queue:{type:"JID",id:1}}},CommUnreadUL:{fields:{}},CommUnreadDL:{fields:{status:{type:"Status",id:1},unread:{rule:"repeated",type:"MetaQueue",id:2},timestamp:{type:"uint64",id:3}}},MetaQueue:{fields:{queue:{type:"JID",id:1},n:{type:"uint32",id:2}}},Meta:{fields:{id:{type:"uint64",id:1},from:{type:"JID",id:2},to:{type:"JID",id:3},timestamp:{type:"uint64",id:4},ns:{type:"NameSpace",id:5},payload:{type:"bytes",id:6},routetype:{type:"RouteType",id:7},ext:{rule:"repeated",type:"KeyValue",id:8},meta:{type:"bytes",id:9},directedUsers:{rule:"repeated",type:"string",id:10}},nested:{NameSpace:{values:{STATISTIC:0,CHAT:1,MUC:2,ROSTER:3,CONFERENCE:4,NOTIFY:5,QUERY:6}},RouteType:{values:{ROUTE_ALL:0,ROUTE_ONLINE:1,ROUTE_DIRECT:2}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},reason:{type:"string",id:2},redirectInfo:{rule:"repeated",type:"RedirectInfo",id:3}},nested:{ErrorCode:{values:{OK:0,FAIL:1,UNAUTHORIZED:2,MISSING_PARAMETER:3,WRONG_PARAMETER:4,REDIRECT:5,TOKEN_EXPIRED:6,PERMISSION_DENIED:7,NO_ROUTE:8,UNKNOWN_COMMAND:9,PB_PARSER_ERROR:10,BIND_ANOTHER_DEVICE:11,IM_FORBIDDEN:12,TOO_MANY_DEVICES:13,PLATFORM_LIMIT:14,USER_MUTED:15,ENCRYPT_DISABLE:16,ENCRYPT_ENABLE:17,DECRYPT_FAILURE:18,PERMISSION_DENIED_EXTERNAL:19}}}},RedirectInfo:{fields:{host:{type:"string",id:1},port:{type:"uint32",id:2}}},Provision:{fields:{osType:{type:"OsType",id:1},version:{type:"string",id:2},networkType:{type:"NetworkType",id:3},appSign:{type:"string",id:4},compressType:{rule:"repeated",type:"CompressType",id:5,options:{packed:!1}},encryptType:{rule:"repeated",type:"EncryptType",id:6,options:{packed:!1}},encryptKey:{type:"string",id:7},status:{type:"Status",id:8},deviceUuid:{type:"string",id:9},isManualLogin:{type:"bool",id:10},password:{type:"string",id:11},deviceName:{type:"string",id:12},resource:{type:"string",id:13},auth:{type:"string",id:14},serviceId:{type:"string",id:16},actionVersion:{type:"string",id:17},authToken:{type:"string",id:18},reason:{type:"string",id:21}},nested:{OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}},CompressType:{values:{COMPRESS_NONE:0,COMPRESS_ZLIB:1}}}},MUCBody:{fields:{mucId:{type:"JID",id:1},operation:{type:"Operation",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},setting:{type:"Setting",id:5},reason:{type:"string",id:6},isChatroom:{type:"bool",id:7},status:{type:"Status",id:8},isThread:{type:"bool",id:9},mucParentId:{type:"JID",id:10},mucName:{type:"string",id:11},eventInfo:{type:"EventInfo",id:12},mucMemberCount:{type:"int32",id:13}},nested:{Operation:{values:{CREATE:0,DESTROY:1,JOIN:2,LEAVE:3,APPLY:4,APPLY_ACCEPT:5,APPLY_DECLINE:6,INVITE:7,INVITE_ACCEPT:8,INVITE_DECLINE:9,KICK:10,GET_BLACKLIST:11,BAN:12,ALLOW:13,UPDATE:14,BLOCK:15,UNBLOCK:16,PRESENCE:17,ABSENCE:18,DIRECT_JOINED:19,ASSIGN_OWNER:20,ADD_ADMIN:21,REMOVE_ADMIN:22,ADD_MUTE:23,REMOVE_MUTE:24,UPDATE_ANNOUNCEMENT:25,DELETE_ANNOUNCEMENT:26,UPLOAD_FILE:27,DELETE_FILE:28,ADD_USER_WHITE_LIST:29,REMOVE_USER_WHITE_LIST:30,BAN_GROUP:31,REMOVE_BAN_GROUP:32,THREAD_CREATE:33,THREAD_DESTROY:34,THREAD_JOIN:35,THREAD_LEAVE:36,THREAD_KICK:37,THREAD_UPDATE:38,THREAD_PRESENCE:39,THREAD_ABSENCE:40,DISABLE_GROUP:41,ABLE_GROUP:42,SET_METADATA:43,DELETE_METADATA:44,GROUP_MEMBER_METADATA_UPDATE:45}},Setting:{fields:{name:{type:"string",id:1},desc:{type:"string",id:2},type:{type:"Type",id:3},maxUsers:{type:"int32",id:4},owner:{type:"string",id:5}},nested:{Type:{values:{PRIVATE_OWNER_INVITE:0,PRIVATE_MEMBER_INVITE:1,PUBLIC_JOIN_APPROVAL:2,PUBLIC_JOIN_OPEN:3,PUBLIC_ANONYMOUS:4}}}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,PERMISSION_DENIED:1,WRONG_PARAMETER:2,MUC_NOT_EXIST:3,USER_NOT_EXIST:4,UNKNOWN:5}}}},EventInfo:{fields:{eventType:{type:"EventType",id:1,options:{default:"EVENT_NONE"}},ext:{type:"string",id:2}},nested:{EventType:{values:{EVENT_NONE:0,CIRCLE_CHANNEL:1}}}}}},RosterBody:{fields:{operation:{type:"Operation",id:1},status:{type:"Status",id:2},from:{type:"JID",id:3},to:{rule:"repeated",type:"JID",id:4},reason:{type:"string",id:5},rosterVer:{type:"string",id:6},biDirection:{type:"bool",id:7}},nested:{Operation:{values:{GET_ROSTER:0,GET_BLACKLIST:1,ADD:2,REMOVE:3,ACCEPT:4,DECLINE:5,BAN:6,ALLOW:7,REMOTE_ACCEPT:8,REMOTE_DECLINE:9}},Status:{fields:{errorCode:{type:"ErrorCode",id:1},description:{type:"string",id:2}},nested:{ErrorCode:{values:{OK:0,USER_NOT_EXIST:1,USER_ALREADY_FRIEND:2,USER_ALREADY_BLACKLIST:3}}}}}},StatisticsBody:{fields:{operation:{type:"Operation",id:1},os:{type:"OsType",id:2},version:{type:"string",id:3},network:{type:"NetworkType",id:4},imTime:{type:"uint32",id:5},chatTime:{type:"uint32",id:6},location:{type:"string",id:7},reason:{type:"string",id:10}},nested:{Operation:{values:{INFORMATION:0,USER_REMOVED:1,USER_LOGIN_ANOTHER_DEVICE:2,USER_KICKED_BY_CHANGE_PASSWORD:3,USER_KICKED_BY_OTHER_DEVICE:4}},OsType:{values:{OS_IOS:0,OS_ANDROID:1,OS_LINUX:2,OS_OSX:3,OS_WIN:4,OS_OTHER:16}},NetworkType:{values:{NETWORK_NONE:0,NETWORK_WIFI:1,NETWORK_4G:2,NETWORK_3G:3,NETWORK_2G:4,NETWORK_WIRE:5}}}}}}}}}});Ki.prototype.root=is;var ss=function(e){this.onOpen=as.onSocketOpen,this.onClose=as.onSocketClose,this.onMessage=as.onSocketMessage,this.onError=as.onSocketError,this.close=as.closeSocket,this.send=as.sendSocketMessage,this.connectSocket=as.connectSocket,this.readyState=3,this.offSocketOpen=as.offSocketOpen,this.offSocketMessage=as.offSocketMessage,this.offSocketError=as.offSocketError,this.offSocketClose=as.offSocketClose,this.connect=function(){this.offSocketOpen(),this.offSocketMessage(),this.offSocketClose(),this.offSocketError(),as.connectSocket({url:e.url,header:{"content-type":"application/json"},success:function(e){},fail:function(){}})}};Ki.prototype._getSock=function(){var e,t=this;return this.sock&&this.sock.close&&this.sock.close(),(e="zfb"===os.platform||"dd"===os.platform?new ss(this):as.connectSocket({url:this.url,header:{"content-type":"application/json"},success:function(e){G.debug("socket connect success",e)},fail:function(e){G.debug("socket connect fail",e),t.reconnecting=!1,e.errMsg.indexOf("suspend")},complete:function(){}})).connect&&e.connect(),e},Ki.prototype.getUniqueId=fe.getUniqueId,Ki.prototype.deviceId="miniProgram_"+os.platform,Ki.prototype._localCache=void 0;var cs=G.getLogger("defaultLogger");cs.setConfig({useCache:!1,maxCache:3145728}),cs.enableAll(),fe.ajax=fe.wxRequest;var ls={connection:Ki,message:Ue,utils:fe,logger:cs,statusCode:d}}(),r}());Cy.logger.onLog=e=>{console.log(e.time,e.logs)},Cy.logger.setConsoleLogVisibility(!1);const Ny=Ey("conn",(()=>{let e=null,t=Cy;const n=t=>{e=t,uni.conn=t};return{conn:e,setChatConn:n,getChatConn:()=>{if(e)return e;throw"conn is not initialized"},initChatSDK:r=>(n(new t.connection(r)),e),getChatSDK:()=>{if(t)return t;throw"SDK is not found"}}})),Ay="undefined"!=typeof window,My=(e,t=!1)=>t?Symbol.for(e):Symbol(e),wy=(e,t,n)=>ky({l:e,k:t,s:n}),ky=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Ly=e=>"number"==typeof e&&isFinite(e),Py=e=>"[object Date]"===Xy(e),xy=e=>"[object RegExp]"===Xy(e),Uy=e=>Yy(e)&&0===Object.keys(e).length,Dy=Object.assign;let By;const Gy=()=>By||(By="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function jy(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Fy=Object.prototype.hasOwnProperty;function Hy(e,t){return Fy.call(e,t)}const Wy=Array.isArray,Vy=e=>"function"==typeof e,$y=e=>"string"==typeof e,qy=e=>"boolean"==typeof e,zy=e=>null!==e&&"object"==typeof e,Ky=e=>zy(e)&&Vy(e.then)&&Vy(e.catch),Jy=Object.prototype.toString,Xy=e=>Jy.call(e),Yy=e=>{if(!zy(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t.constructor===Object};function Qy(e){let t=e;return()=>++t}function Zy(e,t){"undefined"!=typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const e_=e=>!zy(e)||Wy(e);function t_(e,t){if(e_(e)||e_(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:e,des:t}=n.pop();Object.keys(e).forEach((r=>{e_(e[r])||e_(t[r])?t[r]=e[r]:n.push({src:e[r],des:t[r]})}))}}
/*!
  * message-compiler v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */function n_(e,t,n){const r={start:e,end:t};return null!=n&&(r.source=n),r}const r_=/\{([0-9a-zA-Z]+)\}/g;function o_(e,...t){return 1===t.length&&s_(t[0])&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(r_,((e,n)=>t.hasOwnProperty(n)?t[n]:""))}const a_=Object.assign,i_=e=>"string"==typeof e,s_=e=>null!==e&&"object"==typeof e;function c_(e,t=""){return e.reduce(((e,n,r)=>0===r?e+n:e+t+n),"")}const l_={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},u_={[l_.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};const d_={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},p_={[d_.EXPECTED_TOKEN]:"Expected token: '{0}'",[d_.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[d_.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[d_.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[d_.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[d_.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[d_.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[d_.EMPTY_PLACEHOLDER]:"Empty placeholder",[d_.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[d_.INVALID_LINKED_FORMAT]:"Invalid linked format",[d_.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[d_.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[d_.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[d_.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[d_.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[d_.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function h_(e,t,n={}){const{domain:r,messages:o,args:a}=n,i=o_((o||p_)[e]||"",...a||[]),s=new SyntaxError(String(i));return s.code=e,t&&(s.location=t),s.domain=r,s}function f_(e){throw e}const m_=" ",g_="\r",v_="\n",y_=String.fromCharCode(8232),__=String.fromCharCode(8233);function E_(e){const t=e;let n=0,r=1,o=1,a=0;const i=e=>t[e]===g_&&t[e+1]===v_,s=e=>t[e]===__,c=e=>t[e]===y_,l=e=>i(e)||(e=>t[e]===v_)(e)||s(e)||c(e),u=e=>i(e)||s(e)||c(e)?v_:t[e];function d(){return a=0,l(n)&&(r++,o=0),i(n)&&n++,n++,o++,t[n]}return{index:()=>n,line:()=>r,column:()=>o,peekOffset:()=>a,charAt:u,currentChar:()=>u(n),currentPeek:()=>u(n+a),next:d,peek:function(){return i(n+a)&&a++,a++,t[n+a]},reset:function(){n=0,r=1,o=1,a=0},resetPeek:function(e=0){a=e},skipToPeek:function(){const e=n+a;for(;e!==n;)d();a=0}}}const T_=void 0,S_="'",O_="tokenizer";function R_(e,t={}){const n=!1!==t.location,r=E_(e),o=()=>r.index(),a=()=>{return e=r.line(),t=r.column(),n=r.index(),{line:e,column:t,offset:n};var e,t,n},i=a(),s=o(),c={currentType:14,offset:s,startLoc:i,endLoc:i,lastType:14,lastOffset:s,lastStartLoc:i,lastEndLoc:i,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=t;function d(e,t,r,...o){const a=l();if(t.column+=r,t.offset+=r,u){const r=h_(e,n?n_(a.startLoc,t):null,{domain:O_,args:o});u(r)}}function p(e,t,r){e.endLoc=a(),e.currentType=t;const o={type:t};return n&&(o.loc=n_(e.startLoc,e.endLoc)),null!=r&&(o.value=r),o}const h=e=>p(e,14);function f(e,t){return e.currentChar()===t?(e.next(),t):(d(d_.EXPECTED_TOKEN,a(),0,t),"")}function m(e){let t="";for(;e.currentPeek()===m_||e.currentPeek()===v_;)t+=e.currentPeek(),e.peek();return t}function g(e){const t=m(e);return e.skipToPeek(),t}function v(e){if(e===T_)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=function(e){if(e===T_)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r}function _(e){m(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function E(e,t=!0){const n=(t=!1,r="",o=!1)=>{const a=e.currentPeek();return"{"===a?"%"!==r&&t:"@"!==a&&a?"%"===a?(e.peek(),n(t,"%",!0)):"|"===a?!("%"!==r&&!o)||!(r===m_||r===v_):a===m_?(e.peek(),n(!0,m_,o)):a!==v_||(e.peek(),n(!0,v_,o)):"%"===r||t},r=n();return t&&e.resetPeek(),r}function T(e,t){const n=e.currentChar();return n===T_?T_:t(n)?(e.next(),n):null}function S(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}function O(e){return T(e,S)}function R(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t||45===t}function b(e){return T(e,R)}function I(e){const t=e.charCodeAt(0);return t>=48&&t<=57}function C(e){return T(e,I)}function N(e){const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function A(e){return T(e,N)}function M(e){let t="",n="";for(;t=C(e);)n+=t;return n}function w(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!E(e))break;t+=n,e.next()}else if(n===m_||n===v_)if(E(e))t+=n,e.next();else{if(_(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function k(e){return e!==S_&&e!==v_}function L(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return P(e,t,4);case"U":return P(e,t,6);default:return d(d_.UNKNOWN_ESCAPE_SEQUENCE,a(),0,t),""}}function P(e,t,n){f(e,t);let r="";for(let o=0;o<n;o++){const n=A(e);if(!n){d(d_.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function x(e){return"{"!==e&&"}"!==e&&e!==m_&&e!==v_}function U(e){g(e);const t=f(e,"|");return g(e),t}function D(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&d(d_.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),e.next(),n=p(t,2,"{"),g(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&d(d_.EMPTY_PLACEHOLDER,a(),0),e.next(),n=p(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&d(d_.UNTERMINATED_CLOSING_BRACE,a(),0),n=B(e,t)||h(t),t.braceNest=0,n;default:{let r=!0,o=!0,i=!0;if(_(e))return t.braceNest>0&&d(d_.UNTERMINATED_CLOSING_BRACE,a(),0),n=p(t,1,U(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return d(d_.UNTERMINATED_CLOSING_BRACE,a(),0),t.braceNest=0,G(e,t);if(r=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t))return n=p(t,5,function(e){g(e);let t="",n="";for(;t=b(e);)n+=t;return e.currentChar()===T_&&d(d_.UNTERMINATED_CLOSING_BRACE,a(),0),n}(e)),g(e),n;if(o=y(e,t))return n=p(t,6,function(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${M(e)}`):t+=M(e),e.currentChar()===T_&&d(d_.UNTERMINATED_CLOSING_BRACE,a(),0),t}(e)),g(e),n;if(i=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=e.currentPeek()===S_;return e.resetPeek(),r}(e,t))return n=p(t,7,function(e){g(e),f(e,"'");let t="",n="";for(;t=T(e,k);)n+="\\"===t?L(e):t;const r=e.currentChar();return r===v_||r===T_?(d(d_.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),r===v_&&(e.next(),f(e,"'")),n):(f(e,"'"),n)}(e)),g(e),n;if(!r&&!o&&!i)return n=p(t,13,function(e){g(e);let t="",n="";for(;t=T(e,x);)n+=t;return n}(e)),d(d_.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,n.value),g(e),n;break}}return n}function B(e,t){const{currentType:n}=t;let r=null;const o=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||o!==v_&&o!==m_||d(d_.INVALID_LINKED_FORMAT,a(),0),o){case"@":return e.next(),r=p(t,8,"@"),t.inLinked=!0,r;case".":return g(e),e.next(),p(t,9,".");case":":return g(e),e.next(),p(t,10,":");default:return _(e)?(r=p(t,1,U(e)),t.braceNest=0,t.inLinked=!1,r):function(e,t){const{currentType:n}=t;if(8!==n)return!1;m(e);const r="."===e.currentPeek();return e.resetPeek(),r}(e,t)||function(e,t){const{currentType:n}=t;if(8!==n&&12!==n)return!1;m(e);const r=":"===e.currentPeek();return e.resetPeek(),r}(e,t)?(g(e),B(e,t)):function(e,t){const{currentType:n}=t;if(9!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t)?(g(e),p(t,12,function(e){let t="",n="";for(;t=O(e);)n+=t;return n}(e))):function(e,t){const{currentType:n}=t;if(10!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"%"===t||"|"===t||":"===t||"."===t||t===m_||!t)&&(t===v_?(e.peek(),r()):E(e,!1))},o=r();return e.resetPeek(),o}(e,t)?(g(e),"{"===o?D(e,t)||r:p(t,11,function(e){const t=n=>{const r=e.currentChar();return"{"!==r&&"%"!==r&&"@"!==r&&"|"!==r&&"("!==r&&")"!==r&&r?r===m_?n:(n+=r,e.next(),t(n)):n};return t("")}(e))):(8===n&&d(d_.INVALID_LINKED_FORMAT,a(),0),t.braceNest=0,t.inLinked=!1,G(e,t))}}function G(e,t){let n={type:14};if(t.braceNest>0)return D(e,t)||h(t);if(t.inLinked)return B(e,t)||h(t);switch(e.currentChar()){case"{":return D(e,t)||h(t);case"}":return d(d_.UNBALANCED_CLOSING_BRACE,a(),0),e.next(),p(t,3,"}");case"@":return B(e,t)||h(t);default:{if(_(e))return n=p(t,1,U(e)),t.braceNest=0,t.inLinked=!1,n;const{isModulo:r,hasSpace:o}=function(e){const t=m(e),n="%"===e.currentPeek()&&"{"===e.peek();return e.resetPeek(),{isModulo:n,hasSpace:t.length>0}}(e);if(r)return o?p(t,0,w(e)):p(t,4,function(e){g(e);const t=e.currentChar();return"%"!==t&&d(d_.EXPECTED_TOKEN,a(),0,t),e.next(),"%"}(e));if(E(e))return p(t,0,w(e));break}}return n}return{nextToken:function(){const{currentType:e,offset:t,startLoc:n,endLoc:i}=c;return c.lastType=e,c.lastOffset=t,c.lastStartLoc=n,c.lastEndLoc=i,c.offset=o(),c.startLoc=a(),r.currentChar()===T_?p(c,14):G(r,c)},currentOffset:o,currentPosition:a,context:l}}const b_="parser",I_=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function C_(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):""}}}function N_(e={}){const t=!1!==e.location,{onError:n,onWarn:r}=e;function o(e,r,o,a,...i){const s=e.currentPosition();if(s.offset+=a,s.column+=a,n){const e=h_(r,t?n_(o,s):null,{domain:b_,args:i});n(e)}}function a(e,n,o,a,...i){const s=e.currentPosition();if(s.offset+=a,s.column+=a,r){const e=t?n_(o,s):null;r(function(e,t,...n){const r=o_(u_[e]||"",...n||[]),o={message:String(r),code:e};return t&&(o.location=t),o}(n,e,i))}}function i(e,n,r){const o={type:e};return t&&(o.start=n,o.end=n,o.loc={start:r,end:r}),o}function s(e,n,r,o){o&&(e.type=o),t&&(e.end=n,e.loc&&(e.loc.end=r))}function c(e,t){const n=e.context(),r=i(3,n.offset,n.startLoc);return r.value=t,s(r,e.currentOffset(),e.currentPosition()),r}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:o}=n,a=i(5,r,o);return a.index=parseInt(t,10),e.nextToken(),s(a,e.currentOffset(),e.currentPosition()),a}function u(e,t,n){const r=e.context(),{lastOffset:o,lastStartLoc:a}=r,c=i(4,o,a);return c.key=t,!0===n&&(c.modulo=!0),e.nextToken(),s(c,e.currentOffset(),e.currentPosition()),c}function d(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:o}=n,a=i(9,r,o);return a.value=t.replace(I_,C_),e.nextToken(),s(a,e.currentOffset(),e.currentPosition()),a}function p(e){const t=e.context(),n=i(6,t.offset,t.startLoc);let r=e.nextToken();if(9===r.type){const t=function(e){const t=e.nextToken(),n=e.context(),{lastOffset:r,lastStartLoc:a}=n,c=i(8,r,a);return 12!==t.type?(o(e,d_.UNEXPECTED_EMPTY_LINKED_MODIFIER,n.lastStartLoc,0),c.value="",s(c,r,a),{nextConsumeToken:t,node:c}):(null==t.value&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,n.lastStartLoc,0,A_(t)),c.value=t.value||"",s(c,e.currentOffset(),e.currentPosition()),{node:c})}(e);n.modifier=t.node,r=t.nextConsumeToken||e.nextToken()}switch(10!==r.type&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,A_(r)),r=e.nextToken(),2===r.type&&(r=e.nextToken()),r.type){case 11:null==r.value&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,A_(r)),n.key=function(e,t){const n=e.context(),r=i(7,n.offset,n.startLoc);return r.value=t,s(r,e.currentOffset(),e.currentPosition()),r}(e,r.value||"");break;case 5:null==r.value&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,A_(r)),n.key=u(e,r.value||"");break;case 6:null==r.value&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,A_(r)),n.key=l(e,r.value||"");break;case 7:null==r.value&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,A_(r)),n.key=d(e,r.value||"");break;default:{o(e,d_.UNEXPECTED_EMPTY_LINKED_KEY,t.lastStartLoc,0);const a=e.context(),c=i(7,a.offset,a.startLoc);return c.value="",s(c,a.offset,a.startLoc),n.key=c,s(n,a.offset,a.startLoc),{nextConsumeToken:r,node:n}}}return s(n,e.currentOffset(),e.currentPosition()),{node:n}}function h(e){const t=e.context(),n=i(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let r=null,h=null;do{const i=r||e.nextToken();switch(r=null,i.type){case 0:null==i.value&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,A_(i)),n.items.push(c(e,i.value||""));break;case 6:null==i.value&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,A_(i)),n.items.push(l(e,i.value||""));break;case 4:h=!0;break;case 5:null==i.value&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,A_(i)),n.items.push(u(e,i.value||"",!!h)),h&&(a(e,l_.USE_MODULO_SYNTAX,t.lastStartLoc,0,A_(i)),h=null);break;case 7:null==i.value&&o(e,d_.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,A_(i)),n.items.push(d(e,i.value||""));break;case 8:{const t=p(e);n.items.push(t.node),r=t.nextConsumeToken||null;break}}}while(14!==t.currentType&&1!==t.currentType);return s(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function f(e){const t=e.context(),{offset:n,startLoc:r}=t,a=h(e);return 14===t.currentType?a:function(e,t,n,r){const a=e.context();let c=0===r.items.length;const l=i(1,t,n);l.cases=[],l.cases.push(r);do{const t=h(e);c||(c=0===t.items.length),l.cases.push(t)}while(14!==a.currentType);return c&&o(e,d_.MUST_HAVE_MESSAGES_IN_PLURAL,n,0),s(l,e.currentOffset(),e.currentPosition()),l}(e,n,r,a)}return{parse:function(n){const r=R_(n,a_({},e)),a=r.context(),c=i(0,a.offset,a.startLoc);return t&&c.loc&&(c.loc.source=n),c.body=f(r),e.onCacheKey&&(c.cacheKey=e.onCacheKey(n)),14!==a.currentType&&o(r,d_.UNEXPECTED_LEXICAL_ANALYSIS,a.lastStartLoc,0,n[a.offset]||""),s(c,r.currentOffset(),r.currentPosition()),c}}}function A_(e){if(14===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function M_(e,t){for(let n=0;n<e.length;n++)w_(e[n],t)}function w_(e,t){switch(e.type){case 1:M_(e.cases,t),t.helper("plural");break;case 2:M_(e.items,t);break;case 6:w_(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function k_(e,t={}){const n=function(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:e=>(n.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&w_(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function L_(e){if(1===e.items.length){const t=e.items[0];3!==t.type&&9!==t.type||(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(3!==r.type&&9!==r.type)break;if(null==r.value)break;t.push(r.value)}if(t.length===e.items.length){e.static=c_(t);for(let t=0;t<e.items.length;t++){const n=e.items[t];3!==n.type&&9!==n.type||delete n.value}}}}const P_="minifier";function x_(e){switch(e.t=e.type,e.type){case 0:{const t=e;x_(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let e=0;e<n.length;e++)x_(n[e]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let e=0;e<n.length;e++)x_(n[e]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;x_(t.key),t.k=t.key,delete t.key,t.modifier&&(x_(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}default:throw h_(d_.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:P_,args:[e.type]})}delete e.type}const U_="parser";function D_(e,t){const{helper:n}=e;switch(t.type){case 0:!function(e,t){t.body?D_(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const o=t.cases.length;for(let n=0;n<o&&(D_(e,t.cases[n]),n!==o-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const o=t.items.length;for(let a=0;a<o&&(D_(e,t.items[a]),a!==o-1);a++)e.push(", ");e.deindent(r()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),D_(e,t.key),t.modifier?(e.push(", "),D_(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;default:throw h_(d_.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:U_,args:[t.type]})}}const B_=(e,t={})=>{const n=i_(t.mode)?t.mode:"normal",r=i_(t.filename)?t.filename:"message.intl",o=!!t.sourceMap,a=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",i=t.needIndent?t.needIndent:"arrow"!==n,s=e.helpers||[],c=function(e,t){const{sourceMap:n,filename:r,breakLineCode:o,needIndent:a}=t,i=!1!==t.location,s={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:o,needIndent:a,indentLevel:0};function c(e,t){s.code+=e}function l(e,t=!0){const n=t?o:"";c(a?n+"  ".repeat(e):n)}return i&&e.loc&&(s.source=e.loc.source),{context:()=>s,push:c,indent:function(e=!0){const t=++s.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--s.indentLevel;e&&l(t)},newline:function(){l(s.indentLevel)},helper:e=>`_${e}`,needIndent:()=>s.needIndent}}(e,{mode:n,filename:r,sourceMap:o,breakLineCode:a,needIndent:i});c.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(i),s.length>0&&(c.push(`const { ${c_(s.map((e=>`${e}: _${e}`)),", ")} } = ctx`),c.newline()),c.push("return "),D_(c,e),c.deindent(i),c.push("}"),delete e.helpers;const{code:l,map:u}=c.context();return{ast:e,code:l,map:u?u.toJSON():void 0}};function G_(e,t={}){const n=a_({},t),r=!!n.jit,o=!!n.minify,a=null==n.optimize||n.optimize,i=N_(n).parse(e);return r?(a&&function(e){const t=e.body;2===t.type?L_(t):t.cases.forEach((e=>L_(e)))}(i),o&&x_(i),{ast:i,code:""}):(k_(i,n),B_(i,n))}
/*!
  * core-base v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */const j_=[];j_[0]={w:[0],i:[3,0],"[":[4],o:[7]},j_[1]={w:[1],".":[2],"[":[4],o:[7]},j_[2]={w:[2],i:[3,0],0:[3,0]},j_[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},j_[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},j_[5]={"'":[4,0],o:8,l:[5,0]},j_[6]={'"':[4,0],o:8,l:[6,0]};const F_=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function H_(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function W_(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(n=t,F_.test(n)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var n}const V_=new Map;function $_(e,t){return zy(e)?e[t]:null}const q_=e=>e,z_=e=>"",K_="text",J_=e=>0===e.length?"":function(e,t=""){return e.reduce(((e,n,r)=>0===r?e+n:e+t+n),"")}(e),X_=e=>null==e?"":Wy(e)||Yy(e)&&e.toString===Jy?JSON.stringify(e,null,2):String(e);function Y_(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function Q_(e={}){const t=e.locale,n=function(e){const t=Ly(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(Ly(e.named.count)||Ly(e.named.n))?Ly(e.named.count)?e.named.count:Ly(e.named.n)?e.named.n:t:t}(e),r=zy(e.pluralRules)&&$y(t)&&Vy(e.pluralRules[t])?e.pluralRules[t]:Y_,o=zy(e.pluralRules)&&$y(t)&&Vy(e.pluralRules[t])?Y_:void 0,a=e.list||[],i=e.named||{};Ly(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,i);function s(t){const n=Vy(e.messages)?e.messages(t):!!zy(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):z_)}const c=Yy(e.processor)&&Vy(e.processor.normalize)?e.processor.normalize:J_,l=Yy(e.processor)&&Vy(e.processor.interpolate)?e.processor.interpolate:X_,u={list:e=>a[e],named:e=>i[e],plural:e=>e[r(n,e.length,o)],linked:(t,...n)=>{const[r,o]=n;let a="text",i="";1===n.length?zy(r)?(i=r.modifier||i,a=r.type||a):$y(r)&&(i=r||i):2===n.length&&($y(r)&&(i=r||i),$y(o)&&(a=o||a));const c=s(t)(u),l="vnode"===a&&Wy(c)&&i?c[0]:c;return i?(d=i,e.modifiers?e.modifiers[d]:q_)(l,a):l;var d},message:s,type:Yy(e.processor)&&$y(e.processor.type)?e.processor.type:K_,interpolate:l,normalize:c,values:Dy({},a,i)};return u}const Z_=l_.__EXTEND_POINT__,eE=Qy(Z_),tE={NOT_FOUND_KEY:Z_,FALLBACK_TO_TRANSLATE:eE(),CANNOT_FORMAT_NUMBER:eE(),FALLBACK_TO_NUMBER_FORMAT:eE(),CANNOT_FORMAT_DATE:eE(),FALLBACK_TO_DATE_FORMAT:eE(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:eE(),__EXTEND_POINT__:eE()},nE=d_.__EXTEND_POINT__,rE=Qy(nE),oE={INVALID_ARGUMENT:nE,INVALID_DATE_ARGUMENT:rE(),INVALID_ISO_DATE_ARGUMENT:rE(),NOT_SUPPORT_NON_STRING_MESSAGE:rE(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:rE(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:rE(),NOT_SUPPORT_LOCALE_TYPE:rE(),__EXTEND_POINT__:rE()};function aE(e){return h_(e,null,void 0)}function iE(e,t){return null!=t.locale?cE(t.locale):cE(e.locale)}let sE;function cE(e){if($y(e))return e;if(Vy(e)){if(e.resolvedOnce&&null!=sE)return sE;if("Function"===e.constructor.name){const t=e();if(Ky(t))throw aE(oE.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return sE=t}throw aE(oE.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}throw aE(oE.NOT_SUPPORT_LOCALE_TYPE)}function lE(e,t,n){return[...new Set([n,...Wy(t)?t:zy(t)?Object.keys(t):$y(t)?[t]:[n]])]}function uE(e,t,n){const r=$y(n)?n:gE,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let a=o.__localeChainCache.get(r);if(!a){a=[];let e=[n];for(;Wy(e);)e=dE(a,e,t);const i=Wy(t)||!Yy(t)?t:t.default?t.default:null;e=$y(i)?[i]:i,Wy(e)&&dE(a,e,!1),o.__localeChainCache.set(r,a)}return a}function dE(e,t,n){let r=!0;for(let o=0;o<t.length&&qy(r);o++){const a=t[o];$y(a)&&(r=pE(e,t[o],n))}return r}function pE(e,t,n){let r;const o=t.split("-");do{r=hE(e,o.join("-"),n),o.splice(-1,1)}while(o.length&&!0===r);return r}function hE(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const o=t.replace(/!/g,"");e.push(o),(Wy(n)||Yy(n))&&n[o]&&(r=n[o])}return r}const fE="9.13.1",mE=-1,gE="en-US",vE="",yE=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;let _E,EE,TE;function SE(e){_E=e}let OE=null;const RE=e=>{OE=e},bE=()=>OE;let IE=0;function CE(e={}){const t=Vy(e.onWarn)?e.onWarn:Zy,n=$y(e.version)?e.version:fE,r=$y(e.locale)||Vy(e.locale)?e.locale:gE,o=Vy(r)?gE:r,a=Wy(e.fallbackLocale)||Yy(e.fallbackLocale)||$y(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:o,i=Yy(e.messages)?e.messages:{[o]:{}},s=Yy(e.datetimeFormats)?e.datetimeFormats:{[o]:{}},c=Yy(e.numberFormats)?e.numberFormats:{[o]:{}},l=Dy({},e.modifiers||{},{upper:(e,t)=>"text"===t&&$y(e)?e.toUpperCase():"vnode"===t&&zy(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&$y(e)?e.toLowerCase():"vnode"===t&&zy(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&$y(e)?yE(e):"vnode"===t&&zy(e)&&"__v_isVNode"in e?yE(e.children):e}),u=e.pluralRules||{},d=Vy(e.missing)?e.missing:null,p=!qy(e.missingWarn)&&!xy(e.missingWarn)||e.missingWarn,h=!qy(e.fallbackWarn)&&!xy(e.fallbackWarn)||e.fallbackWarn,f=!!e.fallbackFormat,m=!!e.unresolving,g=Vy(e.postTranslation)?e.postTranslation:null,v=Yy(e.processor)?e.processor:null,y=!qy(e.warnHtmlMessage)||e.warnHtmlMessage,_=!!e.escapeParameter,E=Vy(e.messageCompiler)?e.messageCompiler:_E,T=Vy(e.messageResolver)?e.messageResolver:EE||$_,S=Vy(e.localeFallbacker)?e.localeFallbacker:TE||lE,O=zy(e.fallbackContext)?e.fallbackContext:void 0,R=e,b=zy(R.__datetimeFormatters)?R.__datetimeFormatters:new Map,I=zy(R.__numberFormatters)?R.__numberFormatters:new Map,C=zy(R.__meta)?R.__meta:{};IE++;const N={version:n,cid:IE,locale:r,fallbackLocale:a,messages:i,modifiers:l,pluralRules:u,missing:d,missingWarn:p,fallbackWarn:h,fallbackFormat:f,unresolving:m,postTranslation:g,processor:v,warnHtmlMessage:y,escapeParameter:_,messageCompiler:E,messageResolver:T,localeFallbacker:S,fallbackContext:O,onWarn:t,__meta:C};return N.datetimeFormats=s,N.numberFormats=c,N.__datetimeFormatters=b,N.__numberFormatters=I,N}function NE(e,t,n,r,o){const{missing:a,onWarn:i}=e;if(null!==a){const r=a(e,n,t,o);return $y(r)?r:t}return t}function AE(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function ME(e,t){const n=t.indexOf(e);if(-1===n)return!1;for(let a=n+1;a<t.length;a++)if(r=e,o=t[a],r!==o&&r.split("-")[0]===o.split("-")[0])return!0;var r,o;return!1}function wE(e){return t=>function(e,t){const n=t.b||t.body;if(1===(n.t||n.type)){const t=n,r=t.c||t.cases;return e.plural(r.reduce(((t,n)=>[...t,kE(e,n)]),[]))}return kE(e,n)}(t,e)}function kE(e,t){const n=t.s||t.static;if(n)return"text"===e.type?n:e.normalize([n]);{const n=(t.i||t.items).reduce(((t,n)=>[...t,LE(e,n)]),[]);return e.normalize(n)}}function LE(e,t){const n=t.t||t.type;switch(n){case 3:{const e=t;return e.v||e.value}case 9:{const e=t;return e.v||e.value}case 4:{const n=t;return e.interpolate(e.named(n.k||n.key))}case 5:{const n=t;return e.interpolate(e.list(null!=n.i?n.i:n.index))}case 6:{const n=t,r=n.m||n.modifier;return e.linked(LE(e,n.k||n.key),r?LE(e,r):void 0,e.type)}case 7:{const e=t;return e.v||e.value}case 8:{const e=t;return e.v||e.value}default:throw new Error(`unhandled node type on format message part: ${n}`)}}const PE=e=>e;let xE=Object.create(null);const UE=e=>zy(e)&&(0===e.t||0===e.type)&&("b"in e||"body"in e);function DE(e,t={}){let n=!1;const r=t.onError||f_;return t.onError=e=>{n=!0,r(e)},{...G_(e,t),detectError:n}}const BE=(e,t)=>{if(!$y(e))throw aE(oE.NOT_SUPPORT_NON_STRING_MESSAGE);{!qy(t.warnHtmlMessage)||t.warnHtmlMessage;const n=(t.onCacheKey||PE)(e),r=xE[n];if(r)return r;const{code:o,detectError:a}=DE(e,t),i=new Function(`return ${o}`)();return a?i:xE[n]=i}};const GE=()=>"",jE=e=>Vy(e);function FE(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:o,messageCompiler:a,fallbackLocale:i,messages:s}=e,[c,l]=VE(...t),u=qy(l.missingWarn)?l.missingWarn:e.missingWarn,d=qy(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,p=qy(l.escapeParameter)?l.escapeParameter:e.escapeParameter,h=!!l.resolvedMessage,f=$y(l.default)||qy(l.default)?qy(l.default)?a?c:()=>c:l.default:n?a?c:()=>c:"",m=n||""!==f,g=iE(e,l);p&&function(e){Wy(e.list)?e.list=e.list.map((e=>$y(e)?jy(e):e)):zy(e.named)&&Object.keys(e.named).forEach((t=>{$y(e.named[t])&&(e.named[t]=jy(e.named[t]))}))}(l);let[v,y,_]=h?[c,g,s[g]||{}]:HE(e,c,g,i,d,u),E=v,T=c;if(h||$y(E)||UE(E)||jE(E)||m&&(E=f,T=E),!(h||($y(E)||UE(E)||jE(E))&&$y(y)))return o?mE:c;let S=!1;const O=jE(E)?E:WE(e,c,y,E,T,(()=>{S=!0}));if(S)return E;const R=function(e,t,n,r){const{modifiers:o,pluralRules:a,messageResolver:i,fallbackLocale:s,fallbackWarn:c,missingWarn:l,fallbackContext:u}=e,d=r=>{let o=i(n,r);if(null==o&&u){const[,,e]=HE(u,r,t,s,c,l);o=i(e,r)}if($y(o)||UE(o)){let n=!1;const a=WE(e,r,t,o,r,(()=>{n=!0}));return n?GE:a}return jE(o)?o:GE},p={locale:t,modifiers:o,pluralRules:a,messages:d};e.processor&&(p.processor=e.processor);r.list&&(p.list=r.list);r.named&&(p.named=r.named);Ly(r.plural)&&(p.pluralIndex=r.plural);return p}(e,y,_,l),b=function(e,t,n){const r=t(n);return r}(0,O,Q_(R));return r?r(b,c):b}function HE(e,t,n,r,o,a){const{messages:i,onWarn:s,messageResolver:c,localeFallbacker:l}=e,u=l(e,r,n);let d,p={},h=null;for(let f=0;f<u.length&&(d=u[f],p=i[d]||{},null===(h=c(p,t))&&(h=p[t]),!($y(h)||UE(h)||jE(h)));f++)if(!ME(d,u)){const n=NE(e,t,d,0,"translate");n!==t&&(h=n)}return[h,d,p]}function WE(e,t,n,r,o,a){const{messageCompiler:i,warnHtmlMessage:s}=e;if(jE(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==i){const e=()=>r;return e.locale=n,e.key=t,e}const c=i(r,function(e,t,n,r,o,a){return{locale:t,key:n,warnHtmlMessage:o,onError:e=>{throw a&&a(e),e},onCacheKey:e=>wy(t,n,e)}}(0,n,o,0,s,a));return c.locale=n,c.key=t,c.source=r,c}function VE(...e){const[t,n,r]=e,o={};if(!($y(t)||Ly(t)||jE(t)||UE(t)))throw aE(oE.INVALID_ARGUMENT);const a=Ly(t)?String(t):(jE(t),t);return Ly(n)?o.plural=n:$y(n)?o.default=n:Yy(n)&&!Uy(n)?o.named=n:Wy(n)&&(o.list=n),Ly(r)?o.plural=r:$y(r)?o.default=r:Yy(r)&&Dy(o,r),[a,o]}function $E(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:a,localeFallbacker:i}=e,{__datetimeFormatters:s}=e,[c,l,u,d]=zE(...t);qy(u.missingWarn)?u.missingWarn:e.missingWarn;qy(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const p=!!u.part,h=iE(e,u),f=i(e,o,h);if(!$y(c)||""===c)return new Intl.DateTimeFormat(h,d).format(l);let m,g={},v=null;for(let E=0;E<f.length&&(m=f[E],g=n[m]||{},v=g[c],!Yy(v));E++)NE(e,c,m,0,"datetime format");if(!Yy(v)||!$y(m))return r?mE:c;let y=`${m}__${c}`;Uy(d)||(y=`${y}__${JSON.stringify(d)}`);let _=s.get(y);return _||(_=new Intl.DateTimeFormat(m,Dy({},v,d)),s.set(y,_)),p?_.formatToParts(l):_.format(l)}const qE=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function zE(...e){const[t,n,r,o]=e,a={};let i,s={};if($y(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw aE(oE.INVALID_ISO_DATE_ARGUMENT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();i=new Date(n);try{i.toISOString()}catch(c){throw aE(oE.INVALID_ISO_DATE_ARGUMENT)}}else if(Py(t)){if(isNaN(t.getTime()))throw aE(oE.INVALID_DATE_ARGUMENT);i=t}else{if(!Ly(t))throw aE(oE.INVALID_ARGUMENT);i=t}return $y(n)?a.key=n:Yy(n)&&Object.keys(n).forEach((e=>{qE.includes(e)?s[e]=n[e]:a[e]=n[e]})),$y(r)?a.locale=r:Yy(r)&&(s=r),Yy(o)&&(s=o),[a.key||"",i,a,s]}function KE(e,t,n){const r=e;for(const o in n){const e=`${t}__${o}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function JE(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:a,localeFallbacker:i}=e,{__numberFormatters:s}=e,[c,l,u,d]=YE(...t);qy(u.missingWarn)?u.missingWarn:e.missingWarn;qy(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const p=!!u.part,h=iE(e,u),f=i(e,o,h);if(!$y(c)||""===c)return new Intl.NumberFormat(h,d).format(l);let m,g={},v=null;for(let E=0;E<f.length&&(m=f[E],g=n[m]||{},v=g[c],!Yy(v));E++)NE(e,c,m,0,"number format");if(!Yy(v)||!$y(m))return r?mE:c;let y=`${m}__${c}`;Uy(d)||(y=`${y}__${JSON.stringify(d)}`);let _=s.get(y);return _||(_=new Intl.NumberFormat(m,Dy({},v,d)),s.set(y,_)),p?_.formatToParts(l):_.format(l)}const XE=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function YE(...e){const[t,n,r,o]=e,a={};let i={};if(!Ly(t))throw aE(oE.INVALID_ARGUMENT);const s=t;return $y(n)?a.key=n:Yy(n)&&Object.keys(n).forEach((e=>{XE.includes(e)?i[e]=n[e]:a[e]=n[e]})),$y(r)?a.locale=r:Yy(r)&&(i=r),Yy(o)&&(i=o),[a.key||"",s,a,i]}function QE(e,t,n){const r=e;for(const o in n){const e=`${t}__${o}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(Gy().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(Gy().__INTLIFY_DROP_MESSAGE_COMPILER__=!1);
/*!
  * vue-i18n v9.13.1
  * (c) 2024 kazuya kawaguchi
  * Released under the MIT License.
  */
const ZE="9.13.1";const eT=tE.__EXTEND_POINT__,tT=Qy(eT);tT(),tT(),tT(),tT(),tT(),tT(),tT(),tT(),tT();const nT=oE.__EXTEND_POINT__,rT=Qy(nT),oT={UNEXPECTED_RETURN_TYPE:nT,INVALID_ARGUMENT:rT(),MUST_BE_CALL_SETUP_TOP:rT(),NOT_INSTALLED:rT(),NOT_AVAILABLE_IN_LEGACY_MODE:rT(),REQUIRED_VALUE:rT(),INVALID_VALUE:rT(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:rT(),NOT_INSTALLED_WITH_PROVIDE:rT(),UNEXPECTED_ERROR:rT(),NOT_COMPATIBLE_LEGACY_VUE_I18N:rT(),BRIDGE_SUPPORT_VUE_2_ONLY:rT(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:rT(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:rT(),__EXTEND_POINT__:rT()};function aT(e,...t){return h_(e,null,void 0)}const iT=My("__translateVNode"),sT=My("__datetimeParts"),cT=My("__numberParts"),lT=My("__setPluralRules"),uT=My("__injectWithOption"),dT=My("__dispose");function pT(e){if(!zy(e))return e;for(const t in e)if(Hy(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let o=e,a=!1;for(let e=0;e<r;e++){if(n[e]in o||(o[n[e]]={}),!zy(o[n[e]])){a=!0;break}o=o[n[e]]}a||(o[n[r]]=e[t],delete e[t]),zy(o[n[r]])&&pT(o[n[r]])}else zy(e[t])&&pT(e[t]);return e}function hT(e,t){const{messages:n,__i18n:r,messageResolver:o,flatJson:a}=t,i=Yy(n)?n:Wy(r)?{}:{[e]:{}};if(Wy(r)&&r.forEach((e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(i[t]=i[t]||{},t_(n,i[t])):t_(n,i)}else $y(e)&&t_(JSON.parse(e),i)})),null==o&&a)for(const s in i)Hy(i,s)&&pT(i[s]);return i}function fT(e){return e.type}function mT(e,t,n){let r=zy(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=hT(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const o=Object.keys(r);if(o.length&&o.forEach((t=>{e.mergeLocaleMessage(t,r[t])})),zy(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach((n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if(zy(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach((n=>{e.mergeNumberFormat(n,t.numberFormats[n])}))}}function gT(e){return Fa(Ra,null,e,0)}const vT=()=>[],yT=()=>!1;let _T=0;function ET(e){return(t,n,r,o)=>e(n,r,Za()||void 0,o)}function TT(e={},t){const{__root:n,__injectWithOption:r}=e,o=void 0===n,a=e.flatJson,i=Ay?Vn:$n,s=!!e.translateExistCompatible;let c=!qy(e.inheritLocale)||e.inheritLocale;const l=i(n&&c?n.locale.value:$y(e.locale)?e.locale:gE),u=i(n&&c?n.fallbackLocale.value:$y(e.fallbackLocale)||Wy(e.fallbackLocale)||Yy(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:l.value),d=i(hT(l.value,e)),p=i(Yy(e.datetimeFormats)?e.datetimeFormats:{[l.value]:{}}),h=i(Yy(e.numberFormats)?e.numberFormats:{[l.value]:{}});let f=n?n.missingWarn:!qy(e.missingWarn)&&!xy(e.missingWarn)||e.missingWarn,m=n?n.fallbackWarn:!qy(e.fallbackWarn)&&!xy(e.fallbackWarn)||e.fallbackWarn,g=n?n.fallbackRoot:!qy(e.fallbackRoot)||e.fallbackRoot,v=!!e.fallbackFormat,y=Vy(e.missing)?e.missing:null,_=Vy(e.missing)?ET(e.missing):null,E=Vy(e.postTranslation)?e.postTranslation:null,T=n?n.warnHtmlMessage:!qy(e.warnHtmlMessage)||e.warnHtmlMessage,S=!!e.escapeParameter;const O=n?n.modifiers:Yy(e.modifiers)?e.modifiers:{};let R,b=e.pluralRules||n&&n.pluralRules;R=(()=>{o&&RE(null);const t={version:ZE,locale:l.value,fallbackLocale:u.value,messages:d.value,modifiers:O,pluralRules:b,missing:null===_?void 0:_,missingWarn:f,fallbackWarn:m,fallbackFormat:v,unresolving:!0,postTranslation:null===E?void 0:E,warnHtmlMessage:T,escapeParameter:S,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};t.datetimeFormats=p.value,t.numberFormats=h.value,t.__datetimeFormatters=Yy(R)?R.__datetimeFormatters:void 0,t.__numberFormatters=Yy(R)?R.__numberFormatters:void 0;const n=CE(t);return o&&RE(n),n})(),AE(R,l.value,u.value);const I=li({get:()=>l.value,set:e=>{l.value=e,R.locale=l.value}}),C=li({get:()=>u.value,set:e=>{u.value=e,R.fallbackLocale=u.value,AE(R,l.value,e)}}),N=li((()=>d.value)),A=li((()=>p.value)),M=li((()=>h.value));const w=(e,t,r,a,i,s)=>{let c;l.value,u.value,d.value,p.value,h.value;try{0,o||(R.fallbackContext=n?bE():void 0),c=e(R)}finally{o||(R.fallbackContext=void 0)}if("translate exists"!==r&&Ly(c)&&c===mE||"translate exists"===r&&!c){const[e,r]=t();return n&&g?a(n):i(e)}if(s(c))return c;throw aT(oT.UNEXPECTED_RETURN_TYPE)};function k(...e){return w((t=>Reflect.apply(FE,null,[t,...e])),(()=>VE(...e)),"translate",(t=>Reflect.apply(t.t,t,[...e])),(e=>e),(e=>$y(e)))}const L={normalize:function(e){return e.map((e=>$y(e)||Ly(e)||qy(e)?gT(String(e)):e))},interpolate:e=>e,type:"vnode"};function P(e){return d.value[e]||{}}_T++,n&&Ay&&(Br(n.locale,(e=>{c&&(l.value=e,R.locale=e,AE(R,l.value,u.value))})),Br(n.fallbackLocale,(e=>{c&&(u.value=e,R.fallbackLocale=e,AE(R,l.value,u.value))})));const x={id:_T,locale:I,fallbackLocale:C,get inheritLocale(){return c},set inheritLocale(e){c=e,e&&n&&(l.value=n.locale.value,u.value=n.fallbackLocale.value,AE(R,l.value,u.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:N,get modifiers(){return O},get pluralRules(){return b||{}},get isGlobal(){return o},get missingWarn(){return f},set missingWarn(e){f=e,R.missingWarn=f},get fallbackWarn(){return m},set fallbackWarn(e){m=e,R.fallbackWarn=m},get fallbackRoot(){return g},set fallbackRoot(e){g=e},get fallbackFormat(){return v},set fallbackFormat(e){v=e,R.fallbackFormat=v},get warnHtmlMessage(){return T},set warnHtmlMessage(e){T=e,R.warnHtmlMessage=e},get escapeParameter(){return S},set escapeParameter(e){S=e,R.escapeParameter=e},t:k,getLocaleMessage:P,setLocaleMessage:function(e,t){if(a){const n={[e]:t};for(const e in n)Hy(n,e)&&pT(n[e]);t=n[e]}d.value[e]=t,R.messages=d.value},mergeLocaleMessage:function(e,t){d.value[e]=d.value[e]||{};const n={[e]:t};if(a)for(const r in n)Hy(n,r)&&pT(n[r]);t_(t=n[e],d.value[e]),R.messages=d.value},getPostTranslationHandler:function(){return Vy(E)?E:null},setPostTranslationHandler:function(e){E=e,R.postTranslation=e},getMissingHandler:function(){return y},setMissingHandler:function(e){null!==e&&(_=ET(e)),y=e,R.missing=_},[lT]:function(e){b=e,R.pluralRules=b}};return x.datetimeFormats=A,x.numberFormats=M,x.rt=function(...e){const[t,n,r]=e;if(r&&!zy(r))throw aT(oT.INVALID_ARGUMENT);return k(t,n,Dy({resolvedMessage:!0},r||{}))},x.te=function(e,t){return w((()=>{if(!e)return!1;const n=P($y(t)?t:l.value),r=R.messageResolver(n,e);return s?null!=r:UE(r)||jE(r)||$y(r)}),(()=>[e]),"translate exists",(n=>Reflect.apply(n.te,n,[e,t])),yT,(e=>qy(e)))},x.tm=function(e){const t=function(e){let t=null;const n=uE(R,u.value,l.value);for(let r=0;r<n.length;r++){const o=d.value[n[r]]||{},a=R.messageResolver(o,e);if(null!=a){t=a;break}}return t}(e);return null!=t?t:n&&n.tm(e)||{}},x.d=function(...e){return w((t=>Reflect.apply($E,null,[t,...e])),(()=>zE(...e)),"datetime format",(t=>Reflect.apply(t.d,t,[...e])),(()=>vE),(e=>$y(e)))},x.n=function(...e){return w((t=>Reflect.apply(JE,null,[t,...e])),(()=>YE(...e)),"number format",(t=>Reflect.apply(t.n,t,[...e])),(()=>vE),(e=>$y(e)))},x.getDateTimeFormat=function(e){return p.value[e]||{}},x.setDateTimeFormat=function(e,t){p.value[e]=t,R.datetimeFormats=p.value,KE(R,e,t)},x.mergeDateTimeFormat=function(e,t){p.value[e]=Dy(p.value[e]||{},t),R.datetimeFormats=p.value,KE(R,e,t)},x.getNumberFormat=function(e){return h.value[e]||{}},x.setNumberFormat=function(e,t){h.value[e]=t,R.numberFormats=h.value,QE(R,e,t)},x.mergeNumberFormat=function(e,t){h.value[e]=Dy(h.value[e]||{},t),R.numberFormats=h.value,QE(R,e,t)},x[uT]=r,x[iT]=function(...e){return w((t=>{let n;const r=t;try{r.processor=L,n=Reflect.apply(FE,null,[r,...e])}finally{r.processor=null}return n}),(()=>VE(...e)),"translate",(t=>t[iT](...e)),(e=>[gT(e)]),(e=>Wy(e)))},x[sT]=function(...e){return w((t=>Reflect.apply($E,null,[t,...e])),(()=>zE(...e)),"datetime format",(t=>t[sT](...e)),vT,(e=>$y(e)||Wy(e)))},x[cT]=function(...e){return w((t=>Reflect.apply(JE,null,[t,...e])),(()=>YE(...e)),"number format",(t=>t[cT](...e)),vT,(e=>$y(e)||Wy(e)))},x}function ST(e={},t){{const t=TT(function(e){const t=$y(e.locale)?e.locale:gE,n=$y(e.fallbackLocale)||Wy(e.fallbackLocale)||Yy(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=Vy(e.missing)?e.missing:void 0,o=!qy(e.silentTranslationWarn)&&!xy(e.silentTranslationWarn)||!e.silentTranslationWarn,a=!qy(e.silentFallbackWarn)&&!xy(e.silentFallbackWarn)||!e.silentFallbackWarn,i=!qy(e.fallbackRoot)||e.fallbackRoot,s=!!e.formatFallbackMessages,c=Yy(e.modifiers)?e.modifiers:{},l=e.pluralizationRules,u=Vy(e.postTranslation)?e.postTranslation:void 0,d=!$y(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,p=!!e.escapeParameterHtml,h=!qy(e.sync)||e.sync;let f=e.messages;if(Yy(e.sharedMessages)){const t=e.sharedMessages;f=Object.keys(t).reduce(((e,n)=>{const r=e[n]||(e[n]={});return Dy(r,t[n]),e}),f||{})}const{__i18n:m,__root:g,__injectWithOption:v}=e,y=e.datetimeFormats,_=e.numberFormats,E=e.flatJson,T=e.translateExistCompatible;return{locale:t,fallbackLocale:n,messages:f,flatJson:E,datetimeFormats:y,numberFormats:_,missing:r,missingWarn:o,fallbackWarn:a,fallbackRoot:i,fallbackFormat:s,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:d,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:h,translateExistCompatible:T,__i18n:m,__root:g,__injectWithOption:v}}(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return qy(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=qy(e)?!e:e},get silentFallbackWarn(){return qy(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=qy(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[n,r,o]=e,a={};let i=null,s=null;if(!$y(n))throw aT(oT.INVALID_ARGUMENT);const c=n;return $y(r)?a.locale=r:Wy(r)?i=r:Yy(r)&&(s=r),Wy(o)?i=o:Yy(o)&&(s=o),Reflect.apply(t.t,t,[c,i||s||{},a])},rt:(...e)=>Reflect.apply(t.rt,t,[...e]),tc(...e){const[n,r,o]=e,a={plural:1};let i=null,s=null;if(!$y(n))throw aT(oT.INVALID_ARGUMENT);const c=n;return $y(r)?a.locale=r:Ly(r)?a.plural=r:Wy(r)?i=r:Yy(r)&&(s=r),$y(o)?a.locale=o:Wy(o)?i=o:Yy(o)&&(s=o),Reflect.apply(t.t,t,[c,i||s||{},a])},te:(e,n)=>t.te(e,n),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>Reflect.apply(t.d,t,[...e]),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>Reflect.apply(t.n,t,[...e]),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex:(e,t)=>-1};return r.__extender=n,r}}const OT={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function RT(e){return Oa}const bT=Qr({name:"i18n-t",props:Dy({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>Ly(e)||!isNaN(e)}},OT),setup(e,t){const{slots:n,attrs:r}=t,o=e.i18n||PT({useScope:e.scope,__useComponent:!0});return()=>{const a=Object.keys(n).filter((e=>"_"!==e)),i={};e.locale&&(i.locale=e.locale),void 0!==e.plural&&(i.plural=$y(e.plural)?+e.plural:e.plural);const s=function({slots:e},t){if(1===t.length&&"default"===t[0])return(e.default?e.default():[]).reduce(((e,t)=>[...e,...t.type===Oa?t.children:[t]]),[]);return t.reduce(((t,n)=>{const r=e[n];return r&&(t[n]=r()),t}),{})}(t,a),c=o[iT](e.keypath,s,i),l=Dy({},r);return ui($y(e.tag)||zy(e.tag)?e.tag:RT(),l,c)}}});function IT(e,t,n,r){const{slots:o,attrs:a}=t;return()=>{const t={part:!0};let i={};e.locale&&(t.locale=e.locale),$y(e.format)?t.key=e.format:zy(e.format)&&($y(e.format.key)&&(t.key=e.format.key),i=Object.keys(e.format).reduce(((t,r)=>n.includes(r)?Dy({},t,{[r]:e.format[r]}):t),{}));const s=r(e.value,t,i);let c=[t.key];Wy(s)?c=s.map(((e,t)=>{const n=o[e.type],r=n?n({[e.type]:e.value,index:t,parts:s}):[e.value];var a;return Wy(a=r)&&!$y(a[0])&&(r[0].key=`${e.type}-${t}`),r})):$y(s)&&(c=[s]);const l=Dy({},a);return ui($y(e.tag)||zy(e.tag)?e.tag:RT(),l,c)}}const CT=Qr({name:"i18n-n",props:Dy({value:{type:Number,required:!0},format:{type:[String,Object]}},OT),setup(e,t){const n=e.i18n||PT({useScope:e.scope,__useComponent:!0});return IT(e,t,XE,((...e)=>n[cT](...e)))}}),NT=Qr({name:"i18n-d",props:Dy({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},OT),setup(e,t){const n=e.i18n||PT({useScope:e.scope,__useComponent:!0});return IT(e,t,qE,((...e)=>n[sT](...e)))}});function AT(e){if($y(e))return{path:e};if(Yy(e)){if(!("path"in e))throw aT(oT.REQUIRED_VALUE);return e}throw aT(oT.INVALID_VALUE)}function MT(e){const{path:t,locale:n,args:r,choice:o,plural:a}=e,i={},s=r||{};return $y(n)&&(i.locale=n),Ly(o)&&(i.plural=o),Ly(a)&&(i.plural=a),[t,s,i]}function wT(e,t,...n){const r=Yy(n[0])?n[0]:{},o=!!r.useI18nComponentName;(!qy(r.globalInstall)||r.globalInstall)&&([o?"i18n":bT.name,"I18nT"].forEach((t=>e.component(t,bT))),[CT.name,"I18nN"].forEach((t=>e.component(t,CT))),[NT.name,"I18nD"].forEach((t=>e.component(t,NT)))),e.directive("t",function(e){const t=t=>{const{instance:n,modifiers:r,value:o}=t;if(!n||!n.$)throw aT(oT.UNEXPECTED_ERROR);const a=function(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}(e,n.$),i=AT(o);return[Reflect.apply(a.t,a,[...MT(i)]),a]};return{created:(n,r)=>{const[o,a]=t(r);Ay&&e.global===a&&(n.__i18nWatcher=Br(a.locale,(()=>{r.instance&&r.instance.$forceUpdate()}))),n.__composer=a,n.textContent=o},unmounted:e=>{Ay&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){const n=e.__composer,r=AT(t);e.textContent=Reflect.apply(n.t,n,[...MT(r)])}},getSSRProps:e=>{const[n]=t(e);return{textContent:n}}}}(t))}function kT(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[lT](t.pluralizationRules||e.pluralizationRules);const n=hT(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((t=>e.mergeLocaleMessage(t,n[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((n=>e.mergeNumberFormat(n,t.numberFormats[n]))),e}const LT=My("global-vue-i18n");function PT(e={}){const t=Za();if(null==t)throw aT(oT.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw aT(oT.NOT_INSTALLED);const n=function(e){{const t=xr(e.isCE?LT:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw aT(e.isCE?oT.NOT_INSTALLED_WITH_PROVIDE:oT.UNEXPECTED_ERROR);return t}}(t),r=function(e){return"composition"===e.mode?e.global:e.global.__composer}(n),o=fT(t),a=function(e,t){return Uy(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,o);if("legacy"===n.mode&&!e.__useComponent){if(!n.allowComposition)throw aT(oT.NOT_AVAILABLE_IN_LEGACY_MODE);return function(e,t,n,r={}){const o="local"===t,a=$n(null);if(o&&e.proxy&&!e.proxy.$options.i18n&&!e.proxy.$options.__i18n)throw aT(oT.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const i=qy(r.inheritLocale)?r.inheritLocale:!$y(r.locale),s=Vn(!o||i?n.locale.value:$y(r.locale)?r.locale:gE),c=Vn(!o||i?n.fallbackLocale.value:$y(r.fallbackLocale)||Wy(r.fallbackLocale)||Yy(r.fallbackLocale)||!1===r.fallbackLocale?r.fallbackLocale:s.value),l=Vn(hT(s.value,r)),u=Vn(Yy(r.datetimeFormats)?r.datetimeFormats:{[s.value]:{}}),d=Vn(Yy(r.numberFormats)?r.numberFormats:{[s.value]:{}}),p=o?n.missingWarn:!qy(r.missingWarn)&&!xy(r.missingWarn)||r.missingWarn,h=o?n.fallbackWarn:!qy(r.fallbackWarn)&&!xy(r.fallbackWarn)||r.fallbackWarn,f=o?n.fallbackRoot:!qy(r.fallbackRoot)||r.fallbackRoot,m=!!r.fallbackFormat,g=Vy(r.missing)?r.missing:null,v=Vy(r.postTranslation)?r.postTranslation:null,y=o?n.warnHtmlMessage:!qy(r.warnHtmlMessage)||r.warnHtmlMessage,_=!!r.escapeParameter,E=o?n.modifiers:Yy(r.modifiers)?r.modifiers:{},T=r.pluralRules||o&&n.pluralRules;function S(){return[s.value,c.value,l.value,u.value,d.value]}const O=li({get:()=>a.value?a.value.locale.value:s.value,set:e=>{a.value&&(a.value.locale.value=e),s.value=e}}),R=li({get:()=>a.value?a.value.fallbackLocale.value:c.value,set:e=>{a.value&&(a.value.fallbackLocale.value=e),c.value=e}}),b=li((()=>a.value?a.value.messages.value:l.value)),I=li((()=>u.value)),C=li((()=>d.value));function N(){return a.value?a.value.getPostTranslationHandler():v}function A(e){a.value&&a.value.setPostTranslationHandler(e)}function M(){return a.value?a.value.getMissingHandler():g}function w(e){a.value&&a.value.setMissingHandler(e)}function k(e){return S(),e()}function L(...e){return a.value?k((()=>Reflect.apply(a.value.t,null,[...e]))):k((()=>""))}function P(...e){return a.value?Reflect.apply(a.value.rt,null,[...e]):""}function x(...e){return a.value?k((()=>Reflect.apply(a.value.d,null,[...e]))):k((()=>""))}function U(...e){return a.value?k((()=>Reflect.apply(a.value.n,null,[...e]))):k((()=>""))}function D(e){return a.value?a.value.tm(e):{}}function B(e,t){return!!a.value&&a.value.te(e,t)}function G(e){return a.value?a.value.getLocaleMessage(e):{}}function j(e,t){a.value&&(a.value.setLocaleMessage(e,t),l.value[e]=t)}function F(e,t){a.value&&a.value.mergeLocaleMessage(e,t)}function H(e){return a.value?a.value.getDateTimeFormat(e):{}}function W(e,t){a.value&&(a.value.setDateTimeFormat(e,t),u.value[e]=t)}function V(e,t){a.value&&a.value.mergeDateTimeFormat(e,t)}function $(e){return a.value?a.value.getNumberFormat(e):{}}function q(e,t){a.value&&(a.value.setNumberFormat(e,t),d.value[e]=t)}function z(e,t){a.value&&a.value.mergeNumberFormat(e,t)}const K={get id(){return a.value?a.value.id:-1},locale:O,fallbackLocale:R,messages:b,datetimeFormats:I,numberFormats:C,get inheritLocale(){return a.value?a.value.inheritLocale:i},set inheritLocale(e){a.value&&(a.value.inheritLocale=e)},get availableLocales(){return a.value?a.value.availableLocales:Object.keys(l.value)},get modifiers(){return a.value?a.value.modifiers:E},get pluralRules(){return a.value?a.value.pluralRules:T},get isGlobal(){return!!a.value&&a.value.isGlobal},get missingWarn(){return a.value?a.value.missingWarn:p},set missingWarn(e){a.value&&(a.value.missingWarn=e)},get fallbackWarn(){return a.value?a.value.fallbackWarn:h},set fallbackWarn(e){a.value&&(a.value.missingWarn=e)},get fallbackRoot(){return a.value?a.value.fallbackRoot:f},set fallbackRoot(e){a.value&&(a.value.fallbackRoot=e)},get fallbackFormat(){return a.value?a.value.fallbackFormat:m},set fallbackFormat(e){a.value&&(a.value.fallbackFormat=e)},get warnHtmlMessage(){return a.value?a.value.warnHtmlMessage:y},set warnHtmlMessage(e){a.value&&(a.value.warnHtmlMessage=e)},get escapeParameter(){return a.value?a.value.escapeParameter:_},set escapeParameter(e){a.value&&(a.value.escapeParameter=e)},t:L,getPostTranslationHandler:N,setPostTranslationHandler:A,getMissingHandler:M,setMissingHandler:w,rt:P,d:x,n:U,tm:D,te:B,getLocaleMessage:G,setLocaleMessage:j,mergeLocaleMessage:F,getDateTimeFormat:H,setDateTimeFormat:W,mergeDateTimeFormat:V,getNumberFormat:$,setNumberFormat:q,mergeNumberFormat:z};function J(e){e.locale.value=s.value,e.fallbackLocale.value=c.value,Object.keys(l.value).forEach((t=>{e.mergeLocaleMessage(t,l.value[t])})),Object.keys(u.value).forEach((t=>{e.mergeDateTimeFormat(t,u.value[t])})),Object.keys(d.value).forEach((t=>{e.mergeNumberFormat(t,d.value[t])})),e.escapeParameter=_,e.fallbackFormat=m,e.fallbackRoot=f,e.fallbackWarn=h,e.missingWarn=p,e.warnHtmlMessage=y}return _o((()=>{if(null==e.proxy||null==e.proxy.$i18n)throw aT(oT.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const n=a.value=e.proxy.$i18n.__composer;"global"===t?(s.value=n.locale.value,c.value=n.fallbackLocale.value,l.value=n.messages.value,u.value=n.datetimeFormats.value,d.value=n.numberFormats.value):o&&J(n)})),K}(t,a,r,e)}if("global"===a)return mT(r,e,o),r;if("parent"===a){let o=function(e,t,n=!1){let r=null;const o=t.root;let a=function(e,t=!1){if(null==e)return null;return t&&e.vnode.ctx||e.parent}(t,n);for(;null!=a;){const t=e;if("composition"===e.mode)r=t.__getInstance(a);else{const e=t.__getInstance(a);null!=e&&(r=e.__composer,n&&r&&!r[uT]&&(r=null))}if(null!=r)break;if(o===a)break;a=a.parent}return r}(n,t,e.__useComponent);return null==o&&(o=r),o}const i=n;let s=i.__getInstance(t);if(null==s){const n=Dy({},e);"__i18n"in o&&(n.__i18n=o.__i18n),r&&(n.__root=r),s=TT(n),i.__composerExtend&&(s[dT]=i.__composerExtend(s)),function(e,t,n){Eo((()=>{}),t),Ro((()=>{const r=n;e.__deleteInstance(t);const o=r[dT];o&&(o(),delete r[dT])}),t)}(i,t,s),i.__setInstance(t,s)}return s}const xT=["locale","fallbackLocale","availableLocales"],UT=["t","rt","d","n","tm","te"];"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(Gy().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(Gy().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),__INTLIFY_JIT_COMPILATION__?SE((function(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&$y(e)){!qy(t.warnHtmlMessage)||t.warnHtmlMessage;const n=(t.onCacheKey||PE)(e),r=xE[n];if(r)return r;const{ast:o,detectError:a}=DE(e,{...t,location:!1,jit:!0}),i=wE(o);return a?i:xE[n]=i}{const t=e.cacheKey;if(t){return xE[t]||(xE[t]=wE(e))}return wE(e)}})):SE(BE),EE=function(e,t){if(!zy(e))return null;let n=V_.get(t);if(n||(n=function(e){const t=[];let n,r,o,a,i,s,c,l=-1,u=0,d=0;const p=[];function h(){const t=e[l+1];if(5===u&&"'"===t||6===u&&'"'===t)return l++,o="\\"+t,p[0](),!0}for(p[0]=()=>{void 0===r?r=o:r+=o},p[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},p[2]=()=>{p[0](),d++},p[3]=()=>{if(d>0)d--,u=4,p[0]();else{if(d=0,void 0===r)return!1;if(r=W_(r),!1===r)return!1;p[1]()}};null!==u;)if(l++,n=e[l],"\\"!==n||!h()){if(a=H_(n),c=j_[u],i=c[a]||c.l||8,8===i)return;if(u=i[0],void 0!==i[1]&&(s=p[i[1]],s&&(o=n,!1===s())))return;if(7===u)return t}}(t),n&&V_.set(t,n)),!n)return null;const r=n.length;let o=e,a=0;for(;a<r;){const e=o[n[a]];if(void 0===e)return null;if(Vy(o))return null;o=e,a++}return o},TE=uE;const DT={en:{appName:"EaseIM",loginUserIdPlaceholder:"Please enter EaseIM UserId",loginPasswordPlaceholder:"Please enter password",loginLoadingTitle:"Logging in...",image:"Image",audio:"Voice Message",video:"Video Message",file:"File",userCard:"Contact Card",videoBtn:"Video",custom:"Custom Message",combine:"Combine Messages",conversationSearchPlaceholder:"Search conversations",conversationEmptyTip:"No conversations yet, start chatting now~",deleteConv:"Delete Conversation",pinConv:"Pin Conversation",muteConv:"Mute Notifications",markRead:"Mark as Read",justNow:"Just Now",yesterday:"Yesterday",beforeYesterday:"The Day Before Yesterday",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",loadMore:"Load More",sendMessagePlaceholder:"Enter message...",imageUpload:"Image",videoUpload:"Video",about:"About",logout:"Log Out",groupList:"Group Chats",contact:"Contacts",addContact:"Add Friend",addGroup:"Join Group",searchPlaceholder:"Enter...",searchNoContact:"No results found",add:"Request",applyAddFriend:"Request to add you as a friend",agreedFriend:"Accepted your friend request",refusedFriend:"Declined your friend request",addedFriend:"Added you as a friend",deletedFriend:"Removed you as a friend",emptyNoticeTip:"No new notifications",contactNotice:"Friend Notifications",createGroup:"Create Group Chat",selectContactTip:"Select a contact",createGroupSuccess:"Group chat created successfully",contactDetail:"Contact Details",remark:"Remark",remarkPlaceholder:"Enter remark",editRemark:"Edit",deleteFriend:"Delete Friend",blockList:"Blocked List",sendMessage:"Send Message",deleteSuccess:"Deleted successfully",groupDetail:"Group Details",enterGroup:"Enter Group",destroyGroup:"Disband Group",destroyGroupSuccess:"Disbanded successfully",uploadFailed:"Upload failed",acceptFriend:"Accept",refuseFriend:"Decline",groupNamePlaceholder:"Enter group name",groupDescPlaceholder:"Enter group description",groupName:"Group Name",groupDesc:"Group Description",groupMember:"Group Members",cancel:"Cancel",groupNotice:"Group Notifications",publicGroup:"Public Group",privateGroup:"Private Group",requestSended:"Request sent successfully",joinedGroupNotice:"Joined the group successfully",destroyGroupNotice:"The group has been disbanded",groupDetailButton:"Group Details",owner:"Group Owner",inviteUser:"Invite to Group",removeUser:"Remove from Group",feedback:"Feedback",personalInfo:"Personal Info",personalSetting:"Personal Settings",avatar:"Avatar",nickname:"Nickname",nickNamePlaceholder:"Enter nickname",sign:"Signature",signPlaceholder:"Enter signature",edit:"Edit",updateUserInfo:"Update",newNoticeTip:"You have a new notification",viewAllGroupMembers:"View all group members",disabledAddSelf:"You cannot add yourself as a friend",alreadyContact:"Already a friend",loginPhoneIdPlaceholder:"Enter phone number",loginCodePlaceholder:"Enter verification code",sendCodeSuccess:"Verification code sent successfully",sendCode:"Send Code",telNumberError:"Enter a valid phone number!",sendCodeFrequent:"Too many requests, try again later",sendCodeReachLimit:"Verification code request limit reached",sendCodeFailed:"Failed to send verification code",loginFailed:"Login failed!",userIdOrPasswordError:"Incorrect username or password",codeError:"Incorrect verification code",codeIsEmpty:"Verification code cannot be empty",sendCodeFirst:"Please send the verification code first",privacyChecked:"Please agree to the privacy policy first",agreeTo:"Agree to",privacyPolicy:"Privacy Policy",login:"Login",easemob:"EaseIM",msyncUrl:"WebSocket URL",restUrl:"REST URL",appkey:"App Key",msyncUrlPlaceholder:"Enter WebSocket URL",restUrlPlaceholder:"Enter REST URL",appkeyPlaceholder:"Enter App Key",isUseCustomServer:"Use custom server",setting:"Settings",serverConfig:"Server Configuration",systemNotice:"System Notifications",holdToTalk:"Hold to talk",recording:"Recording...",loose:"Loose",sendAudio:"Send",recall:"Recall",recallNotice:"recalled a message",recallFailed:"Recall failed",audioDurationIsShort:"The audio duration is too short",leaveGroup:"Leave Group",leaveGroupSuccess:"Left the group successfully",group:"the group"},"zh-Hans":{appName:"EaseIM",loginUserIdPlaceholder:"UserId",loginPasswordPlaceholder:"",loginLoadingTitle:"...",image:"",audio:"",video:"",file:"",userCard:"",videoBtn:"",custom:"",combine:"",conversationSearchPlaceholder:"",conversationEmptyTip:"",deleteConv:"",pinConv:"",muteConv:"",markRead:"",justNow:"",yesterday:"",beforeYesterday:"",sunday:"",monday:"",tuesday:"",wednesday:"",thursday:"",friday:"",saturday:"",loadMore:"",sendMessagePlaceholder:"...",imageUpload:"",videoUpload:"",about:"",logout:"",groupList:"",contact:"",addContact:"",addGroup:"",searchPlaceholder:"...",searchNoContact:"",add:"",applyAddFriend:"",agreedFriend:"",refusedFriend:"",addedFriend:"",deletedFriend:"",emptyNoticeTip:"",contactNotice:"",createGroup:"",selectContactTip:"",createGroupSuccess:"",contactDetail:"",remark:"",remarkPlaceholder:"",editRemark:"",deleteFriend:"",blockList:"",sendMessage:"",deleteSuccess:"",groupDetail:"",enterGroup:"",destroyGroup:"",destroyGroupSuccess:"",uploadFailed:"",acceptFriend:"",refuseFriend:"",groupNamePlaceholder:"",groupDescPlaceholder:"",groupName:"",groupDesc:"",groupMember:"",cancel:"",groupNotice:"",publicGroup:"",privateGroup:"",requestSended:"",joinedGroupNotice:"",destroyGroupNotice:"",groupDetailButton:"",owner:"",inviteUser:"",removeUser:"",feedback:"",personalInfo:"",personalSetting:"",avatar:"",nickname:"",nickNamePlaceholder:"",sign:"",signPlaceholder:"",edit:"",updateUserInfo:"",newNoticeTip:"",viewAllGroupMembers:"",disabledAddSelf:"",alreadyContact:"",loginPhoneIdPlaceholder:"",loginCodePlaceholder:"",sendCodeSuccess:"",sendCode:"",telNumberError:"!",sendCodeFrequent:",",sendCodeReachLimit:"",sendCodeFailed:"",loginFailed:"!",userIdOrPasswordError:"",codeError:"",codeIsEmpty:"",sendCodeFirst:"",privacyChecked:"",agreeTo:"",privacyPolicy:"",login:"",easemob:"",msyncUrl:"WebSocket url",restUrl:"Reset url",appkey:"Appkey",msyncUrlPlaceholder:"WebSocket url",restUrlPlaceholder:"Reset url",appkeyPlaceholder:"Appkey",isUseCustomServer:"",setting:"",serverConfig:"",systemNotice:"",holdToTalk:" ",recording:"...",loose:"",sendAudio:"",recall:"",recallNotice:"",recallFailed:"",audioDurationIsShort:"",leaveGroup:"",leaveGroupSuccess:"",group:""}};const BT=function(e={},t){const n=!qy(e.legacy)||e.legacy,r=!qy(e.globalInjection)||e.globalInjection,o=!n||!!e.allowComposition,a=new Map,[i,s]=function(e,t,n){const r=Tt();{const n=t?r.run((()=>ST(e))):r.run((()=>TT(e)));if(null==n)throw aT(oT.UNEXPECTED_ERROR);return[r,n]}}(e,n),c=My("");{const e={get mode(){return n?"legacy":"composition"},get allowComposition(){return o},async install(t,...o){if(t.__VUE_I18N_SYMBOL__=c,t.provide(t.__VUE_I18N_SYMBOL__,e),Yy(o[0])){const t=o[0];e.__composerExtend=t.__composerExtend,e.__vueI18nExtend=t.__vueI18nExtend}let a=null;!n&&r&&(a=function(e,t){const n=Object.create(null);xT.forEach((e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw aT(oT.UNEXPECTED_ERROR);const o=Wn(r.value)?{get:()=>r.value.value,set(e){r.value.value=e}}:{get:()=>r.get&&r.get()};Object.defineProperty(n,e,o)})),e.config.globalProperties.$i18n=n,UT.forEach((n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw aT(oT.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${n}`,r)}));const r=()=>{delete e.config.globalProperties.$i18n,UT.forEach((t=>{delete e.config.globalProperties[`$${t}`]}))};return r}(t,e.global)),wT(t,e,...o),n&&t.mixin(function(e,t,n){return{beforeCreate(){const r=Za();if(!r)throw aT(oT.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const r=o.i18n;if(o.__i18n&&(r.__i18n=o.__i18n),r.__root=t,this===this.$root)this.$i18n=kT(e,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=ST(r);const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=kT(e,o);else{this.$i18n=ST({__i18n:o.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}else this.$i18n=e;o.__i18nGlobal&&mT(t,o,o),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const e=Za();if(!e)throw aT(oT.UNEXPECTED_ERROR);const t=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,t.__disposer&&(t.__disposer(),delete t.__disposer,delete t.__extender),n.__deleteInstance(e),delete this.$i18n}}}(s,s.__composer,e));const i=t.unmount;t.unmount=()=>{a&&a(),e.dispose(),i()}},get global(){return s},dispose(){i.stop()},__instances:a,__getInstance:function(e){return a.get(e)||null},__setInstance:function(e,t){a.set(e,t)},__deleteInstance:function(e){a.delete(e)}};return e}}({legacy:!1,locale:vp()||"en",messages:DT,globalInjection:!0}),GT=function(e,t=""){const n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(let r in n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},jT=function(e,t){let n=new Date,r=new Date(parseInt(e)),o=n.getFullYear(),a=n.getMonth()+1,i=n.getDate(),s=r.getFullYear(),c=r.getMonth()+1,l=r.getDate(),u="",d=t?" "+GT(r,"hh:mm"):"";if(o==s){let t=n.getTime()-e;if(a==c&&i==l)u=t<6e4?BT.global.t("justNow"):GT(r,"hh:mm");else{let e=new Date;e.setDate(e.getDate()-1);let n=new Date;if(n.setDate(n.getDate()-2),c==e.getMonth()+1&&l==e.getDate())u=BT.global.t("yesterday")+d;else if(c==n.getMonth()+1&&l==n.getDate())u=BT.global.t("beforeYesterday")+d;else{if(t/36e5<=168){let e=new Array(7);e[0]=BT.global.t("sunday"),e[1]=BT.global.t("monday"),e[2]=BT.global.t("tuesday"),e[3]=BT.global.t("wednesday"),e[4]=BT.global.t("thursday"),e[5]=BT.global.t("friday"),e[6]=BT.global.t("saturday"),u=e[r.getDay()]+d}else u=GT(r,"yyyy/M/d")+d}}}else u=GT(r,"yyyy/M/d")+d;return u},FT=Ey("appUser",(()=>{const e=Vn(new Map),t=Ny().getChatConn(),n=t=>{const n=e.value.get(t);return{name:(null==n?void 0:n.nickname)||t,nickname:null==n?void 0:n.nickname,avatar:(null==n?void 0:n.avatarurl)||"",sign:(null==n?void 0:n.sign)||""}};return{appUserInfo:e,getUserInfoFromStore:n,getUsersInfo:n=>{const{userIdList:r=[],withPresence:o=!0}=n;return new Promise(((n,o)=>{if(0===r.length)return void n({});const a=r.filter((t=>!e.value.has(t)));0!==a.length?t.fetchUserInfoById(a,["nickname","avatarurl","mail","phone","gender","sign","birth","ext"]).then((t=>{t.data&&Object.keys(t.data).forEach((n=>{var r;const o=(null==(r=t.data)?void 0:r[n])||{};e.value.set(n,o)})),n(t)})).catch((e=>{o(e)})):n({})}))},updateUserInfo:n=>t.updateUserInfo(n).then((n=>(e.value.set(t.user,n.data||{}),n))),getSelfUserInfo:()=>n(t.user),clear:()=>{e.value.clear()}}})),HT=Ey("contact",(()=>{const e=FT(),t=Vn([]),n=Vn({list:[],unReadCount:0}),r=Vn({}),o=Ny(),{getChatConn:a}=o,i=a(),{getUsersInfo:s}=e,c=(e,t=1)=>{const n=e,r=100*(t-1),o=100*t;s({userIdList:n.slice(r,o)}).then((()=>{n.length>o&&c(n,t+1)}))},l=e=>{const n=t.value.findIndex((t=>t.userId===e));-1!==n&&t.value.splice(n,1)};return{contacts:t,contactsNoticeInfo:n,viewedUserInfo:r,getContacts:()=>{i.getAllContacts().then((e=>{var n;e.data&&(c((null==(n=null==e?void 0:e.data)?void 0:n.map((e=>e.userId)))||[]),t.value=e.data)}))},addContact:e=>i.addContact(e,"apply join contact").then((e=>e)),deleteContact:e=>i.deleteContact(e).then((t=>(l(e),t))),addContactNotice:e=>{n.value.list.unshift(e),n.value.unReadCount++},declineContactInvite:e=>i.declineContactInvite(e).then((e=>e)),acceptContactInvite:e=>i.acceptContactInvite(e).then((e=>e)),addStoreContact:e=>{t.value.find((t=>t.userId===e.userId))||t.value.unshift(e)},setViewedUserInfo:e=>{r.value=e},setContactRemark:(e,n)=>i.setContactRemark({userId:e,remark:n}).then((r=>{const o=t.value.findIndex((t=>t.userId===e));return-1!==o&&(t.value[o].remark=n),r})),deepGetUserInfo:c,clearContactNoticeUnReadCount:()=>{n.value.unReadCount=0},clear:()=>{t.value=[],n.value={list:[],unReadCount:0},r.value={}}}})),WT=Ey("conversation",(()=>{const{getChatConn:e,getChatSDK:t}=Ny(),{deepGetUserInfo:n}=HT();let r=Vn(null);const o=e(),a=t(),i=Vn({pageSize:50,cursor:""}),s=Vn([]),c=()=>o.getServerConversations(i.value).then((e=>{var t,r,o;return(e=>{if(!Array.isArray(e))return console.error("Invalid parameter: conversations");let t=s.value.map((e=>e.conversationId)),r=e.filter((({conversationId:e})=>!t.find((t=>t===e))));const o=r.filter((e=>"singleChat"===e.conversationType)).map((e=>e.conversationId));n(o),r.forEach((e=>{s.value.push(e)}))})((null==(t=e.data)?void 0:t.conversations)||[]),i.value.cursor=null==(r=e.data)?void 0:r.cursor,(null==(o=e.data)?void 0:o.cursor)&&c(),e})),l=e=>{const t=s.value.find((t=>t.conversationId===e));if(t)return t};return{conversationList:s,conversationParams:i,currConversation:r,clear:()=>{s.value=[],i.value={pageSize:50,cursor:""},r.value=null},setConversationParams:e=>{i.value.cursor=e.cursor,i.value.pageSize=e.pageSize},getConversationList:c,deleteConversation:async(e,t)=>{if("object"!=typeof e)return console.error("Invalid parameter: conversation");await o.deleteConversation({channel:e.conversationId,chatType:e.conversationType,deleteRoam:t||!1}),(e=>{const t=s.value.findIndex((t=>t.conversationType==e.conversationType&&t.conversationId==e.conversationId));t>-1&&s.value.splice(t,1)})(e)},getConversationById:l,getConversationTime:e=>{if(!e)return"";const t=e.time;return t?jT(t):""},markConversationRead:async e=>{const t=a.message.create({type:"channel",chatType:e.conversationType,to:e.conversationId});await o.send(t);const n=l(e.conversationId);n&&(n.unReadCount=0)},setCurrentConversation:e=>{r.value=e?An(e):null},moveConversationTop:e=>{if(l(e.conversationId)){const t=s.value.findIndex((t=>t.conversationId===e.conversationId));t>-1&&(s.value.splice(t,1),s.value.unshift(e))}else s.value.unshift(e)},createConversation:(e,t,r)=>{const o={conversationId:e.conversationId,conversationType:e.conversationType,lastMessage:t,unReadCount:r||0};return"singleChat"===e.conversationType&&n([e.conversationId]),o},updateConversationLastMessage:(e,t,n)=>{const r=l(e.conversationId);r&&(r.lastMessage=t,r.unReadCount=n||0)},getCvsIdFromMessage:e=>{let t="";return t="groupChat"===e.chatType||"chatRoom"===e.chatType||e.from===o.user||""===e.from?e.to:e.from||"",t}}})),VT=Ey("message",(()=>{const{getChatConn:e}=Ny(),{getConversationById:t,createConversation:n,updateConversationLastMessage:r,moveConversationTop:o,getCvsIdFromMessage:a,markConversationRead:i}=WT(),s=Vn(new Map),c=Vn(new Map),l=e(),u=Vn(null),d=e=>{let t=a(e);if(c.value.has(t)){const n=c.value.get(t);n&&n.messages.push(e)}else;},p=(e,n)=>{var o,i;const l=s.value.get(e);if(l){const s=a(l),u=(null==(o=c.value.get(s))?void 0:o.messages.findIndex((t=>t.id===e)))||-1;if(u>-1&&(null==(i=c.value.get(s))||i.messages.splice(u,1,{...l,noticeInfo:{type:"notice",noticeType:"recall",ext:{isRecalled:!0,from:n}}})),"chatRoom"===l.chatType)return;const d=t(s);d&&r({conversationId:s,conversationType:l.chatType},null,d.unReadCount-1)}};return{messageMap:s,conversationMessagesMap:c,audioInstance:u,getHistoryMessages:async(t,n)=>{const r=await e().getHistoryMessages({targetId:t.conversationId,chatType:t.conversationType,pageSize:50,cursor:n||""});if(r.messages.forEach((e=>{s.value.set(e.id,e)})),c.value.has(t.conversationId)){const e=c.value.get(t.conversationId);e&&(e.messages.unshift(...r.messages.reverse()),e.cursor=r.cursor||"",e.isLast=r.isLast)}else c.value.set(t.conversationId,{messages:r.messages.reverse(),cursor:r.cursor||"",isLast:r.isLast})},insertMessage:d,sendMessage:i=>e().send(i).then((e=>{if("delivery"!==i.type&&"read"!==i.type&&"channel"!==i.type){if(e.message&&s.value.set(e.serverMsgId,e.message),d(e.message),"chatRoom"===i.chatType)return e;const c=a(i),l=t(c);l&&(r({conversationId:c,conversationType:i.chatType},i,l.unReadCount),o(l)),n({conversationId:c,conversationType:i.chatType},i,0)}return e})),onMessage:c=>{const{currConversation:l}=WT();if(s.value.set(c.id,c),d(c),"chatRoom"===c.chatType)return;const u=a(c),p=t(u);if(p)return r({conversationId:u,conversationType:c.chatType},c,c.from!==e().user?p.unReadCount+1:p.unReadCount),o(p),void((null==l?void 0:l.conversationId)===u&&i({conversationId:u,conversationType:c.chatType}));const h=n({conversationId:u,conversationType:c.chatType},c,c.from!==e().user?1:0);o(h)},onRecallMessage:p,setAudioInstance:e=>{u.value=e},recallMessage:t=>e().recallMessage(t).then((e=>(p(t.mid,l.user),e))),insertNoticeMessage:e=>{var t;const n=a(e);c.value.has(n)&&(null==(t=c.value.get(n))||t.messages.push(e))},clear:()=>{s.value.clear(),c.value.clear(),u.value=null}}})),$T="chat",qT="serverConfig",zT=Jm(qT)||{},KT=zT.isUseCustomServer||!1,JT=zT.appkey||"easemob#easeim",XT=zT.restUrl||"https://a1.easemob.com",YT=zT.url||"wss://im-api-wechat.easemob.com/websocket",QT=3,ZT=100,eS=e=>`https://a1-appserver.easemob.com/inside/app/user/${e}/avatar/upload`,tS=Ey("group",(()=>{const e=Vn([]),t=Vn(new Map),n=Vn({list:[],unReadCount:0}),r=FT(),{getUsersInfo:o}=r,a=Vn({}),{getChatConn:i}=Ny(),s=i(),c=Vn(!0),l=Vn({pageSize:20,pageNum:0,needAffiliations:!0,needRole:!0}),u=()=>{s.getJoinedGroups(l.value).then((e=>{e.entities&&(d(e.entities),e.entities.length<l.value.pageSize?c.value=!0:(l.value.pageNum++,u()))}))},d=t=>{let n=e.value.map((e=>e.groupId));t.filter((({groupId:e})=>!n.find((t=>t===e)))).forEach((t=>{e.value.push(t)}))},p=t=>{let n=e.value.findIndex((e=>e.groupId===t));-1!==n&&e.value.splice(n,1)};return{joinedGroupList:e,getJoinedGroupListParams:l,viewedGroupInfo:a,groupNoticeInfo:n,groupDetailMap:t,destroyGroup:e=>s.destroyGroup({groupId:e}).then((t=>(p(e),t))),setViewedGroupInfo:e=>{a.value=e},getJoinedGroupList:u,applyJoinGroup:e=>s.joinGroup({groupId:e,message:"apply join group"}).then((e=>e)),createGroup:t=>s.createGroup({...t}).then((n=>{var r;return e.value.unshift({groupId:(null==(r=null==n?void 0:n.data)?void 0:r.groupid)||"",groupName:t.data.groupname,role:"owner",disabled:!1,public:t.data.public}),n})),getGroupInfo:e=>s.getGroupInfo({groupId:e}).then((e=>{var n;return null==(n=e.data)||n.forEach((e=>{t.value.set(e.id,e);const n=e.affiliations.map((e=>e.member||e.owner)).slice(0,3);o({userIdList:n})})),e})),setJoinedGroupList:d,addGroupNotice:e=>{n.value.list.unshift(e),n.value.unReadCount++},removeStoreGroup:p,inviteJoinGroup:(e,t)=>s.inviteUsersToGroup({groupId:e,users:t}),removeUserFromGroup:(e,n)=>s.removeGroupMembers({groupId:e,users:n}).then((r=>(((e,n)=>{let r=t.value.get(e);r&&(r.affiliations=r.affiliations.filter((e=>!n.includes(e.member||e.owner))),r.affiliations_count=r.affiliations_count-n.length,t.value.set(e,r))})(e,n),r))),getGroupMembers:(e,t)=>s.listGroupMembers({groupId:e,pageNum:t,pageSize:100}).then((e=>(o({userIdList:e.data.map((e=>e.member||e.owner))||[]}),e))),clearGroupNoticeUnReadCount:()=>{n.value.unReadCount=0},leaveGroup:e=>s.leaveGroup({groupId:e}).then((t=>(p(e),t))),clear:()=>{e.value=[],n.value={list:[],unReadCount:0},t.value.clear(),a.value={}}}})),nS=Ey("block",(()=>{const e=Vn([]),t=Ny().getChatConn();return{blockList:e,blockUser:n=>t.addUsersToBlocklist({name:n}).then((t=>(e.value.unshift(n),t))),unBlockUser:n=>t.removeUserFromBlocklist({name:n}).then((t=>{const r=e.value.findIndex((e=>e===n));return-1!==r&&e.value.splice(r,1),t})),getBlockList:()=>{t.getBlocklist().then((t=>{e.value=t.data||[]}))},clear:()=>{e.value=[]}}})),rS=Ey("chat",(()=>{const{getChatConn:e,getChatSDK:t}=Ny(),{getConversationById:n,deleteConversation:r,getConversationList:o,clear:a}=WT(),{onMessage:i,clear:s,onRecallMessage:c,insertNoticeMessage:l}=VT(),u=HT(),{addContactNotice:d,addStoreContact:p,getContacts:h,clear:f}=u,{getJoinedGroupList:m,clear:g,addGroupNotice:v,getGroupInfo:y,setJoinedGroupList:_,removeStoreGroup:E}=tS(),{getBlockList:T,clear:S}=nS(),O=e(),R=t(),{getUsersInfo:b,clear:I}=FT(),C=Vn(!1);return C.value||(C.value=!0,O.addEventHandler("STORE_MULTI_DEVICE",{onMultiDeviceEvent:e=>{if("deleteConversation"===e.operation){let t=n(e.conversationId);t&&r(t)}}}),O.addEventHandler("STORE_MESSAGE",{onTextMessage:e=>{i(e)},onImageMessage:e=>{i(e)},onVideoMessage:e=>{i(e)},onAudioMessage:e=>{i(e)},onRecallMessage:e=>{c(e.mid,e.from)}}),O.addEventHandler("STORE_CONNECTION_STATE",{onConnected:()=>{Vg({icon:"none",title:"onConnected"})},onDisconnected:()=>{Vg({icon:"none",title:"onDisconnected"})},onReconnecting:()=>{Vg({icon:"none",title:"onReconnecting"})},onOnline:()=>{Vg({icon:"none",title:"onOnline"})},onOffline:()=>{Vg({icon:"none",title:"onOffline"})}}),O.addEventHandler("STORE_CONTACT",{onContactInvited:e=>{const t={...e,ext:"invited",time:(new Date).getTime()};d(t)},onContactAgreed:e=>{(new Date).getTime(),p({userId:e.from,remark:""})},onContactRefuse:e=>{const t={...e,ext:"refused",time:(new Date).getTime()};d(t)},onContactDeleted:e=>{const t={...e,ext:"deleted",time:(new Date).getTime()};d(t)},onContactAdded:e=>{const t={...e,ext:"added",time:(new Date).getTime()};p({userId:e.from,remark:""}),d(t)}}),O.addEventHandler("STORE_GROUP",{onGroupEvent:async e=>{var t;switch(e.operation){case"directJoined":case"create":case"acceptRequest":const n=null==(t=(await y(e.id)).data)?void 0:t[0];n&&_([{groupId:n.id,groupName:n.name,public:n.public,description:n.description,disabled:!0,allowInvites:n.allowinvites,maxUsers:n.maxusers,approval:n.membersonly}]);break;case"removeMember":case"destroy":E(e.id)}v({...e,time:(new Date).getTime()});const n=R.message.create({type:"txt",to:e.id,chatType:"groupChat",msg:""});n.noticeInfo={type:"notice",noticeType:"group",ext:{from:e.from,operation:e.operation}},l(n)}})),{conn:O,login:e=>O.open(e).then((t=>(o(),h(),m(),T(),b({userIdList:[e.user]}),t))),close:()=>(a(),s(),f(),g(),S(),I(),O.close()),getChatConn:e}})),oS=uy(),{initChatSDK:aS,getChatConn:iS}=Ny(oS);aS({appKey:JT,isHttpDNS:!1,url:YT,apiUrl:XT});const sS=iS();sS.addEventHandler("GROUP_EVENT",{onGroupEvent:e=>{switch(e.operation){case"acceptRequest":Vg({icon:"none",title:`${BT.global.t("joinedGroupNotice")}, id: ${e.id}`});break;case"destroy":Vg({icon:"none",title:`${BT.global.t("destroyGroupNotice")}, id: ${e.id}`})}}});const cS=Qr({__name:"App",setup:e=>(ty((()=>{console.log("App Launch"),Ny().setChatConn(sS),(async()=>{try{let e=await Xm({key:$T});if(e.data){Mg({url:"/pages/ConversationList/index"});const{userId:t,token:n}=e.data;await rS().login({user:t,accessToken:n})}}catch(e){Cg({url:"/pages/Login/index"}),console.log(e,"error")}})()})),Zv((()=>{console.log("App Show")})),ey((()=>{console.log("App Hide")})),()=>{})});_m(cS,{init:vm,setup(e){const t=kf(),n=()=>{var n;n=e,Object.keys(yp).forEach((e=>{yp[e].forEach((t=>{vo(e,t,n)}))}));const{onLaunch:r,onShow:o,onPageNotFound:a,onError:i}=e,s=function({path:e,query:t}){return l(Zp,{path:e,query:t}),l(eh,Zp),l({},Zp)}({path:t.path.slice(1)||__uniRoutes[0].meta.route,query:at(t.query)});if(r&&U(r,s),o&&U(o,s),!t.matched.length){const e={notFound:!0,openType:"appLaunch",path:t.path,query:{},scene:1001};a&&U(a,e)}i&&(e.appContext.config.errorHandler=e=>{U(i,e)})};return xr(Zc).isReady().then(n),Eo((()=>{window.addEventListener("resize",ct(Tm,50,{setTimeout:setTimeout,clearTimeout:clearTimeout})),window.addEventListener("message",Sm),document.addEventListener("visibilitychange",Om),function(){let e=null;try{e=window.matchMedia("(prefers-color-scheme: dark)")}catch(t){}if(e){let t=e=>{pv.emit(ye,{theme:e.matches?"dark":"light"})};e.addEventListener?e.addEventListener("change",t):e.addListener(t)}}()})),t.query},before(e){e.mpType="app";const{setup:t}=e,n=()=>(Aa(),Pa(uv));e.setup=(e,r)=>{const o=t&&t(e,r);return v(o)?n:o},e.render=n}}),function(){const e=ys(cS);return e.use(oS),e.use(BT),{app:e,Pinia:Ry}}().app.use(cm).mount("#app");export{gg as $,zg as A,ny as B,$T as C,Nm as D,FT as E,tS as F,li as G,WT as H,KT as I,Kn as J,HT as K,jT as L,La as M,Do as N,Oa as O,$e as P,$m as Q,qe as R,Ny as S,nS as T,pf as U,tg as V,Og as W,eS as X,sS as Y,Ym as Z,Ng as _,PT as a,wm as a0,VT as a1,Ro as a2,Br as a3,Eo as a4,hr as a5,sf as a6,hs as a7,xr as a8,XT as a9,yg as aa,df as ab,lf as ac,Yg as ad,Pr as ae,Rg as af,QT as ag,ZT as ah,YT as ai,JT as aj,qm as ak,qT as al,Fa as b,Pa as c,Qr as d,Wa as e,ja as f,Va as g,_g as h,ph as i,mf as j,gf as k,Mh as l,md as m,Ig as n,Aa as o,oh as p,ud as q,Vn as r,Vg as s,Z as t,rS as u,rh as v,Nr as w,qg as x,zm as y,Mg as z};
