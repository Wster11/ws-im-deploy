import{d as e,r as l,F as a,S as r,E as s,G as u,B as t,x as A,A as o,o as n,c as i,w as d,b as v,J as p,e as c,t as m,M as f,N as g,O as E,g as T,n as w,k as R,ag as F}from"./index-570604c4.js";import{A as V,d as _}from"./defaultAvatar.b2cfb2fc.js";import{d as U}from"./defaultGroupAvatar.4ee83176.js";import{_ as M}from"./_plugin-vue_export-helper.1b428a4d.js";const G=M(e({__name:"index",setup(e){const M=l(""),G=a(),k=r(),y=s(),{getUserInfoFromStore:h}=y,{getGroupInfo:x}=G,B=u((()=>G.groupDetailMap.get(M.value))),I=()=>{w({url:`/pages/InviteList/index?id=${M.value}&type=invite`})},b=()=>{w({url:`/pages/InviteList/index?id=${M.value}&type=remove`})},C=()=>{w({url:`/pages/GroupMemberList/index?id=${M.value}`})},D=u((()=>{var e;return(null==(e=B.value)?void 0:e.affiliations.slice(0,F))||[]})),S=u((()=>{var e;return(null==(e=B.value)?void 0:e.owner)===k.getChatConn().user}));return t((async e=>{try{A(),M.value=null==e?void 0:e.id,M.value&&await x(M.value),o()}catch(l){console.error(l),o()}})),(e,l)=>{var a;const r=R;return(null==(a=B.value)?void 0:a.id)?(n(),i(r,{key:0,class:"group-detail-wrap"},{default:d((()=>[v(r,{class:"group-base-wrap"},{default:d((()=>[v(V,{class:"group-avatar",src:"",placeholder:p(U)},null,8,["placeholder"]),v(r,null,{default:d((()=>[v(r,{class:"groupname"},{default:d((()=>{var e;return[c(m(null==(e=B.value)?void 0:e.name),1)]})),_:1}),v(r,{class:"group-id"},{default:d((()=>{var l,a;return[c("GroupId: "+m(null==(l=B.value)?void 0:l.id)+"（"+m((null==(a=B.value)?void 0:a.public)?e.$t("publicGroup"):e.$t("privateGroup"))+"）",1)]})),_:1})])),_:1})])),_:1}),v(r,{class:"group-member-wrap"},{default:d((()=>{var l;return[v(r,{class:"group-owner-wrap"},{default:d((()=>[v(r,{class:"label"},{default:d((()=>[c(m(e.$t("owner")),1)])),_:1}),v(r,null,{default:d((()=>{var e;return[c(m(p(h)(null==(e=B.value)?void 0:e.owner).name),1)]})),_:1})])),_:1}),v(r,{class:"member-count-wrap"},{default:d((()=>[v(r,{class:"label"},{default:d((()=>[c(m(e.$t("groupMember")),1)])),_:1}),v(r,{class:"member-count"},{default:d((()=>{var e;return[c(m(null==(e=B.value)?void 0:e.affiliations_count),1)]})),_:1})])),_:1}),v(r,{class:"member-items-wrap"},{default:d((()=>[(n(!0),f(E,null,g(D.value,(e=>(n(),i(r,{class:"member-item",key:e.joined_time},{default:d((()=>[v(V,{src:p(h)(e.owner||e.member).avatar,placeholder:p(_)},null,8,["src","placeholder"]),e.owner?(n(),i(r,{key:0,class:"user-name ellipsis"},{default:d((()=>[c(m(p(h)(e.owner).name),1)])),_:2},1024)):T("",!0),e.member?(n(),i(r,{key:1,class:"user-name ellipsis"},{default:d((()=>[c(m(p(h)(e.member).name),1)])),_:2},1024)):T("",!0)])),_:2},1024)))),128)),S.value?(n(),i(r,{key:0,class:"opt-item",onClick:I},{default:d((()=>[v(V,{src:"",placeholder:p("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAPFBMVEUAAABGUFZETlRETlVFT1RFT1RGUFVGUFZFUFJHUFBET1RETlRET1VFTlVETlRFTlRDTlNETVRETlVETlRdJj28AAAAE3RSTlMAIN+Av59AMGAQ7++vcM+QkFDPd7jWlwAAAQtJREFUSMftlN1uwyAMRjEYSEjSrjvv/66LkrVoKxBSadIuem5iBX/4B4N58xphnph06HUflR0rXf5i4ZTCA1cx4gDtyR9YNismuD3CWqkH8N+mA82mqwg+Idyrh+lYADxsC/KCIDrnFHT9SJfAkvv8NwLJKcWyYDxVtM1tlRytIfiAOZ+hHgsC97UIDK3RyCHw0Yy9w2fGS+d4Z4VnR8V0MsyJpIP5L8TFX+xWss5LPCzYTfzAemm5XylQl4Qtk+SXsLlIWOY9t1hpJisafv1UVoodvgEpFPaxZYVMcJHaUzg9r/j66IwWrqWLExuvoW3e5a7F1Igg+QnMKE388y6JKuV+SCOGinlzji/p1xrQ4pKsewAAAABJRU5ErkJggg==")},null,8,["placeholder"])])),_:1})):T("",!0),S.value?(n(),i(r,{key:1,class:"opt-item",onClick:b},{default:d((()=>[v(V,{src:"",placeholder:p("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAQlBMVEUAAABETlVGUFdETlRFT1RFT1RETlRET1RETlRFT1JGUFVET1RFUVNJUFZQUFBETlRGTVVETVRCUFY8UVBETlVETlQDnGWQAAAAFXRSTlMAgCDfv5/v75BgQK9fMBDPcFAwEM/I1YMnAAAAv0lEQVRIx+3TSw6DMAxFUWM74dd/+/a/1VaqBEQBO0Gq1AFnzNVjENNhj2GMiNpToYviS5hKsABVRcBMyTdg6V40UDfxSoLoB0jxruDRTLgoEEzkNwE3k4cfeAQJcnVY0tqn0ZOvSwd8z2v2vL0i4EuZCvVji1Z7+hfnW7gKPkTH25kclyYiIYGtzzus2E4GwSrZ+LETNp1oxR2oKjjCEDkLAkyddTgz85YdWdDCFLNAYQpZwGsT5imxsaFMh1pvIJUzdmPknuwAAAAASUVORK5CYII=")},null,8,["placeholder"])])),_:1})):T("",!0)])),_:1}),(null==(l=B.value)?void 0:l.affiliations_count)>p(F)?(n(),i(r,{key:0,class:"view-all-member",onClick:C},{default:d((()=>[c(m(e.$t("viewAllGroupMembers"))+" >",1)])),_:1})):T("",!0)]})),_:1}),v(r,{class:"group-desc-wrap"},{default:d((()=>[v(r,{class:"label"},{default:d((()=>[c(m(e.$t("groupDesc")),1)])),_:1}),v(r,{class:"desc"},{default:d((()=>{var e;return[c(m(null==(e=B.value)?void 0:e.description),1)]})),_:1})])),_:1})])),_:1})):T("",!0)}}}),[["__scopeId","data-v-17fc5832"]]);export{G as default};
